{
  "version": 3,
  "sources": ["../../oimo/build/oimo.module.js"],
  "sourcesContent": ["// Polyfills\r\n\r\nif ( Number.EPSILON === undefined ) {\r\n\r\n\tNumber.EPSILON = Math.pow( 2, - 52 );\r\n\r\n}\r\n\r\n//\r\n\r\nif ( Math.sign === undefined ) {\r\n\r\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/sign\r\n\r\n\tMath.sign = function ( x ) {\r\n\r\n\t\treturn ( x < 0 ) ? - 1 : ( x > 0 ) ? 1 : + x;\r\n\r\n\t};\r\n\r\n}\r\n\r\nif ( Function.prototype.name === undefined ) {\r\n\r\n\t// Missing in IE9-11.\r\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/name\r\n\r\n\tObject.defineProperty( Function.prototype, 'name', {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this.toString().match( /^\\s*function\\s*([^\\(\\s]*)/ )[ 1 ];\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\r\n}\r\n\r\nif ( Object.assign === undefined ) {\r\n\r\n\t// Missing in IE.\r\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\r\n\r\n\t( function () {\r\n\r\n\t\tObject.assign = function ( target ) {\r\n\r\n\t\t\t'use strict';\r\n\r\n\t\t\tif ( target === undefined || target === null ) {\r\n\r\n\t\t\t\tthrow new TypeError( 'Cannot convert undefined or null to object' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar output = Object( target );\r\n\r\n\t\t\tfor ( var index = 1; index < arguments.length; index ++ ) {\r\n\r\n\t\t\t\tvar source = arguments[ index ];\r\n\r\n\t\t\t\tif ( source !== undefined && source !== null ) {\r\n\r\n\t\t\t\t\tfor ( var nextKey in source ) {\r\n\r\n\t\t\t\t\t\tif ( Object.prototype.hasOwnProperty.call( source, nextKey ) ) {\r\n\r\n\t\t\t\t\t\t\toutput[ nextKey ] = source[ nextKey ];\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn output;\r\n\r\n\t\t};\r\n\r\n\t} )();\r\n\r\n}\n\n/*\r\n * A list of constants built-in for\r\n * the physics engine.\r\n */\r\n\r\nvar REVISION = '1.0.9';\r\n\r\n// BroadPhase\r\nvar BR_NULL = 0;\r\nvar BR_BRUTE_FORCE = 1;\r\nvar BR_SWEEP_AND_PRUNE = 2;\r\nvar BR_BOUNDING_VOLUME_TREE = 3;\r\n\r\n// Body type\r\nvar BODY_NULL = 0;\r\nvar BODY_DYNAMIC = 1;\r\nvar BODY_STATIC = 2;\r\nvar BODY_KINEMATIC = 3;\r\nvar BODY_GHOST = 4;\r\n\r\n// Shape type\r\nvar SHAPE_NULL = 0;\r\nvar SHAPE_SPHERE = 1;\r\nvar SHAPE_BOX = 2;\r\nvar SHAPE_CYLINDER = 3;\r\nvar SHAPE_PLANE = 4;\r\nvar SHAPE_PARTICLE = 5;\r\nvar SHAPE_TETRA = 6;\r\n\r\n// Joint type\r\nvar JOINT_NULL = 0;\r\nvar JOINT_DISTANCE = 1;\r\nvar JOINT_BALL_AND_SOCKET = 2;\r\nvar JOINT_HINGE = 3;\r\nvar JOINT_WHEEL = 4;\r\nvar JOINT_SLIDER = 5;\r\nvar JOINT_PRISMATIC = 6;\r\n\r\n// AABB aproximation\r\nvar AABB_PROX = 0.005;\n\nvar _Math = {\r\n\r\n    sqrt   : Math.sqrt,\r\n    abs    : Math.abs,\r\n    floor  : Math.floor,\r\n    cos    : Math.cos,\r\n    sin    : Math.sin,\r\n    acos   : Math.acos,\r\n    asin   : Math.asin,\r\n    atan2  : Math.atan2,\r\n    round  : Math.round,\r\n    pow    : Math.pow,\r\n    max    : Math.max,\r\n    min    : Math.min,\r\n    random : Math.random,\r\n\r\n    degtorad : 0.0174532925199432957,\r\n    radtodeg : 57.295779513082320876,\r\n    PI       : 3.141592653589793,\r\n    TwoPI    : 6.283185307179586,\r\n    PI90     : 1.570796326794896,\r\n    PI270    : 4.712388980384689,\r\n\r\n    INF      : Infinity,\r\n    EPZ      : 0.00001,\r\n    EPZ2      : 0.000001,\r\n\r\n    lerp: function ( x, y, t ) { \r\n\r\n        return ( 1 - t ) * x + t * y; \r\n\r\n    },\r\n\r\n    randInt: function ( low, high ) { \r\n\r\n        return low + _Math.floor( _Math.random() * ( high - low + 1 ) ); \r\n\r\n    },\r\n\r\n    rand: function ( low, high ) { \r\n\r\n        return low + _Math.random() * ( high - low ); \r\n\r\n    },\r\n    \r\n    generateUUID: function () {\r\n\r\n        // http://www.broofa.com/Tools/Math.uuid.htm\r\n\r\n        var chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split( '' );\r\n        var uuid = new Array( 36 );\r\n        var rnd = 0, r;\r\n\r\n        return function generateUUID() {\r\n\r\n            for ( var i = 0; i < 36; i ++ ) {\r\n\r\n                if ( i === 8 || i === 13 || i === 18 || i === 23 ) {\r\n\r\n                    uuid[ i ] = '-';\r\n\r\n                } else if ( i === 14 ) {\r\n\r\n                    uuid[ i ] = '4';\r\n\r\n                } else {\r\n\r\n                    if ( rnd <= 0x02 ) rnd = 0x2000000 + ( Math.random() * 0x1000000 ) | 0;\r\n                    r = rnd & 0xf;\r\n                    rnd = rnd >> 4;\r\n                    uuid[ i ] = chars[ ( i === 19 ) ? ( r & 0x3 ) | 0x8 : r ];\r\n\r\n                }\r\n\r\n            }\r\n\r\n            return uuid.join( '' );\r\n\r\n        };\r\n\r\n    }(),\r\n\r\n    int: function( x ) { \r\n\r\n        return _Math.floor(x); \r\n\r\n    },\r\n\r\n    fix: function( x, n ) { \r\n\r\n        return x.toFixed(n || 3, 10); \r\n\r\n    },\r\n\r\n    clamp: function ( value, min, max ) { \r\n\r\n        return _Math.max( min, _Math.min( max, value ) ); \r\n\r\n    },\r\n    \r\n    //clamp: function ( x, a, b ) { return ( x < a ) ? a : ( ( x > b ) ? b : x ); },\r\n\r\n    \r\n\r\n    distance: function( p1, p2 ){\r\n\r\n        var xd = p2[0]-p1[0];\r\n        var yd = p2[1]-p1[1];\r\n        var zd = p2[2]-p1[2];\r\n        return _Math.sqrt(xd*xd + yd*yd + zd*zd);\r\n\r\n    },\r\n\r\n    /*unwrapDegrees: function ( r ) {\r\n\r\n        r = r % 360;\r\n        if (r > 180) r -= 360;\r\n        if (r < -180) r += 360;\r\n        return r;\r\n\r\n    },\r\n\r\n    unwrapRadian: function( r ){\r\n\r\n        r = r % _Math.TwoPI;\r\n        if (r > _Math.PI) r -= _Math.TwoPI;\r\n        if (r < -_Math.PI) r += _Math.TwoPI;\r\n        return r;\r\n\r\n    },*/\r\n\r\n    acosClamp: function ( cos ) {\r\n\r\n        if(cos>1)return 0;\r\n        else if(cos<-1)return _Math.PI;\r\n        else return _Math.acos(cos);\r\n\r\n    },\r\n\r\n    distanceVector: function( v1, v2 ){\r\n\r\n        var xd = v1.x - v2.x;\r\n        var yd = v1.y - v2.y;\r\n        var zd = v1.z - v2.z;\r\n        return xd * xd + yd * yd + zd * zd;\r\n\r\n    },\r\n\r\n    dotVectors: function ( a, b ) {\r\n\r\n        return a.x * b.x + a.y * b.y + a.z * b.z;\r\n\r\n    },\r\n\r\n};\n\nfunction printError( clazz, msg ){\r\n    console.error(\"[OIMO] \" + clazz + \": \" + msg);\r\n}\r\n\r\n// A performance evaluator\r\n\r\nfunction InfoDisplay(world){\r\n\r\n    this.parent = world;\r\n\r\n    this.infos = new Float32Array( 13 );\r\n    this.f = [0,0,0];\r\n\r\n    this.times = [0,0,0,0];\r\n\r\n    this.broadPhase = this.parent.broadPhaseType;\r\n\r\n    this.version = REVISION;\r\n\r\n    this.fps = 0;\r\n\r\n    this.tt = 0;\r\n\r\n    this.broadPhaseTime = 0;\r\n    this.narrowPhaseTime = 0;\r\n    this.solvingTime = 0;\r\n    this.totalTime = 0;\r\n    this.updateTime = 0;\r\n\r\n    this.MaxBroadPhaseTime = 0;\r\n    this.MaxNarrowPhaseTime = 0;\r\n    this.MaxSolvingTime = 0;\r\n    this.MaxTotalTime = 0;\r\n    this.MaxUpdateTime = 0;\r\n}\r\n\r\nObject.assign( InfoDisplay.prototype, {\r\n\r\n    setTime: function(n){\r\n        this.times[ n || 0 ] = performance.now();\r\n    },\r\n\r\n    resetMax: function(){\r\n\r\n        this.MaxBroadPhaseTime = 0;\r\n        this.MaxNarrowPhaseTime = 0;\r\n        this.MaxSolvingTime = 0;\r\n        this.MaxTotalTime = 0;\r\n        this.MaxUpdateTime = 0;\r\n\r\n    },\r\n\r\n    calcBroadPhase: function () {\r\n\r\n        this.setTime( 2 );\r\n        this.broadPhaseTime = this.times[ 2 ] - this.times[ 1 ];\r\n\r\n    },\r\n\r\n    calcNarrowPhase: function () {\r\n\r\n        this.setTime( 3 );\r\n        this.narrowPhaseTime = this.times[ 3 ] - this.times[ 2 ];\r\n\r\n    },\r\n\r\n    calcEnd: function () {\r\n\r\n        this.setTime( 2 );\r\n        this.solvingTime = this.times[ 2 ] - this.times[ 1 ];\r\n        this.totalTime = this.times[ 2 ] - this.times[ 0 ];\r\n        this.updateTime = this.totalTime - ( this.broadPhaseTime + this.narrowPhaseTime + this.solvingTime );\r\n\r\n        if( this.tt === 100 ) this.resetMax();\r\n\r\n        if( this.tt > 100 ){\r\n            if( this.broadPhaseTime > this.MaxBroadPhaseTime ) this.MaxBroadPhaseTime = this.broadPhaseTime;\r\n            if( this.narrowPhaseTime > this.MaxNarrowPhaseTime ) this.MaxNarrowPhaseTime = this.narrowPhaseTime;\r\n            if( this.solvingTime > this.MaxSolvingTime ) this.MaxSolvingTime = this.solvingTime;\r\n            if( this.totalTime > this.MaxTotalTime ) this.MaxTotalTime = this.totalTime;\r\n            if( this.updateTime > this.MaxUpdateTime ) this.MaxUpdateTime = this.updateTime;\r\n        }\r\n\r\n\r\n        this.upfps();\r\n\r\n        this.tt ++;\r\n        if(this.tt > 500) this.tt = 0;\r\n\r\n    },\r\n\r\n\r\n    upfps : function(){\r\n        this.f[1] = Date.now();\r\n        if (this.f[1]-1000>this.f[0]){ this.f[0] = this.f[1]; this.fps = this.f[2]; this.f[2] = 0; } this.f[2]++;\r\n    },\r\n\r\n    show: function(){\r\n        var info =[\r\n            \"Oimo.js \"+this.version+\"<br>\",\r\n            this.broadPhase + \"<br><br>\",\r\n            \"FPS: \" + this.fps +\" fps<br><br>\",\r\n            \"rigidbody \"+this.parent.numRigidBodies+\"<br>\",\r\n            \"contact &nbsp;&nbsp;\"+this.parent.numContacts+\"<br>\",\r\n            \"ct-point &nbsp;\"+this.parent.numContactPoints+\"<br>\",\r\n            \"paircheck \"+this.parent.broadPhase.numPairChecks+\"<br>\",\r\n            \"island &nbsp;&nbsp;&nbsp;\"+this.parent.numIslands +\"<br><br>\",\r\n            \"Time in milliseconds<br><br>\",\r\n            \"broadphase &nbsp;\"+ _Math.fix(this.broadPhaseTime) + \" | \" + _Math.fix(this.MaxBroadPhaseTime) +\"<br>\",\r\n            \"narrowphase \"+ _Math.fix(this.narrowPhaseTime)  + \" | \" + _Math.fix(this.MaxNarrowPhaseTime) + \"<br>\",\r\n            \"solving &nbsp;&nbsp;&nbsp;&nbsp;\"+ _Math.fix(this.solvingTime)+ \" | \" + _Math.fix(this.MaxSolvingTime) + \"<br>\",\r\n            \"total &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\"+ _Math.fix(this.totalTime) + \" | \" + _Math.fix(this.MaxTotalTime) + \"<br>\",\r\n            \"updating &nbsp;&nbsp;&nbsp;\"+ _Math.fix(this.updateTime) + \" | \" + _Math.fix(this.MaxUpdateTime) + \"<br>\"\r\n        ].join(\"\\n\");\r\n        return info;\r\n    },\r\n\r\n    toArray: function(){\r\n        this.infos[0] = this.parent.broadPhase.types;\r\n        this.infos[1] = this.parent.numRigidBodies;\r\n        this.infos[2] = this.parent.numContacts;\r\n        this.infos[3] = this.parent.broadPhase.numPairChecks;\r\n        this.infos[4] = this.parent.numContactPoints;\r\n        this.infos[5] = this.parent.numIslands;\r\n        this.infos[6] = this.broadPhaseTime;\r\n        this.infos[7] = this.narrowPhaseTime;\r\n        this.infos[8] = this.solvingTime;\r\n        this.infos[9] = this.updateTime;\r\n        this.infos[10] = this.totalTime;\r\n        this.infos[11] = this.fps;\r\n        return this.infos;\r\n    }\r\n    \r\n});\n\nfunction Vec3 ( x, y, z ) {\n\n    this.x = x || 0;\n    this.y = y || 0;\n    this.z = z || 0;\n    \n}\n\nObject.assign( Vec3.prototype, {\n\n    Vec3: true,\n\n    set: function( x, y, z ){\n\n        this.x = x;\n        this.y = y;\n        this.z = z;\n        return this;\n\n    },\n\n    add: function ( a, b ) {\n\n        if ( b !== undefined ) return this.addVectors( a, b );\n\n        this.x += a.x;\n        this.y += a.y;\n        this.z += a.z;\n        return this;\n\n    },\n\n    addVectors: function ( a, b ) {\n\n        this.x = a.x + b.x;\n        this.y = a.y + b.y;\n        this.z = a.z + b.z;\n        return this;\n\n    },\n\n    addEqual: function ( v ) {\n\n        this.x += v.x;\n        this.y += v.y;\n        this.z += v.z;\n        return this;\n\n    },\n\n    sub: function ( a, b ) {\n\n        if ( b !== undefined ) return this.subVectors( a, b );\n\n        this.x -= a.x;\n        this.y -= a.y;\n        this.z -= a.z;\n        return this;\n\n    },\n\n    subVectors: function ( a, b ) {\n\n        this.x = a.x - b.x;\n        this.y = a.y - b.y;\n        this.z = a.z - b.z;\n        return this;\n\n    },\n\n    subEqual: function ( v ) {\n\n        this.x -= v.x;\n        this.y -= v.y;\n        this.z -= v.z;\n        return this;\n\n    },\n\n    scale: function ( v, s ) {\n\n        this.x = v.x * s;\n        this.y = v.y * s;\n        this.z = v.z * s;\n        return this;\n\n    },\n\n    scaleEqual: function( s ){\n\n        this.x *= s;\n        this.y *= s;\n        this.z *= s;\n        return this;\n\n    },\n\n    multiply: function( v ){\n\n        this.x *= v.x;\n        this.y *= v.y;\n        this.z *= v.z;\n        return this;\n\n    },\n\n    multiplyScalar: function( s ){\n\n        this.x *= s;\n        this.y *= s;\n        this.z *= s;\n        return this;\n\n    },\n\n    /*scaleV: function( v ){\n\n        this.x *= v.x;\n        this.y *= v.y;\n        this.z *= v.z;\n        return this;\n\n    },\n\n    scaleVectorEqual: function( v ){\n\n        this.x *= v.x;\n        this.y *= v.y;\n        this.z *= v.z;\n        return this;\n\n    },*/\n\n    addScaledVector: function ( v, s ) {\n\n        this.x += v.x * s;\n        this.y += v.y * s;\n        this.z += v.z * s;\n\n        return this;\n\n    },\n\n    subScaledVector: function ( v, s ) {\n\n        this.x -= v.x * s;\n        this.y -= v.y * s;\n        this.z -= v.z * s;\n\n        return this;\n\n    },\n\n    /*addTime: function ( v, t ) {\n\n        this.x += v.x * t;\n        this.y += v.y * t;\n        this.z += v.z * t;\n        return this;\n\n    },\n    \n    addScale: function ( v, s ) {\n\n        this.x += v.x * s;\n        this.y += v.y * s;\n        this.z += v.z * s;\n        return this;\n\n    },\n\n    subScale: function ( v, s ) {\n\n        this.x -= v.x * s;\n        this.y -= v.y * s;\n        this.z -= v.z * s;\n        return this;\n\n    },*/\n   \n    cross: function( a, b ) {\n\n        if ( b !== undefined ) return this.crossVectors( a, b );\n\n        var x = this.x, y = this.y, z = this.z;\n\n        this.x = y * a.z - z * a.y;\n        this.y = z * a.x - x * a.z;\n        this.z = x * a.y - y * a.x;\n\n        return this;\n\n    },\n\n    crossVectors: function ( a, b ) {\n\n        var ax = a.x, ay = a.y, az = a.z;\n        var bx = b.x, by = b.y, bz = b.z;\n\n        this.x = ay * bz - az * by;\n        this.y = az * bx - ax * bz;\n        this.z = ax * by - ay * bx;\n\n        return this;\n\n    },\n\n    tangent: function ( a ) {\n\n        var ax = a.x, ay = a.y, az = a.z;\n\n        this.x = ay * ax - az * az;\n        this.y = - az * ay - ax * ax;\n        this.z = ax * az + ay * ay;\n\n        return this;\n\n    },\n\n    \n\n    \n\n    invert: function ( v ) {\n\n        this.x=-v.x;\n        this.y=-v.y;\n        this.z=-v.z;\n        return this;\n\n    },\n\n    negate: function () {\n\n        this.x = - this.x;\n        this.y = - this.y;\n        this.z = - this.z;\n\n        return this;\n\n    },\n\n    dot: function ( v ) {\n\n        return this.x * v.x + this.y * v.y + this.z * v.z;\n\n    },\n\n    addition: function () {\n\n        return this.x + this.y + this.z;\n\n    },\n\n    lengthSq: function () {\n\n        return this.x * this.x + this.y * this.y + this.z * this.z;\n\n    },\n\n    length: function () {\n\n        return _Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z );\n\n    },\n\n    copy: function( v ){\n\n        this.x = v.x;\n        this.y = v.y;\n        this.z = v.z;\n        return this;\n\n    },\n\n    /*mul: function( b, a, m ){\n\n        return this.mulMat( m, a ).add( b );\n\n    },\n\n    mulMat: function( m, a ){\n\n        var e = m.elements;\n        var x = a.x, y = a.y, z = a.z;\n\n        this.x = e[ 0 ] * x + e[ 1 ] * y + e[ 2 ] * z;\n        this.y = e[ 3 ] * x + e[ 4 ] * y + e[ 5 ] * z;\n        this.z = e[ 6 ] * x + e[ 7 ] * y + e[ 8 ] * z;\n        return this;\n\n    },*/\n\n    applyMatrix3: function ( m, transpose ) {\n\n        //if( transpose ) m = m.clone().transpose();\n        var x = this.x, y = this.y, z = this.z;\n        var e = m.elements;\n\n        if( transpose ){\n            \n            this.x = e[ 0 ] * x + e[ 1 ] * y + e[ 2 ] * z;\n            this.y = e[ 3 ] * x + e[ 4 ] * y + e[ 5 ] * z;\n            this.z = e[ 6 ] * x + e[ 7 ] * y + e[ 8 ] * z;\n\n        } else {\n      \n            this.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ] * z;\n            this.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ] * z;\n            this.z = e[ 2 ] * x + e[ 5 ] * y + e[ 8 ] * z;\n        }\n\n        return this;\n\n    },\n\n    applyQuaternion: function ( q ) {\n\n        var x = this.x;\n        var y = this.y;\n        var z = this.z;\n\n        var qx = q.x;\n        var qy = q.y;\n        var qz = q.z;\n        var qw = q.w;\n\n        // calculate quat * vector\n\n        var ix =  qw * x + qy * z - qz * y;\n        var iy =  qw * y + qz * x - qx * z;\n        var iz =  qw * z + qx * y - qy * x;\n        var iw = - qx * x - qy * y - qz * z;\n\n        // calculate result * inverse quat\n\n        this.x = ix * qw + iw * - qx + iy * - qz - iz * - qy;\n        this.y = iy * qw + iw * - qy + iz * - qx - ix * - qz;\n        this.z = iz * qw + iw * - qz + ix * - qy - iy * - qx;\n\n        return this;\n\n    },\n\n    testZero: function () {\n\n        if(this.x!==0 || this.y!==0 || this.z!==0) return true;\n        else return false;\n\n    },\n\n    testDiff: function( v ){\n\n        return this.equals( v ) ? false : true;\n\n    },\n\n    equals: function ( v ) {\n\n        return v.x === this.x && v.y === this.y && v.z === this.z;\n\n    },\n\n    clone: function () {\n\n        return new this.constructor( this.x, this.y, this.z );\n\n    },\n\n    toString: function(){\n\n        return\"Vec3[\"+this.x.toFixed(4)+\", \"+this.y.toFixed(4)+\", \"+this.z.toFixed(4)+\"]\";\n        \n    },\n\n    multiplyScalar: function ( scalar ) {\n\n        if ( isFinite( scalar ) ) {\n            this.x *= scalar;\n            this.y *= scalar;\n            this.z *= scalar;\n        } else {\n            this.x = 0;\n            this.y = 0;\n            this.z = 0;\n        }\n\n        return this;\n\n    },\n\n    divideScalar: function ( scalar ) {\n\n        return this.multiplyScalar( 1 / scalar );\n\n    },\n\n    normalize: function () {\n\n        return this.divideScalar( this.length() );\n\n    },\n\n    toArray: function ( array, offset ) {\n\n        if ( offset === undefined ) offset = 0;\n\n        array[ offset ] = this.x;\n        array[ offset + 1 ] = this.y;\n        array[ offset + 2 ] = this.z;\n\n    },\n\n    fromArray: function( array, offset ){\n\n        if ( offset === undefined ) offset = 0;\n        \n        this.x = array[ offset ];\n        this.y = array[ offset + 1 ];\n        this.z = array[ offset + 2 ];\n        return this;\n\n    },\n\n\n} );\n\nfunction Quat ( x, y, z, w ){\n\n    this.x = x || 0;\n    this.y = y || 0;\n    this.z = z || 0;\n    this.w = ( w !== undefined ) ? w : 1;\n\n}\n\nObject.assign( Quat.prototype, {\n\n    Quat: true,\n\n    set: function ( x, y, z, w ) {\n\n        \n        this.x = x;\n        this.y = y;\n        this.z = z;\n        this.w = w;\n\n        return this;\n\n    },\n\n    addTime: function( v, t ){\n\n        var ax = v.x, ay = v.y, az = v.z;\n        var qw = this.w, qx = this.x, qy = this.y, qz = this.z;\n        t *= 0.5;    \n        this.x += t * (  ax*qw + ay*qz - az*qy );\n        this.y += t * (  ay*qw + az*qx - ax*qz );\n        this.z += t * (  az*qw + ax*qy - ay*qx );\n        this.w += t * ( -ax*qx - ay*qy - az*qz );\n        this.normalize();\n        return this;\n\n    },\n\n    /*mul: function( q1, q2 ){\n\n        var ax = q1.x, ay = q1.y, az = q1.z, as = q1.w,\n        bx = q2.x, by = q2.y, bz = q2.z, bs = q2.w;\n        this.x = ax * bs + as * bx + ay * bz - az * by;\n        this.y = ay * bs + as * by + az * bx - ax * bz;\n        this.z = az * bs + as * bz + ax * by - ay * bx;\n        this.w = as * bs - ax * bx - ay * by - az * bz;\n        return this;\n\n    },*/\n\n    multiply: function ( q, p ) {\n\n        if ( p !== undefined ) return this.multiplyQuaternions( q, p );\n        return this.multiplyQuaternions( this, q );\n\n    },\n\n    multiplyQuaternions: function ( a, b ) {\n\n        var qax = a.x, qay = a.y, qaz = a.z, qaw = a.w;\n        var qbx = b.x, qby = b.y, qbz = b.z, qbw = b.w;\n\n        this.x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n        this.y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n        this.z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n        this.w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n        return this;\n\n    },\n\n    setFromUnitVectors: function( v1, v2 ) {\n\n        var vx = new Vec3();\n        var r = v1.dot( v2 ) + 1;\n\n        if ( r < _Math.EPS2 ) {\n\n            r = 0;\n            if ( _Math.abs( v1.x ) > _Math.abs( v1.z ) ) vx.set( - v1.y, v1.x, 0 );\n            else vx.set( 0, - v1.z, v1.y );\n\n        } else {\n\n            vx.crossVectors( v1, v2 );\n\n        }\n\n        this._x = vx.x;\n        this._y = vx.y;\n        this._z = vx.z;\n        this._w = r;\n\n        return this.normalize();\n\n    },\n\n    arc: function( v1, v2 ){\n\n        var x1 = v1.x;\n        var y1 = v1.y;\n        var z1 = v1.z;\n        var x2 = v2.x;\n        var y2 = v2.y;\n        var z2 = v2.z;\n        var d = x1*x2 + y1*y2 + z1*z2;\n        if( d==-1 ){\n            x2 = y1*x1 - z1*z1;\n            y2 = -z1*y1 - x1*x1;\n            z2 = x1*z1 + y1*y1;\n            d = 1 / _Math.sqrt( x2*x2 + y2*y2 + z2*z2 );\n            this.w = 0;\n            this.x = x2*d;\n            this.y = y2*d;\n            this.z = z2*d;\n            return this;\n        }\n        var cx = y1*z2 - z1*y2;\n        var cy = z1*x2 - x1*z2;\n        var cz = x1*y2 - y1*x2;\n        this.w = _Math.sqrt( ( 1 + d) * 0.5 );\n        d = 0.5 / this.w;\n        this.x = cx * d;\n        this.y = cy * d;\n        this.z = cz * d;\n        return this;\n\n    },\n\n    normalize: function(){\n\n        var l = this.length();\n        if ( l === 0 ) {\n            this.set( 0, 0, 0, 1 );\n        } else {\n            l = 1 / l;\n            this.x = this.x * l;\n            this.y = this.y * l;\n            this.z = this.z * l;\n            this.w = this.w * l;\n        }\n        return this;\n\n    },\n\n    inverse: function () {\n\n        return this.conjugate().normalize();\n\n    },\n\n    invert: function ( q ) {\n\n        this.x = q.x;\n        this.y = q.y;\n        this.z = q.z;\n        this.w = q.w;\n        this.conjugate().normalize();\n        return this;\n\n    },\n\n    conjugate: function () {\n\n        this.x *= - 1;\n        this.y *= - 1;\n        this.z *= - 1;\n        return this;\n\n    },\n\n    length: function(){\n\n        return _Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w  );\n\n    },\n\n    lengthSq: function () {\n\n        return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n\n    },\n    \n    copy: function( q ){\n        \n        this.x = q.x;\n        this.y = q.y;\n        this.z = q.z;\n        this.w = q.w;\n        return this;\n\n    },\n\n    clone: function( q ){\n\n        return new Quat( this.x, this.y, this.z, this.w );\n\n    },\n\n    testDiff: function ( q ) {\n\n        return this.equals( q ) ? false : true;\n\n    },\n\n    equals: function ( q ) {\n\n        return this.x === q.x && this.y === q.y && this.z === q.z && this.w === q.w;\n\n    },\n\n    toString: function(){\n\n        return\"Quat[\"+this.x.toFixed(4)+\", (\"+this.y.toFixed(4)+\", \"+this.z.toFixed(4)+\", \"+this.w.toFixed(4)+\")]\";\n        \n    },\n\n    setFromEuler: function ( x, y, z ){\n\n        var c1 = Math.cos( x * 0.5 );\n        var c2 = Math.cos( y * 0.5 );\n        var c3 = Math.cos( z * 0.5 );\n        var s1 = Math.sin( x * 0.5 );\n        var s2 = Math.sin( y * 0.5 );\n        var s3 = Math.sin( z * 0.5 );\n\n        // XYZ\n        this.x = s1 * c2 * c3 + c1 * s2 * s3;\n        this.y = c1 * s2 * c3 - s1 * c2 * s3;\n        this.z = c1 * c2 * s3 + s1 * s2 * c3;\n        this.w = c1 * c2 * c3 - s1 * s2 * s3;\n\n        return this;\n\n    },\n    \n    setFromAxis: function ( axis, rad ) {\n\n        axis.normalize();\n        rad = rad * 0.5;\n        var s = _Math.sin( rad );\n        this.x = s * axis.x;\n        this.y = s * axis.y;\n        this.z = s * axis.z;\n        this.w = _Math.cos( rad );\n        return this;\n\n    },\n\n    setFromMat33: function ( m ) {\n\n        var trace = m[0] + m[4] + m[8];\n        var s;\n\n        if ( trace > 0 ) {\n\n            s = _Math.sqrt( trace + 1.0 );\n            this.w = 0.5 / s;\n            s = 0.5 / s;\n            this.x = ( m[5] - m[7] ) * s;\n            this.y = ( m[6] - m[2] ) * s;\n            this.z = ( m[1] - m[3] ) * s;\n\n        } else {\n\n            var out = [];\n            var i = 0;\n            if ( m[4] > m[0] ) i = 1;\n            if ( m[8] > m[i*3+i] ) i = 2;\n\n            var j = (i+1)%3;\n            var k = (i+2)%3;\n            \n            s = _Math.sqrt( m[i*3+i] - m[j*3+j] - m[k*3+k] + 1.0 );\n            out[i] = 0.5 * fRoot;\n            s = 0.5 / fRoot;\n            this.w = ( m[j*3+k] - m[k*3+j] ) * s;\n            out[j] = ( m[j*3+i] + m[i*3+j] ) * s;\n            out[k] = ( m[k*3+i] + m[i*3+k] ) * s;\n\n            this.x = out[1];\n            this.y = out[2];\n            this.z = out[3];\n\n        }\n\n        return this;\n\n    },\n\n    toArray: function ( array, offset ) {\n\n        offset = offset || 0;\n\n        array[ offset ] = this.x;\n        array[ offset + 1 ] = this.y;\n        array[ offset + 2 ] = this.z;\n        array[ offset + 3 ] = this.w;\n\n    },\n\n    fromArray: function( array, offset ){\n\n        offset = offset || 0;\n        this.set( array[ offset ], array[ offset + 1 ], array[ offset + 2 ], array[ offset + 3 ] );\n        return this;\n\n    }\n\n});\n\nfunction Mat33 ( e00, e01, e02, e10, e11, e12, e20, e21, e22 ){\r\n\r\n    this.elements = [\r\n        1, 0, 0,\r\n        0, 1, 0,\r\n        0, 0, 1\r\n    ];\r\n\r\n    if ( arguments.length > 0 ) {\r\n\r\n        console.error( 'OIMO.Mat33: the constructor no longer reads arguments. use .set() instead.' );\r\n\r\n    }\r\n\r\n}\r\n\r\nObject.assign( Mat33.prototype, {\r\n\r\n    Mat33: true,\r\n\r\n    set: function ( e00, e01, e02, e10, e11, e12, e20, e21, e22 ){\r\n\r\n        var te = this.elements;\r\n        te[0] = e00; te[1] = e01; te[2] = e02;\r\n        te[3] = e10; te[4] = e11; te[5] = e12;\r\n        te[6] = e20; te[7] = e21; te[8] = e22;\r\n        return this;\r\n\r\n    },\r\n    \r\n    add: function ( a, b ) {\r\n\r\n        if( b !== undefined ) return this.addMatrixs( a, b );\r\n\r\n        var e = this.elements, te = a.elements;\r\n        e[0] += te[0]; e[1] += te[1]; e[2] += te[2];\r\n        e[3] += te[3]; e[4] += te[4]; e[5] += te[5];\r\n        e[6] += te[6]; e[7] += te[7]; e[8] += te[8];\r\n        return this;\r\n\r\n    },\r\n\r\n    addMatrixs: function ( a, b ) {\r\n\r\n        var te = this.elements, tem1 = a.elements, tem2 = b.elements;\r\n        te[0] = tem1[0] + tem2[0]; te[1] = tem1[1] + tem2[1]; te[2] = tem1[2] + tem2[2];\r\n        te[3] = tem1[3] + tem2[3]; te[4] = tem1[4] + tem2[4]; te[5] = tem1[5] + tem2[5];\r\n        te[6] = tem1[6] + tem2[6]; te[7] = tem1[7] + tem2[7]; te[8] = tem1[8] + tem2[8];\r\n        return this;\r\n\r\n    },\r\n\r\n    addEqual: function( m ){\r\n\r\n        var te = this.elements, tem = m.elements;\r\n        te[0] += tem[0]; te[1] += tem[1]; te[2] += tem[2];\r\n        te[3] += tem[3]; te[4] += tem[4]; te[5] += tem[5];\r\n        te[6] += tem[6]; te[7] += tem[7]; te[8] += tem[8];\r\n        return this;\r\n\r\n    },\r\n\r\n    sub: function ( a, b ) {\r\n\r\n        if( b !== undefined ) return this.subMatrixs( a, b );\r\n\r\n        var e = this.elements, te = a.elements;\r\n        e[0] -= te[0]; e[1] -= te[1]; e[2] -= te[2];\r\n        e[3] -= te[3]; e[4] -= te[4]; e[5] -= te[5];\r\n        e[6] -= te[6]; e[7] -= te[7]; e[8] -= te[8];\r\n        return this;\r\n\r\n    },\r\n\r\n    subMatrixs: function ( a, b ) {\r\n\r\n        var te = this.elements, tem1 = a.elements, tem2 = b.elements;\r\n        te[0] = tem1[0] - tem2[0]; te[1] = tem1[1] - tem2[1]; te[2] = tem1[2] - tem2[2];\r\n        te[3] = tem1[3] - tem2[3]; te[4] = tem1[4] - tem2[4]; te[5] = tem1[5] - tem2[5];\r\n        te[6] = tem1[6] - tem2[6]; te[7] = tem1[7] - tem2[7]; te[8] = tem1[8] - tem2[8];\r\n        return this;\r\n\r\n    },\r\n\r\n    subEqual: function ( m ) {\r\n\r\n        var te = this.elements, tem = m.elements;\r\n        te[0] -= tem[0]; te[1] -= tem[1]; te[2] -= tem[2];\r\n        te[3] -= tem[3]; te[4] -= tem[4]; te[5] -= tem[5];\r\n        te[6] -= tem[6]; te[7] -= tem[7]; te[8] -= tem[8];\r\n        return this;\r\n\r\n    },\r\n\r\n    scale: function ( m, s ) {\r\n\r\n        var te = this.elements, tm = m.elements;\r\n        te[0] = tm[0] * s; te[1] = tm[1] * s; te[2] = tm[2] * s;\r\n        te[3] = tm[3] * s; te[4] = tm[4] * s; te[5] = tm[5] * s;\r\n        te[6] = tm[6] * s; te[7] = tm[7] * s; te[8] = tm[8] * s;\r\n        return this;\r\n\r\n    },\r\n\r\n    scaleEqual: function ( s ){// multiplyScalar\r\n\r\n        var te = this.elements;\r\n        te[0] *= s; te[1] *= s; te[2] *= s;\r\n        te[3] *= s; te[4] *= s; te[5] *= s;\r\n        te[6] *= s; te[7] *= s; te[8] *= s;\r\n        return this;\r\n\r\n    },\r\n\r\n    multiplyMatrices: function ( m1, m2, transpose ) {\r\n\r\n        if( transpose ) m2 = m2.clone().transpose();\r\n\r\n        var te = this.elements;\r\n        var tm1 = m1.elements;\r\n        var tm2 = m2.elements;\r\n\r\n        var a0 = tm1[0], a3 = tm1[3], a6 = tm1[6];\r\n        var a1 = tm1[1], a4 = tm1[4], a7 = tm1[7];\r\n        var a2 = tm1[2], a5 = tm1[5], a8 = tm1[8];\r\n\r\n        var b0 = tm2[0], b3 = tm2[3], b6 = tm2[6];\r\n        var b1 = tm2[1], b4 = tm2[4], b7 = tm2[7];\r\n        var b2 = tm2[2], b5 = tm2[5], b8 = tm2[8];\r\n\r\n        te[0] = a0*b0 + a1*b3 + a2*b6;\r\n        te[1] = a0*b1 + a1*b4 + a2*b7;\r\n        te[2] = a0*b2 + a1*b5 + a2*b8;\r\n        te[3] = a3*b0 + a4*b3 + a5*b6;\r\n        te[4] = a3*b1 + a4*b4 + a5*b7;\r\n        te[5] = a3*b2 + a4*b5 + a5*b8;\r\n        te[6] = a6*b0 + a7*b3 + a8*b6;\r\n        te[7] = a6*b1 + a7*b4 + a8*b7;\r\n        te[8] = a6*b2 + a7*b5 + a8*b8;\r\n\r\n        return this;\r\n\r\n    },\r\n\r\n    /*mul: function ( m1, m2, transpose ) {\r\n\r\n        if( transpose ) m2 = m2.clone().transpose();\r\n\r\n        var te = this.elements;\r\n        var tm1 = m1.elements;\r\n        var tm2 = m2.elements;\r\n        //var tmp;\r\n\r\n        var a0 = tm1[0], a3 = tm1[3], a6 = tm1[6];\r\n        var a1 = tm1[1], a4 = tm1[4], a7 = tm1[7];\r\n        var a2 = tm1[2], a5 = tm1[5], a8 = tm1[8];\r\n\r\n        var b0 = tm2[0], b3 = tm2[3], b6 = tm2[6];\r\n        var b1 = tm2[1], b4 = tm2[4], b7 = tm2[7];\r\n        var b2 = tm2[2], b5 = tm2[5], b8 = tm2[8];\r\n\r\n        /*if( transpose ){\r\n\r\n            tmp = b1; b1 = b3; b3 = tmp;\r\n            tmp = b2; b2 = b6; b6 = tmp;\r\n            tmp = b5; b5 = b7; b7 = tmp;\r\n\r\n        }\r\n\r\n        te[0] = a0*b0 + a1*b3 + a2*b6;\r\n        te[1] = a0*b1 + a1*b4 + a2*b7;\r\n        te[2] = a0*b2 + a1*b5 + a2*b8;\r\n        te[3] = a3*b0 + a4*b3 + a5*b6;\r\n        te[4] = a3*b1 + a4*b4 + a5*b7;\r\n        te[5] = a3*b2 + a4*b5 + a5*b8;\r\n        te[6] = a6*b0 + a7*b3 + a8*b6;\r\n        te[7] = a6*b1 + a7*b4 + a8*b7;\r\n        te[8] = a6*b2 + a7*b5 + a8*b8;\r\n\r\n        return this;\r\n\r\n    },*/\r\n\r\n    transpose: function ( m ) {\r\n        \r\n        if( m !== undefined ){\r\n            var a = m.elements;\r\n            this.set( a[0], a[3], a[6], a[1], a[4], a[7], a[2], a[5], a[8] );\r\n            return this;\r\n        }\r\n\r\n        var te = this.elements;\r\n        var a01 = te[1], a02 = te[2], a12 = te[5];\r\n        te[1] = te[3];\r\n        te[2] = te[6];\r\n        te[3] = a01;\r\n        te[5] = te[7];\r\n        te[6] = a02;\r\n        te[7] = a12;\r\n        return this;\r\n\r\n    },\r\n\r\n\r\n\r\n    /*mulScale: function ( m, sx, sy, sz, Prepend ) {\r\n\r\n        var prepend = Prepend || false;\r\n        var te = this.elements, tm = m.elements;\r\n        if(prepend){\r\n            te[0] = sx*tm[0]; te[1] = sx*tm[1]; te[2] = sx*tm[2];\r\n            te[3] = sy*tm[3]; te[4] = sy*tm[4]; te[5] = sy*tm[5];\r\n            te[6] = sz*tm[6]; te[7] = sz*tm[7]; te[8] = sz*tm[8];\r\n        }else{\r\n            te[0] = tm[0]*sx; te[1] = tm[1]*sy; te[2] = tm[2]*sz;\r\n            te[3] = tm[3]*sx; te[4] = tm[4]*sy; te[5] = tm[5]*sz;\r\n            te[6] = tm[6]*sx; te[7] = tm[7]*sy; te[8] = tm[8]*sz;\r\n        }\r\n        return this;\r\n\r\n    },\r\n\r\n    transpose: function ( m ) {\r\n\r\n        var te = this.elements, tm = m.elements;\r\n        te[0] = tm[0]; te[1] = tm[3]; te[2] = tm[6];\r\n        te[3] = tm[1]; te[4] = tm[4]; te[5] = tm[7];\r\n        te[6] = tm[2]; te[7] = tm[5]; te[8] = tm[8];\r\n        return this;\r\n\r\n    },*/\r\n\r\n    setQuat: function ( q ) {\r\n\r\n        var te = this.elements;\r\n        var x = q.x, y = q.y, z = q.z, w = q.w;\r\n        var x2 = x + x,  y2 = y + y, z2 = z + z;\r\n        var xx = x * x2, xy = x * y2, xz = x * z2;\r\n        var yy = y * y2, yz = y * z2, zz = z * z2;\r\n        var wx = w * x2, wy = w * y2, wz = w * z2;\r\n        \r\n        te[0] = 1 - ( yy + zz );\r\n        te[1] = xy - wz;\r\n        te[2] = xz + wy;\r\n\r\n        te[3] = xy + wz;\r\n        te[4] = 1 - ( xx + zz );\r\n        te[5] = yz - wx;\r\n\r\n        te[6] = xz - wy;\r\n        te[7] = yz + wx;\r\n        te[8] = 1 - ( xx + yy );\r\n\r\n        return this;\r\n\r\n    },\r\n\r\n    invert: function( m ) {\r\n\r\n        var te = this.elements, tm = m.elements,\r\n        a00 = tm[0], a10 = tm[3], a20 = tm[6],\r\n        a01 = tm[1], a11 = tm[4], a21 = tm[7],\r\n        a02 = tm[2], a12 = tm[5], a22 = tm[8],\r\n        b01 = a22 * a11 - a12 * a21,\r\n        b11 = -a22 * a10 + a12 * a20,\r\n        b21 = a21 * a10 - a11 * a20,\r\n        det = a00 * b01 + a01 * b11 + a02 * b21;\r\n\r\n        if ( det === 0 ) {\r\n            console.log( \"can't invert matrix, determinant is 0\");\r\n            return this.identity();\r\n        }\r\n\r\n        det = 1.0 / det;\r\n        te[0] = b01 * det;\r\n        te[1] = (-a22 * a01 + a02 * a21) * det;\r\n        te[2] = (a12 * a01 - a02 * a11) * det;\r\n        te[3] = b11 * det;\r\n        te[4] = (a22 * a00 - a02 * a20) * det;\r\n        te[5] = (-a12 * a00 + a02 * a10) * det;\r\n        te[6] = b21 * det;\r\n        te[7] = (-a21 * a00 + a01 * a20) * det;\r\n        te[8] = (a11 * a00 - a01 * a10) * det;\r\n        return this;\r\n\r\n    },\r\n\r\n    addOffset: function ( m, v ) {\r\n\r\n        var relX = v.x;\r\n        var relY = v.y;\r\n        var relZ = v.z;\r\n\r\n        var te = this.elements;\r\n        te[0] += m * ( relY * relY + relZ * relZ );\r\n        te[4] += m * ( relX * relX + relZ * relZ );\r\n        te[8] += m * ( relX * relX + relY * relY );\r\n        var xy = m * relX * relY;\r\n        var yz = m * relY * relZ;\r\n        var zx = m * relZ * relX;\r\n        te[1] -= xy;\r\n        te[3] -= xy;\r\n        te[2] -= yz;\r\n        te[6] -= yz;\r\n        te[5] -= zx;\r\n        te[7] -= zx;\r\n        return this;\r\n\r\n    },\r\n\r\n    subOffset: function ( m, v ) {\r\n\r\n        var relX = v.x;\r\n        var relY = v.y;\r\n        var relZ = v.z;\r\n\r\n        var te = this.elements;\r\n        te[0] -= m * ( relY * relY + relZ * relZ );\r\n        te[4] -= m * ( relX * relX + relZ * relZ );\r\n        te[8] -= m * ( relX * relX + relY * relY );\r\n        var xy = m * relX * relY;\r\n        var yz = m * relY * relZ;\r\n        var zx = m * relZ * relX;\r\n        te[1] += xy;\r\n        te[3] += xy;\r\n        te[2] += yz;\r\n        te[6] += yz;\r\n        te[5] += zx;\r\n        te[7] += zx;\r\n        return this;\r\n\r\n    },\r\n\r\n    // OK \r\n\r\n    multiplyScalar: function ( s ) {\r\n\r\n        var te = this.elements;\r\n\r\n        te[ 0 ] *= s; te[ 3 ] *= s; te[ 6 ] *= s;\r\n        te[ 1 ] *= s; te[ 4 ] *= s; te[ 7 ] *= s;\r\n        te[ 2 ] *= s; te[ 5 ] *= s; te[ 8 ] *= s;\r\n\r\n        return this;\r\n\r\n    },\r\n\r\n    identity: function () {\r\n\r\n        this.set( 1, 0, 0, 0, 1, 0, 0, 0, 1 );\r\n        return this;\r\n\r\n    },\r\n\r\n\r\n    clone: function () {\r\n\r\n        return new Mat33().fromArray( this.elements );\r\n\r\n    },\r\n\r\n    copy: function ( m ) {\r\n\r\n        for ( var i = 0; i < 9; i ++ ) this.elements[ i ] = m.elements[ i ];\r\n        return this;\r\n\r\n    },\r\n\r\n    determinant: function () {\r\n\r\n        var te = this.elements;\r\n        var a = te[ 0 ], b = te[ 1 ], c = te[ 2 ],\r\n            d = te[ 3 ], e = te[ 4 ], f = te[ 5 ],\r\n            g = te[ 6 ], h = te[ 7 ], i = te[ 8 ];\r\n\r\n        return a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\r\n\r\n    },\r\n\r\n    fromArray: function ( array, offset ) {\r\n\r\n        if ( offset === undefined ) offset = 0;\r\n\r\n        for( var i = 0; i < 9; i ++ ) {\r\n\r\n            this.elements[ i ] = array[ i + offset ];\r\n\r\n        }\r\n\r\n        return this;\r\n\r\n    },\r\n\r\n    toArray: function ( array, offset ) {\r\n\r\n        if ( array === undefined ) array = [];\r\n        if ( offset === undefined ) offset = 0;\r\n\r\n        var te = this.elements;\r\n\r\n        array[ offset ] = te[ 0 ];\r\n        array[ offset + 1 ] = te[ 1 ];\r\n        array[ offset + 2 ] = te[ 2 ];\r\n\r\n        array[ offset + 3 ] = te[ 3 ];\r\n        array[ offset + 4 ] = te[ 4 ];\r\n        array[ offset + 5 ] = te[ 5 ];\r\n\r\n        array[ offset + 6 ] = te[ 6 ];\r\n        array[ offset + 7 ] = te[ 7 ];\r\n        array[ offset + 8 ] = te[ 8 ];\r\n\r\n        return array;\r\n\r\n    }\r\n\r\n\r\n} );\n\n/**\r\n * An axis-aligned bounding box.\r\n *\r\n * @author saharan\r\n * @author lo-th\r\n */\r\n\r\nfunction AABB( minX, maxX, minY, maxY, minZ, maxZ ){\r\n\r\n    this.elements = new Float32Array( 6 );\r\n    var te = this.elements;\r\n\r\n    te[0] = minX || 0; te[1] = minY || 0; te[2] = minZ || 0;\r\n    te[3] = maxX || 0; te[4] = maxY || 0; te[5] = maxZ || 0;\r\n\r\n}\r\n\r\nObject.assign( AABB.prototype, {\r\n\r\n\tAABB: true,\r\n\r\n\tset: function(minX, maxX, minY, maxY, minZ, maxZ){\r\n\r\n\t\tvar te = this.elements;\r\n\t\tte[0] = minX;\r\n\t\tte[3] = maxX;\r\n\t\tte[1] = minY;\r\n\t\tte[4] = maxY;\r\n\t\tte[2] = minZ;\r\n\t\tte[5] = maxZ;\r\n\t\treturn this;\r\n\t},\r\n\r\n\tintersectTest: function ( aabb ) {\r\n\r\n\t\tvar te = this.elements;\r\n\t\tvar ue = aabb.elements;\r\n\t\treturn te[0] > ue[3] || te[1] > ue[4] || te[2] > ue[5] || te[3] < ue[0] || te[4] < ue[1] || te[5] < ue[2] ? true : false;\r\n\r\n\t},\r\n\r\n\tintersectTestTwo: function ( aabb ) {\r\n\r\n\t\tvar te = this.elements;\r\n\t\tvar ue = aabb.elements;\r\n\t\treturn te[0] < ue[0] || te[1] < ue[1] || te[2] < ue[2] || te[3] > ue[3] || te[4] > ue[4] || te[5] > ue[5] ? true : false;\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor().fromArray( this.elements );\r\n\r\n\t},\r\n\r\n\tcopy: function ( aabb, margin ) {\r\n\r\n\t\tvar m = margin || 0;\r\n\t\tvar me = aabb.elements;\r\n\t\tthis.set( me[ 0 ]-m, me[ 3 ]+m, me[ 1 ]-m, me[ 4 ]+m, me[ 2 ]-m, me[ 5 ]+m );\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tfromArray: function ( array ) {\r\n\r\n\t\tthis.elements.set( array );\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\t// Set this AABB to the combined AABB of aabb1 and aabb2.\r\n\r\n\tcombine: function( aabb1, aabb2 ) {\r\n\r\n\t\tvar a = aabb1.elements;\r\n\t\tvar b = aabb2.elements;\r\n\t\tvar te = this.elements;\r\n\r\n\t\tte[0] = a[0] < b[0] ? a[0] : b[0];\r\n\t\tte[1] = a[1] < b[1] ? a[1] : b[1];\r\n\t\tte[2] = a[2] < b[2] ? a[2] : b[2];\r\n\r\n\t\tte[3] = a[3] > b[3] ? a[3] : b[3];\r\n\t\tte[4] = a[4] > b[4] ? a[4] : b[4];\r\n\t\tte[5] = a[5] > b[5] ? a[5] : b[5];\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\r\n\t// Get the surface area.\r\n\r\n\tsurfaceArea: function () {\r\n\r\n\t\tvar te = this.elements;\r\n\t\tvar a = te[3] - te[0];\r\n\t\tvar h = te[4] - te[1];\r\n\t\tvar d = te[5] - te[2];\r\n\t\treturn 2 * (a * (h + d) + h * d );\r\n\r\n\t},\r\n\r\n\r\n\t// Get whether the AABB intersects with the point or not.\r\n\r\n\tintersectsWithPoint:function(x,y,z){\r\n\r\n\t\tvar te = this.elements;\r\n\t\treturn x>=te[0] && x<=te[3] && y>=te[1] && y<=te[4] && z>=te[2] && z<=te[5];\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * Set the AABB from an array\r\n\t * of vertices. From THREE.\r\n\t * @author WestLangley\r\n\t * @author xprogram\r\n\t */\r\n\r\n\tsetFromPoints: function(arr){\r\n\t\tthis.makeEmpty();\r\n\t\tfor(var i = 0; i < arr.length; i++){\r\n\t\t\tthis.expandByPoint(arr[i]);\r\n\t\t}\r\n\t},\r\n\r\n\tmakeEmpty: function(){\r\n\t\tthis.set(-Infinity, -Infinity, -Infinity, Infinity, Infinity, Infinity);\r\n\t},\r\n\r\n\texpandByPoint: function(pt){\r\n\t\tvar te = this.elements;\r\n\t\tthis.set(\r\n\t\t\t_Math.min(te[ 0 ], pt.x), _Math.min(te[ 1 ], pt.y), _Math.min(te[ 2 ], pt.z),\r\n\t\t\t_Math.max(te[ 3 ], pt.x), _Math.max(te[ 4 ], pt.y), _Math.max(te[ 5 ], pt.z)\r\n\t\t);\r\n\t},\r\n\r\n\texpandByScalar: function(s){\r\n\r\n\t\tvar te = this.elements;\r\n\t\tte[0] += -s;\r\n\t\tte[1] += -s;\r\n\t\tte[2] += -s;\r\n\t\tte[3] += s;\r\n\t\tte[4] += s;\r\n\t\tte[5] += s;\r\n\t}\r\n\r\n});\n\nvar count = 0;\r\nfunction ShapeIdCount() { return count++; }\r\n\r\n/**\r\n * A shape is used to detect collisions of rigid bodies.\r\n *\r\n * @author saharan\r\n * @author lo-th\r\n */\r\n\r\nfunction Shape ( config ) {\r\n\r\n    this.type = SHAPE_NULL;\r\n\r\n    // global identification of the shape should be unique to the shape.\r\n    this.id = ShapeIdCount();\r\n\r\n    // previous shape in parent rigid body. Used for fast interations.\r\n    this.prev = null;\r\n\r\n    // next shape in parent rigid body. Used for fast interations.\r\n    this.next = null;\r\n\r\n    // proxy of the shape used for broad-phase collision detection.\r\n    this.proxy = null;\r\n\r\n    // parent rigid body of the shape.\r\n    this.parent = null;\r\n\r\n    // linked list of the contacts with the shape.\r\n    this.contactLink = null;\r\n\r\n    // number of the contacts with the shape.\r\n    this.numContacts = 0;\r\n\r\n    // center of gravity of the shape in world coordinate system.\r\n    this.position = new Vec3();\r\n\r\n    // rotation matrix of the shape in world coordinate system.\r\n    this.rotation = new Mat33();\r\n\r\n    // position of the shape in parent's coordinate system.\r\n    this.relativePosition = new Vec3().copy( config.relativePosition );\r\n\r\n    // rotation matrix of the shape in parent's coordinate system.\r\n    this.relativeRotation = new Mat33().copy( config.relativeRotation );\r\n\r\n    // axis-aligned bounding box of the shape.\r\n    this.aabb = new AABB();\r\n\r\n    // density of the shape.\r\n    this.density = config.density;\r\n\r\n    // coefficient of friction of the shape.\r\n    this.friction = config.friction;\r\n\r\n    // coefficient of restitution of the shape.\r\n    this.restitution = config.restitution;\r\n\r\n    // bits of the collision groups to which the shape belongs.\r\n    this.belongsTo = config.belongsTo;\r\n\r\n    // bits of the collision groups with which the shape collides.\r\n    this.collidesWith = config.collidesWith;\r\n\r\n}\r\n\r\nObject.assign( Shape.prototype, {\r\n\r\n    Shape: true,\r\n\r\n    // Calculate the mass information of the shape.\r\n\r\n    calculateMassInfo: function( out ){\r\n\r\n        printError(\"Shape\", \"Inheritance error.\");\r\n\r\n    },\r\n\r\n    // Update the proxy of the shape.\r\n\r\n    updateProxy: function(){\r\n\r\n        printError(\"Shape\", \"Inheritance error.\");\r\n\r\n    }\r\n\r\n});\n\n/**\r\n * Box shape.\r\n * @author saharan\r\n * @author lo-th\r\n */\r\n \r\nfunction Box ( config, Width, Height, Depth ) {\r\n\r\n    Shape.call( this, config );\r\n\r\n    this.type = SHAPE_BOX;\r\n\r\n    this.width = Width;\r\n    this.height = Height;\r\n    this.depth = Depth;\r\n\r\n    this.halfWidth = Width * 0.5;\r\n    this.halfHeight = Height * 0.5;\r\n    this.halfDepth = Depth * 0.5;\r\n\r\n    this.dimentions = new Float32Array( 18 );\r\n    this.elements = new Float32Array( 24 );\r\n\r\n}\r\n\r\nBox.prototype = Object.assign( Object.create( Shape.prototype ), {\r\n\r\n\tconstructor: Box,\r\n\r\n\tcalculateMassInfo: function ( out ) {\r\n\r\n\t\tvar mass = this.width * this.height * this.depth * this.density;\r\n\t\tvar divid = 1/12;\r\n\t\tout.mass = mass;\r\n\t\tout.inertia.set(\r\n\t\t\tmass * ( this.height * this.height + this.depth * this.depth ) * divid, 0, 0,\r\n\t\t\t0, mass * ( this.width * this.width + this.depth * this.depth ) * divid, 0,\r\n\t\t\t0, 0, mass * ( this.width * this.width + this.height * this.height ) * divid\r\n\t\t);\r\n\r\n\t},\r\n\r\n\tupdateProxy: function () {\r\n\r\n\t\tvar te = this.rotation.elements;\r\n\t\tvar di = this.dimentions;\r\n\t\t// Width\r\n\t\tdi[0] = te[0];\r\n\t\tdi[1] = te[3];\r\n\t\tdi[2] = te[6];\r\n\t\t// Height\r\n\t\tdi[3] = te[1];\r\n\t\tdi[4] = te[4];\r\n\t\tdi[5] = te[7];\r\n\t\t// Depth\r\n\t\tdi[6] = te[2];\r\n\t\tdi[7] = te[5];\r\n\t\tdi[8] = te[8];\r\n\t\t// half Width\r\n\t\tdi[9] = te[0] * this.halfWidth;\r\n\t\tdi[10] = te[3] * this.halfWidth;\r\n\t\tdi[11] = te[6] * this.halfWidth;\r\n\t\t// half Height\r\n\t\tdi[12] = te[1] * this.halfHeight;\r\n\t\tdi[13] = te[4] * this.halfHeight;\r\n\t\tdi[14] = te[7] * this.halfHeight;\r\n\t\t// half Depth\r\n\t\tdi[15] = te[2] * this.halfDepth;\r\n\t\tdi[16] = te[5] * this.halfDepth;\r\n\t\tdi[17] = te[8] * this.halfDepth;\r\n\r\n\t\tvar wx = di[9];\r\n\t\tvar wy = di[10];\r\n\t\tvar wz = di[11];\r\n\t\tvar hx = di[12];\r\n\t\tvar hy = di[13];\r\n\t\tvar hz = di[14];\r\n\t\tvar dx = di[15];\r\n\t\tvar dy = di[16];\r\n\t\tvar dz = di[17];\r\n\r\n\t\tvar x = this.position.x;\r\n\t\tvar y = this.position.y;\r\n\t\tvar z = this.position.z;\r\n\r\n\t\tvar v = this.elements;\r\n\t\t//v1\r\n\t\tv[0] = x + wx + hx + dx;\r\n\t\tv[1] = y + wy + hy + dy;\r\n\t\tv[2] = z + wz + hz + dz;\r\n\t\t//v2\r\n\t\tv[3] = x + wx + hx - dx;\r\n\t\tv[4] = y + wy + hy - dy;\r\n\t\tv[5] = z + wz + hz - dz;\r\n\t\t//v3\r\n\t\tv[6] = x + wx - hx + dx;\r\n\t\tv[7] = y + wy - hy + dy;\r\n\t\tv[8] = z + wz - hz + dz;\r\n\t\t//v4\r\n\t\tv[9] = x + wx - hx - dx;\r\n\t\tv[10] = y + wy - hy - dy;\r\n\t\tv[11] = z + wz - hz - dz;\r\n\t\t//v5\r\n\t\tv[12] = x - wx + hx + dx;\r\n\t\tv[13] = y - wy + hy + dy;\r\n\t\tv[14] = z - wz + hz + dz;\r\n\t\t//v6\r\n\t\tv[15] = x - wx + hx - dx;\r\n\t\tv[16] = y - wy + hy - dy;\r\n\t\tv[17] = z - wz + hz - dz;\r\n\t\t//v7\r\n\t\tv[18] = x - wx - hx + dx;\r\n\t\tv[19] = y - wy - hy + dy;\r\n\t\tv[20] = z - wz - hz + dz;\r\n\t\t//v8\r\n\t\tv[21] = x - wx - hx - dx;\r\n\t\tv[22] = y - wy - hy - dy;\r\n\t\tv[23] = z - wz - hz - dz;\r\n\r\n\t\tvar w = di[9] < 0 ? -di[9] : di[9];\r\n\t\tvar h = di[10] < 0 ? -di[10] : di[10];\r\n\t\tvar d = di[11] < 0 ? -di[11] : di[11];\r\n\r\n\t\tw = di[12] < 0 ? w - di[12] : w + di[12];\r\n\t\th = di[13] < 0 ? h - di[13] : h + di[13];\r\n\t\td = di[14] < 0 ? d - di[14] : d + di[14];\r\n\r\n\t\tw = di[15] < 0 ? w - di[15] : w + di[15];\r\n\t\th = di[16] < 0 ? h - di[16] : h + di[16];\r\n\t\td = di[17] < 0 ? d - di[17] : d + di[17];\r\n\r\n\t\tvar p = AABB_PROX;\r\n\r\n\t\tthis.aabb.set(\r\n\t\t\tthis.position.x - w - p, this.position.x + w + p,\r\n\t\t\tthis.position.y - h - p, this.position.y + h + p,\r\n\t\t\tthis.position.z - d - p, this.position.z + d + p\r\n\t\t);\r\n\r\n\t\tif ( this.proxy != null ) this.proxy.update();\r\n\r\n\t}\r\n});\n\n/**\r\n * Sphere shape\r\n * @author saharan\r\n * @author lo-th\r\n */\r\n\r\nfunction Sphere( config, radius ) {\r\n\r\n    Shape.call( this, config );\r\n\r\n    this.type = SHAPE_SPHERE;\r\n\r\n    // radius of the shape.\r\n    this.radius = radius;\r\n\r\n}\r\n\r\nSphere.prototype = Object.assign( Object.create( Shape.prototype ), {\r\n\r\n\tconstructor: Sphere,\r\n\r\n\tvolume: function () {\r\n\r\n\t\treturn _Math.PI * this.radius * 1.333333;\r\n\r\n\t},\r\n\r\n\tcalculateMassInfo: function ( out ) {\r\n\r\n\t\tvar mass = this.volume() * this.radius * this.radius * this.density; //1.333 * _Math.PI * this.radius * this.radius * this.radius * this.density;\r\n\t\tout.mass = mass;\r\n\t\tvar inertia = mass * this.radius * this.radius * 0.4;\r\n\t\tout.inertia.set( inertia, 0, 0, 0, inertia, 0, 0, 0, inertia );\r\n\r\n\t},\r\n\r\n\tupdateProxy: function () {\r\n\r\n\t\tvar p = AABB_PROX;\r\n\r\n\t\tthis.aabb.set(\r\n\t\t\tthis.position.x - this.radius - p, this.position.x + this.radius + p,\r\n\t\t\tthis.position.y - this.radius - p, this.position.y + this.radius + p,\r\n\t\t\tthis.position.z - this.radius - p, this.position.z + this.radius + p\r\n\t\t);\r\n\r\n\t\tif ( this.proxy != null ) this.proxy.update();\r\n\r\n\t}\r\n\r\n});\n\n/**\r\n * Cylinder shape\r\n * @author saharan\r\n * @author lo-th\r\n */\r\n\r\nfunction Cylinder ( config, radius, height ) {\r\n\r\n    Shape.call( this, config );\r\n\r\n    this.type = SHAPE_CYLINDER;\r\n\r\n    this.radius = radius;\r\n    this.height = height;\r\n    this.halfHeight = height * 0.5;\r\n\r\n    this.normalDirection = new Vec3();\r\n    this.halfDirection = new Vec3();\r\n\r\n}\r\n\r\nCylinder.prototype = Object.assign( Object.create( Shape.prototype ), {\r\n\r\n    constructor: Cylinder,\r\n\r\n    calculateMassInfo: function ( out ) {\r\n\r\n        var rsq = this.radius * this.radius;\r\n        var mass = _Math.PI * rsq * this.height * this.density;\r\n        var inertiaXZ = ( ( 0.25 * rsq ) + ( 0.0833 * this.height * this.height ) ) * mass;\r\n        var inertiaY = 0.5 * rsq;\r\n        out.mass = mass;\r\n        out.inertia.set( inertiaXZ, 0, 0,  0, inertiaY, 0,  0, 0, inertiaXZ );\r\n\r\n    },\r\n\r\n    updateProxy: function () {\r\n\r\n        var te = this.rotation.elements;\r\n        var len, wx, hy, dz, xx, yy, zz, w, h, d, p;\r\n\r\n        xx = te[1] * te[1];\r\n        yy = te[4] * te[4];\r\n        zz = te[7] * te[7];\r\n\r\n        this.normalDirection.set( te[1], te[4], te[7] );\r\n        this.halfDirection.scale( this.normalDirection, this.halfHeight );\r\n\r\n        wx = 1 - xx;\r\n        len = _Math.sqrt(wx*wx + xx*yy + xx*zz);\r\n        if(len>0) len = this.radius/len;\r\n        wx *= len;\r\n        hy = 1 - yy;\r\n        len = _Math.sqrt(yy*xx + hy*hy + yy*zz);\r\n        if(len>0) len = this.radius/len;\r\n        hy *= len;\r\n        dz = 1 - zz;\r\n        len = _Math.sqrt(zz*xx + zz*yy + dz*dz);\r\n        if(len>0) len = this.radius/len;\r\n        dz *= len;\r\n\r\n        w = this.halfDirection.x < 0 ? -this.halfDirection.x : this.halfDirection.x;\r\n        h = this.halfDirection.y < 0 ? -this.halfDirection.y : this.halfDirection.y;\r\n        d = this.halfDirection.z < 0 ? -this.halfDirection.z : this.halfDirection.z;\r\n\r\n        w = wx < 0 ? w - wx : w + wx;\r\n        h = hy < 0 ? h - hy : h + hy;\r\n        d = dz < 0 ? d - dz : d + dz;\r\n\r\n        p = AABB_PROX;\r\n\r\n        this.aabb.set(\r\n            this.position.x - w - p, this.position.x + w + p,\r\n            this.position.y - h - p, this.position.y + h + p,\r\n            this.position.z - d - p, this.position.z + d + p\r\n        );\r\n\r\n        if ( this.proxy != null ) this.proxy.update();\r\n\r\n    }\r\n\r\n});\n\n/**\r\n * Plane shape.\r\n * @author lo-th\r\n */\r\n\r\nfunction Plane( config, normal ) {\r\n\r\n    Shape.call( this, config );\r\n\r\n    this.type = SHAPE_PLANE;\r\n\r\n    // radius of the shape.\r\n    this.normal = new Vec3( 0, 1, 0 );\r\n\r\n}\r\n\r\nPlane.prototype = Object.assign( Object.create( Shape.prototype ), {\r\n\r\n    constructor: Plane,\r\n\r\n    volume: function () {\r\n\r\n        return Number.MAX_VALUE;\r\n\r\n    },\r\n\r\n    calculateMassInfo: function ( out ) {\r\n\r\n        out.mass = this.density;//0.0001;\r\n        var inertia = 1;\r\n        out.inertia.set( inertia, 0, 0, 0, inertia, 0, 0, 0, inertia );\r\n\r\n    },\r\n\r\n    updateProxy: function () {\r\n\r\n        var p = AABB_PROX;\r\n\r\n        var min = -_Math.INF;\r\n        var max = _Math.INF;\r\n        var n = this.normal;\r\n        // The plane AABB is infinite, except if the normal is pointing along any axis\r\n        this.aabb.set(\r\n            n.x === -1 ? this.position.x - p : min, n.x === 1 ? this.position.x + p : max,\r\n            n.y === -1 ? this.position.y - p : min, n.y === 1 ? this.position.y + p : max,\r\n            n.z === -1 ? this.position.z - p : min, n.z === 1 ? this.position.z + p : max\r\n        );\r\n\r\n        if ( this.proxy != null ) this.proxy.update();\r\n\r\n    }\r\n\r\n});\n\n/**\r\n * A Particule shape\r\n * @author lo-th\r\n */\r\n\r\nfunction Particle( config, normal ) {\r\n\r\n    Shape.call( this, config );\r\n\r\n    this.type = SHAPE_PARTICLE;\r\n\r\n}\r\n\r\nParticle.prototype = Object.assign( Object.create( Shape.prototype ), {\r\n\r\n    constructor: Particle,\r\n\r\n    volume: function () {\r\n\r\n        return Number.MAX_VALUE;\r\n\r\n    },\r\n\r\n    calculateMassInfo: function ( out ) {\r\n\r\n        var inertia = 0;\r\n        out.inertia.set( inertia, 0, 0, 0, inertia, 0, 0, 0, inertia );\r\n\r\n    },\r\n\r\n    updateProxy: function () {\r\n\r\n        var p = 0;//AABB_PROX;\r\n\r\n        this.aabb.set(\r\n            this.position.x - p, this.position.x + p,\r\n            this.position.y - p, this.position.y + p,\r\n            this.position.z - p, this.position.z + p\r\n        );\r\n\r\n        if ( this.proxy != null ) this.proxy.update();\r\n\r\n    }\r\n\r\n});\n\n/**\r\n * A shape configuration holds common configuration data for constructing a shape.\r\n * These configurations can be reused safely.\r\n *\r\n * @author saharan\r\n * @author lo-th\r\n */\r\n \r\nfunction ShapeConfig(){\r\n\r\n    // position of the shape in parent's coordinate system.\r\n    this.relativePosition = new Vec3();\r\n    // rotation matrix of the shape in parent's coordinate system.\r\n    this.relativeRotation = new Mat33();\r\n    // coefficient of friction of the shape.\r\n    this.friction = 0.2; // 0.4\r\n    // coefficient of restitution of the shape.\r\n    this.restitution = 0.2;\r\n    // density of the shape.\r\n    this.density = 1;\r\n    // bits of the collision groups to which the shape belongs.\r\n    this.belongsTo = 1;\r\n    // bits of the collision groups with which the shape collides.\r\n    this.collidesWith = 0xffffffff;\r\n\r\n}\n\n/**\n* An information of limit and motor.\n*\n* @author saharan\n*/\n\nfunction LimitMotor ( axis, fixed ) {\n\n    fixed = fixed || false;\n    // The axis of the constraint.\n    this.axis = axis;\n    // The current angle for rotational constraints.\n    this.angle = 0;\n    // The lower limit. Set lower > upper to disable\n    this.lowerLimit = fixed ? 0 : 1;\n\n    //  The upper limit. Set lower > upper to disable.\n    this.upperLimit = 0;\n    // The target motor speed.\n    this.motorSpeed = 0;\n    // The maximum motor force or torque. Set 0 to disable.\n    this.maxMotorForce = 0;\n    // The frequency of the spring. Set 0 to disable.\n    this.frequency = 0;\n    // The damping ratio of the spring. Set 0 for no damping, 1 for critical damping.\n    this.dampingRatio = 0;\n\n}\n\nObject.assign( LimitMotor.prototype, {\n\n    LimitMotor: true,\n\n    // Set limit data into this constraint.\n    setLimit:function ( lowerLimit, upperLimit ) {\n\n        this.lowerLimit = lowerLimit;\n        this.upperLimit = upperLimit;\n\n    },\n\n    // Set motor data into this constraint.\n    setMotor:function ( motorSpeed, maxMotorForce ) {\n        \n        this.motorSpeed = motorSpeed;\n        this.maxMotorForce = maxMotorForce;\n\n    },\n\n    // Set spring data into this constraint.\n    setSpring:function ( frequency, dampingRatio ) {\n        \n        this.frequency = frequency;\n        this.dampingRatio = dampingRatio;\n        \n    }\n\n});\n\n/**\r\n * The base class of all type of the constraints.\r\n *\r\n * @author saharan\r\n * @author lo-th\r\n */\r\n\r\nfunction Constraint(){\r\n\r\n    // parent world of the constraint.\r\n    this.parent = null;\r\n\r\n    // first body of the constraint.\r\n    this.body1 = null;\r\n\r\n    // second body of the constraint.\r\n    this.body2 = null;\r\n\r\n    // Internal\r\n    this.addedToIsland = false;\r\n    \r\n}\r\n\r\nObject.assign( Constraint.prototype, {\r\n\r\n    Constraint: true,\r\n\r\n    // Prepare for solving the constraint\r\n    preSolve: function( timeStep, invTimeStep ){\r\n\r\n        printError(\"Constraint\", \"Inheritance error.\");\r\n\r\n    },\r\n\r\n    // Solve the constraint. This is usually called iteratively.\r\n    solve: function(){\r\n\r\n        printError(\"Constraint\", \"Inheritance error.\");\r\n\r\n    },\r\n\r\n    // Do the post-processing.\r\n    postSolve: function(){\r\n\r\n        printError(\"Constraint\", \"Inheritance error.\");\r\n\r\n    }\r\n\r\n});\n\nfunction JointLink ( joint ){\r\n    \r\n    // The previous joint link.\r\n    this.prev = null;\r\n    // The next joint link.\r\n    this.next = null;\r\n    // The other rigid body connected to the joint.\r\n    this.body = null;\r\n    // The joint of the link.\r\n    this.joint = joint;\r\n\r\n}\n\n/**\n * Joints are used to constrain the motion between two rigid bodies.\n *\n * @author saharan\n * @author lo-th\n */\n\nfunction Joint ( config ){\n\n    Constraint.call( this );\n\n    this.scale = 1;\n    this.invScale = 1;\n\n    // joint name\n    this.name = \"\";\n    this.id = NaN;\n\n    // The type of the joint.\n    this.type = JOINT_NULL;\n    //  The previous joint in the world.\n    this.prev = null;\n    // The next joint in the world.\n    this.next = null;\n\n    this.body1 = config.body1;\n    this.body2 = config.body2;\n\n    // anchor point on the first rigid body in local coordinate system.\n    this.localAnchorPoint1 = new Vec3().copy( config.localAnchorPoint1 );\n    // anchor point on the second rigid body in local coordinate system.\n    this.localAnchorPoint2 = new Vec3().copy( config.localAnchorPoint2 );\n    // anchor point on the first rigid body in world coordinate system relative to the body's origin.\n    this.relativeAnchorPoint1 = new Vec3();\n    // anchor point on the second rigid body in world coordinate system relative to the body's origin.\n    this.relativeAnchorPoint2 = new Vec3();\n    //  anchor point on the first rigid body in world coordinate system.\n    this.anchorPoint1 = new Vec3();\n    // anchor point on the second rigid body in world coordinate system.\n    this.anchorPoint2 = new Vec3();\n    // Whether allow collision between connected rigid bodies or not.\n    this.allowCollision = config.allowCollision;\n\n    this.b1Link = new JointLink( this );\n    this.b2Link = new JointLink( this );\n\n}\n\nJoint.prototype = Object.assign( Object.create( Constraint.prototype ), {\n\n    constructor: Joint,\n\n    setId: function ( n ) { \n\n        this.id = i; \n\n    },\n\n    setParent: function ( world ) {\n\n        this.parent = world;\n        this.scale = this.parent.scale;\n        this.invScale = this.parent.invScale;\n        this.id = this.parent.numJoints;\n        if( !this.name ) this.name = 'J' +  this.id;\n\n    },\n\n    // Update all the anchor points.\n\n    updateAnchorPoints: function () {\n\n        this.relativeAnchorPoint1.copy( this.localAnchorPoint1 ).applyMatrix3( this.body1.rotation, true );\n        this.relativeAnchorPoint2.copy( this.localAnchorPoint2 ).applyMatrix3( this.body2.rotation, true );\n\n        this.anchorPoint1.add( this.relativeAnchorPoint1, this.body1.position );\n        this.anchorPoint2.add( this.relativeAnchorPoint2, this.body2.position );\n\n    },\n\n    // Attach the joint from the bodies.\n\n    attach: function ( isX ) {\n\n        this.b1Link.body = this.body2;\n        this.b2Link.body = this.body1;\n\n        if(isX){\n\n            this.body1.jointLink.push( this.b1Link );\n            this.body2.jointLink.push( this.b2Link );\n\n        } else {\n\n            if(this.body1.jointLink != null) (this.b1Link.next=this.body1.jointLink).prev = this.b1Link;\n            else this.b1Link.next = null;\n            this.body1.jointLink = this.b1Link;\n            this.body1.numJoints++;\n            if(this.body2.jointLink != null) (this.b2Link.next=this.body2.jointLink).prev = this.b2Link;\n            else this.b2Link.next = null;\n            this.body2.jointLink = this.b2Link;\n            this.body2.numJoints++;\n\n        }\n\n    },\n\n    // Detach the joint from the bodies.\n\n    detach: function ( isX ) {\n\n        if( isX ){\n\n            this.body1.jointLink.splice( this.body1.jointLink.indexOf( this.b1Link ), 1 );\n            this.body2.jointLink.splice( this.body2.jointLink.indexOf( this.b2Link ), 1 );\n\n        } else {\n\n            var prev = this.b1Link.prev;\n            var next = this.b1Link.next;\n            if(prev != null) prev.next = next;\n            if(next != null) next.prev = prev;\n            if(this.body1.jointLink == this.b1Link) this.body1.jointLink = next;\n            this.b1Link.prev = null;\n            this.b1Link.next = null;\n            this.b1Link.body = null;\n            this.body1.numJoints--;\n\n            prev = this.b2Link.prev;\n            next = this.b2Link.next;\n            if(prev != null) prev.next = next;\n            if(next != null) next.prev = prev;\n            if(this.body2.jointLink==this.b2Link) this.body2.jointLink = next;\n            this.b2Link.prev = null;\n            this.b2Link.next = null;\n            this.b2Link.body = null;\n            this.body2.numJoints--;\n\n        }\n\n        this.b1Link.body = null;\n        this.b2Link.body = null;\n\n    },\n\n\n    // Awake the bodies.\n\n    awake: function () {\n\n        this.body1.awake();\n        this.body2.awake();\n\n    },\n\n    // calculation function\n\n    preSolve: function ( timeStep, invTimeStep ) {\n\n    },\n\n    solve: function () {\n\n    },\n\n    postSolve: function () {\n\n    },\n\n    // Delete process\n\n    remove: function () {\n\n        this.dispose();\n\n    },\n\n    dispose: function () {\n\n        this.parent.removeJoint( this );\n\n    },\n\n\n    // Three js add\n\n    getPosition: function () {\n\n        var p1 = new Vec3().scale( this.anchorPoint1, this.scale );\n        var p2 = new Vec3().scale( this.anchorPoint2, this.scale );\n        return [ p1, p2 ];\n\n    }\n\n});\n\n/**\n* A linear constraint for all axes for various joints.\n* @author saharan\n*/\nfunction LinearConstraint ( joint ){\n\n    this.m1=NaN;\n    this.m2=NaN;\n\n    this.ii1 = null;\n    this.ii2 = null;\n    this.dd = null;\n\n    this.r1x=NaN;\n    this.r1y=NaN;\n    this.r1z=NaN;\n\n    this.r2x=NaN;\n    this.r2y=NaN;\n    this.r2z=NaN;\n\n    this.ax1x=NaN;\n    this.ax1y=NaN;\n    this.ax1z=NaN;\n    this.ay1x=NaN;\n    this.ay1y=NaN;\n    this.ay1z=NaN;\n    this.az1x=NaN;\n    this.az1y=NaN;\n    this.az1z=NaN;\n\n    this.ax2x=NaN;\n    this.ax2y=NaN;\n    this.ax2z=NaN;\n    this.ay2x=NaN;\n    this.ay2y=NaN;\n    this.ay2z=NaN;\n    this.az2x=NaN;\n    this.az2y=NaN;\n    this.az2z=NaN;\n\n    this.vel=NaN;\n    this.velx=NaN;\n    this.vely=NaN;\n    this.velz=NaN;\n\n\n    this.joint = joint;\n    this.r1 = joint.relativeAnchorPoint1;\n    this.r2 = joint.relativeAnchorPoint2;\n    this.p1 = joint.anchorPoint1;\n    this.p2 = joint.anchorPoint2;\n    this.b1 = joint.body1;\n    this.b2 = joint.body2;\n    this.l1 = this.b1.linearVelocity;\n    this.l2 = this.b2.linearVelocity;\n    this.a1 = this.b1.angularVelocity;\n    this.a2 = this.b2.angularVelocity;\n    this.i1 = this.b1.inverseInertia;\n    this.i2 = this.b2.inverseInertia;\n    this.impx = 0;\n    this.impy = 0;\n    this.impz = 0;\n\n}\n\nObject.assign( LinearConstraint.prototype, {\n\n    LinearConstraint: true,\n\n    preSolve: function ( timeStep, invTimeStep ) {\n        \n        this.r1x = this.r1.x;\n        this.r1y = this.r1.y;\n        this.r1z = this.r1.z;\n\n        this.r2x = this.r2.x;\n        this.r2y = this.r2.y;\n        this.r2z = this.r2.z;\n\n        this.m1 = this.b1.inverseMass;\n        this.m2 = this.b2.inverseMass;\n\n        this.ii1 = this.i1.clone();\n        this.ii2 = this.i2.clone();\n\n        var ii1 = this.ii1.elements;\n        var ii2 = this.ii2.elements;\n\n        this.ax1x = this.r1z*ii1[1]+-this.r1y*ii1[2];\n        this.ax1y = this.r1z*ii1[4]+-this.r1y*ii1[5];\n        this.ax1z = this.r1z*ii1[7]+-this.r1y*ii1[8];\n        this.ay1x = -this.r1z*ii1[0]+this.r1x*ii1[2];\n        this.ay1y = -this.r1z*ii1[3]+this.r1x*ii1[5];\n        this.ay1z = -this.r1z*ii1[6]+this.r1x*ii1[8];\n        this.az1x = this.r1y*ii1[0]+-this.r1x*ii1[1];\n        this.az1y = this.r1y*ii1[3]+-this.r1x*ii1[4];\n        this.az1z = this.r1y*ii1[6]+-this.r1x*ii1[7];\n        this.ax2x = this.r2z*ii2[1]+-this.r2y*ii2[2];\n        this.ax2y = this.r2z*ii2[4]+-this.r2y*ii2[5];\n        this.ax2z = this.r2z*ii2[7]+-this.r2y*ii2[8];\n        this.ay2x = -this.r2z*ii2[0]+this.r2x*ii2[2];\n        this.ay2y = -this.r2z*ii2[3]+this.r2x*ii2[5];\n        this.ay2z = -this.r2z*ii2[6]+this.r2x*ii2[8];\n        this.az2x = this.r2y*ii2[0]+-this.r2x*ii2[1];\n        this.az2y = this.r2y*ii2[3]+-this.r2x*ii2[4];\n        this.az2z = this.r2y*ii2[6]+-this.r2x*ii2[7];\n\n        // calculate point-to-point mass matrix\n        // from impulse equation\n        // \n        // M = ([/m] - [r^][/I][r^]) ^ -1\n        // \n        // where\n        // \n        // [/m] = |1/m, 0, 0|\n        //        |0, 1/m, 0|\n        //        |0, 0, 1/m|\n        // \n        // [r^] = |0, -rz, ry|\n        //        |rz, 0, -rx|\n        //        |-ry, rx, 0|\n        // \n        // [/I] = Inverted moment inertia\n\n        var rxx = this.m1+this.m2;\n\n        var kk = new Mat33().set( rxx, 0, 0,  0, rxx, 0,  0, 0, rxx );\n        var k = kk.elements;\n\n        k[0] += ii1[4]*this.r1z*this.r1z-(ii1[7]+ii1[5])*this.r1y*this.r1z+ii1[8]*this.r1y*this.r1y;\n        k[1] += (ii1[6]*this.r1y+ii1[5]*this.r1x)*this.r1z-ii1[3]*this.r1z*this.r1z-ii1[8]*this.r1x*this.r1y;\n        k[2] += (ii1[3]*this.r1y-ii1[4]*this.r1x)*this.r1z-ii1[6]*this.r1y*this.r1y+ii1[7]*this.r1x*this.r1y;\n        k[3] += (ii1[2]*this.r1y+ii1[7]*this.r1x)*this.r1z-ii1[1]*this.r1z*this.r1z-ii1[8]*this.r1x*this.r1y;\n        k[4] += ii1[0]*this.r1z*this.r1z-(ii1[6]+ii1[2])*this.r1x*this.r1z+ii1[8]*this.r1x*this.r1x;\n        k[5] += (ii1[1]*this.r1x-ii1[0]*this.r1y)*this.r1z-ii1[7]*this.r1x*this.r1x+ii1[6]*this.r1x*this.r1y;\n        k[6] += (ii1[1]*this.r1y-ii1[4]*this.r1x)*this.r1z-ii1[2]*this.r1y*this.r1y+ii1[5]*this.r1x*this.r1y;\n        k[7] += (ii1[3]*this.r1x-ii1[0]*this.r1y)*this.r1z-ii1[5]*this.r1x*this.r1x+ii1[2]*this.r1x*this.r1y;\n        k[8] += ii1[0]*this.r1y*this.r1y-(ii1[3]+ii1[1])*this.r1x*this.r1y+ii1[4]*this.r1x*this.r1x;\n\n        k[0] += ii2[4]*this.r2z*this.r2z-(ii2[7]+ii2[5])*this.r2y*this.r2z+ii2[8]*this.r2y*this.r2y;\n        k[1] += (ii2[6]*this.r2y+ii2[5]*this.r2x)*this.r2z-ii2[3]*this.r2z*this.r2z-ii2[8]*this.r2x*this.r2y;\n        k[2] += (ii2[3]*this.r2y-ii2[4]*this.r2x)*this.r2z-ii2[6]*this.r2y*this.r2y+ii2[7]*this.r2x*this.r2y;\n        k[3] += (ii2[2]*this.r2y+ii2[7]*this.r2x)*this.r2z-ii2[1]*this.r2z*this.r2z-ii2[8]*this.r2x*this.r2y;\n        k[4] += ii2[0]*this.r2z*this.r2z-(ii2[6]+ii2[2])*this.r2x*this.r2z+ii2[8]*this.r2x*this.r2x;\n        k[5] += (ii2[1]*this.r2x-ii2[0]*this.r2y)*this.r2z-ii2[7]*this.r2x*this.r2x+ii2[6]*this.r2x*this.r2y;\n        k[6] += (ii2[1]*this.r2y-ii2[4]*this.r2x)*this.r2z-ii2[2]*this.r2y*this.r2y+ii2[5]*this.r2x*this.r2y;\n        k[7] += (ii2[3]*this.r2x-ii2[0]*this.r2y)*this.r2z-ii2[5]*this.r2x*this.r2x+ii2[2]*this.r2x*this.r2y;\n        k[8] += ii2[0]*this.r2y*this.r2y-(ii2[3]+ii2[1])*this.r2x*this.r2y+ii2[4]*this.r2x*this.r2x;\n\n        var inv=1/( k[0]*(k[4]*k[8]-k[7]*k[5]) + k[3]*(k[7]*k[2]-k[1]*k[8]) + k[6]*(k[1]*k[5]-k[4]*k[2]) );\n        this.dd = new Mat33().set(\n            k[4]*k[8]-k[5]*k[7], k[2]*k[7]-k[1]*k[8], k[1]*k[5]-k[2]*k[4],\n            k[5]*k[6]-k[3]*k[8], k[0]*k[8]-k[2]*k[6], k[2]*k[3]-k[0]*k[5],\n            k[3]*k[7]-k[4]*k[6], k[1]*k[6]-k[0]*k[7], k[0]*k[4]-k[1]*k[3]\n        ).scaleEqual( inv );\n\n        this.velx = this.p2.x-this.p1.x;\n        this.vely = this.p2.y-this.p1.y;\n        this.velz = this.p2.z-this.p1.z;\n        var len = _Math.sqrt(this.velx*this.velx+this.vely*this.vely+this.velz*this.velz);\n        if(len>0.005){\n            len = (0.005-len)/len*invTimeStep*0.05;\n            this.velx *= len;\n            this.vely *= len;\n            this.velz *= len;\n        }else{\n            this.velx = 0;\n            this.vely = 0;\n            this.velz = 0;\n        }\n\n        this.impx *= 0.95;\n        this.impy *= 0.95;\n        this.impz *= 0.95;\n        \n        this.l1.x += this.impx*this.m1;\n        this.l1.y += this.impy*this.m1;\n        this.l1.z += this.impz*this.m1;\n        this.a1.x += this.impx*this.ax1x+this.impy*this.ay1x+this.impz*this.az1x;\n        this.a1.y += this.impx*this.ax1y+this.impy*this.ay1y+this.impz*this.az1y;\n        this.a1.z += this.impx*this.ax1z+this.impy*this.ay1z+this.impz*this.az1z;\n        this.l2.x -= this.impx*this.m2;\n        this.l2.y -= this.impy*this.m2;\n        this.l2.z -= this.impz*this.m2;\n        this.a2.x -= this.impx*this.ax2x+this.impy*this.ay2x+this.impz*this.az2x;\n        this.a2.y -= this.impx*this.ax2y+this.impy*this.ay2y+this.impz*this.az2y;\n        this.a2.z -= this.impx*this.ax2z+this.impy*this.ay2z+this.impz*this.az2z;\n    },\n\n    solve: function () {\n\n        var d = this.dd.elements;\n        var rvx = this.l2.x-this.l1.x+this.a2.y*this.r2z-this.a2.z*this.r2y-this.a1.y*this.r1z+this.a1.z*this.r1y-this.velx;\n        var rvy = this.l2.y-this.l1.y+this.a2.z*this.r2x-this.a2.x*this.r2z-this.a1.z*this.r1x+this.a1.x*this.r1z-this.vely;\n        var rvz = this.l2.z-this.l1.z+this.a2.x*this.r2y-this.a2.y*this.r2x-this.a1.x*this.r1y+this.a1.y*this.r1x-this.velz;\n        var nimpx = rvx*d[0]+rvy*d[1]+rvz*d[2];\n        var nimpy = rvx*d[3]+rvy*d[4]+rvz*d[5];\n        var nimpz = rvx*d[6]+rvy*d[7]+rvz*d[8];\n        this.impx += nimpx;\n        this.impy += nimpy;\n        this.impz += nimpz;\n        this.l1.x += nimpx*this.m1;\n        this.l1.y += nimpy*this.m1;\n        this.l1.z += nimpz*this.m1;\n        this.a1.x += nimpx*this.ax1x+nimpy*this.ay1x+nimpz*this.az1x;\n        this.a1.y += nimpx*this.ax1y+nimpy*this.ay1y+nimpz*this.az1y;\n        this.a1.z += nimpx*this.ax1z+nimpy*this.ay1z+nimpz*this.az1z;\n        this.l2.x -= nimpx*this.m2;\n        this.l2.y -= nimpy*this.m2;\n        this.l2.z -= nimpz*this.m2;\n        this.a2.x -= nimpx*this.ax2x+nimpy*this.ay2x+nimpz*this.az2x;\n        this.a2.y -= nimpx*this.ax2y+nimpy*this.ay2y+nimpz*this.az2y;\n        this.a2.z -= nimpx*this.ax2z+nimpy*this.ay2z+nimpz*this.az2z;\n\n    }\n\n} );\n\n/**\n* A three-axis rotational constraint for various joints.\n* @author saharan\n*/\n\nfunction Rotational3Constraint ( joint, limitMotor1, limitMotor2, limitMotor3 ) {\n    \n    this.cfm1=NaN;\n    this.cfm2=NaN;\n    this.cfm3=NaN;\n    this.i1e00=NaN;\n    this.i1e01=NaN;\n    this.i1e02=NaN;\n    this.i1e10=NaN;\n    this.i1e11=NaN;\n    this.i1e12=NaN;\n    this.i1e20=NaN;\n    this.i1e21=NaN;\n    this.i1e22=NaN;\n    this.i2e00=NaN;\n    this.i2e01=NaN;\n    this.i2e02=NaN;\n    this.i2e10=NaN;\n    this.i2e11=NaN;\n    this.i2e12=NaN;\n    this.i2e20=NaN;\n    this.i2e21=NaN;\n    this.i2e22=NaN;\n    this.ax1=NaN;\n    this.ay1=NaN;\n    this.az1=NaN;\n    this.ax2=NaN;\n    this.ay2=NaN;\n    this.az2=NaN;\n    this.ax3=NaN;\n    this.ay3=NaN;\n    this.az3=NaN;\n\n    this.a1x1=NaN; // jacoians\n    this.a1y1=NaN;\n    this.a1z1=NaN;\n    this.a2x1=NaN;\n    this.a2y1=NaN;\n    this.a2z1=NaN;\n    this.a1x2=NaN;\n    this.a1y2=NaN;\n    this.a1z2=NaN;\n    this.a2x2=NaN;\n    this.a2y2=NaN;\n    this.a2z2=NaN;\n    this.a1x3=NaN;\n    this.a1y3=NaN;\n    this.a1z3=NaN;\n    this.a2x3=NaN;\n    this.a2y3=NaN;\n    this.a2z3=NaN;\n\n    this.lowerLimit1=NaN;\n    this.upperLimit1=NaN;\n    this.limitVelocity1=NaN;\n    this.limitState1=0; // -1: at lower, 0: locked, 1: at upper, 2: free\n    this.enableMotor1=false;\n    this.motorSpeed1=NaN;\n    this.maxMotorForce1=NaN;\n    this.maxMotorImpulse1=NaN;\n    this.lowerLimit2=NaN;\n    this.upperLimit2=NaN;\n    this.limitVelocity2=NaN;\n    this.limitState2=0; // -1: at lower, 0: locked, 1: at upper, 2: free\n    this.enableMotor2=false;\n    this.motorSpeed2=NaN;\n    this.maxMotorForce2=NaN;\n    this.maxMotorImpulse2=NaN;\n    this.lowerLimit3=NaN;\n    this.upperLimit3=NaN;\n    this.limitVelocity3=NaN;\n    this.limitState3=0; // -1: at lower, 0: locked, 1: at upper, 2: free\n    this.enableMotor3=false;\n    this.motorSpeed3=NaN;\n    this.maxMotorForce3=NaN;\n    this.maxMotorImpulse3=NaN;\n\n    this.k00=NaN; // K = J*M*JT\n    this.k01=NaN;\n    this.k02=NaN;\n    this.k10=NaN;\n    this.k11=NaN;\n    this.k12=NaN;\n    this.k20=NaN;\n    this.k21=NaN;\n    this.k22=NaN;\n\n    this.kv00=NaN; // diagonals without CFMs\n    this.kv11=NaN;\n    this.kv22=NaN;\n\n    this.dv00=NaN; // ...inverted\n    this.dv11=NaN;\n    this.dv22=NaN;\n\n    this.d00=NaN;  // K^-1\n    this.d01=NaN;\n    this.d02=NaN;\n    this.d10=NaN;\n    this.d11=NaN;\n    this.d12=NaN;\n    this.d20=NaN;\n    this.d21=NaN;\n    this.d22=NaN;\n\n    this.limitMotor1=limitMotor1;\n    this.limitMotor2=limitMotor2;\n    this.limitMotor3=limitMotor3;\n    this.b1=joint.body1;\n    this.b2=joint.body2;\n    this.a1=this.b1.angularVelocity;\n    this.a2=this.b2.angularVelocity;\n    this.i1=this.b1.inverseInertia;\n    this.i2=this.b2.inverseInertia;\n    this.limitImpulse1=0;\n    this.motorImpulse1=0;\n    this.limitImpulse2=0;\n    this.motorImpulse2=0;\n    this.limitImpulse3=0;\n    this.motorImpulse3=0;\n\n}\n\nObject.assign( Rotational3Constraint.prototype, {\n\n    Rotational3Constraint: true,\n\n    preSolve: function( timeStep, invTimeStep ){\n\n        this.ax1=this.limitMotor1.axis.x;\n        this.ay1=this.limitMotor1.axis.y;\n        this.az1=this.limitMotor1.axis.z;\n        this.ax2=this.limitMotor2.axis.x;\n        this.ay2=this.limitMotor2.axis.y;\n        this.az2=this.limitMotor2.axis.z;\n        this.ax3=this.limitMotor3.axis.x;\n        this.ay3=this.limitMotor3.axis.y;\n        this.az3=this.limitMotor3.axis.z;\n        this.lowerLimit1=this.limitMotor1.lowerLimit;\n        this.upperLimit1=this.limitMotor1.upperLimit;\n        this.motorSpeed1=this.limitMotor1.motorSpeed;\n        this.maxMotorForce1=this.limitMotor1.maxMotorForce;\n        this.enableMotor1=this.maxMotorForce1>0;\n        this.lowerLimit2=this.limitMotor2.lowerLimit;\n        this.upperLimit2=this.limitMotor2.upperLimit;\n        this.motorSpeed2=this.limitMotor2.motorSpeed;\n        this.maxMotorForce2=this.limitMotor2.maxMotorForce;\n        this.enableMotor2=this.maxMotorForce2>0;\n        this.lowerLimit3=this.limitMotor3.lowerLimit;\n        this.upperLimit3=this.limitMotor3.upperLimit;\n        this.motorSpeed3=this.limitMotor3.motorSpeed;\n        this.maxMotorForce3=this.limitMotor3.maxMotorForce;\n        this.enableMotor3=this.maxMotorForce3>0;\n\n        var ti1 = this.i1.elements;\n        var ti2 = this.i2.elements;\n        this.i1e00=ti1[0];\n        this.i1e01=ti1[1];\n        this.i1e02=ti1[2];\n        this.i1e10=ti1[3];\n        this.i1e11=ti1[4];\n        this.i1e12=ti1[5];\n        this.i1e20=ti1[6];\n        this.i1e21=ti1[7];\n        this.i1e22=ti1[8];\n\n        this.i2e00=ti2[0];\n        this.i2e01=ti2[1];\n        this.i2e02=ti2[2];\n        this.i2e10=ti2[3];\n        this.i2e11=ti2[4];\n        this.i2e12=ti2[5];\n        this.i2e20=ti2[6];\n        this.i2e21=ti2[7];\n        this.i2e22=ti2[8];\n\n        var frequency1=this.limitMotor1.frequency;\n        var frequency2=this.limitMotor2.frequency;\n        var frequency3=this.limitMotor3.frequency;\n        var enableSpring1=frequency1>0;\n        var enableSpring2=frequency2>0;\n        var enableSpring3=frequency3>0;\n        var enableLimit1=this.lowerLimit1<=this.upperLimit1;\n        var enableLimit2=this.lowerLimit2<=this.upperLimit2;\n        var enableLimit3=this.lowerLimit3<=this.upperLimit3;\n        var angle1=this.limitMotor1.angle;\n        if(enableLimit1){\n            if(this.lowerLimit1==this.upperLimit1){\n                if(this.limitState1!=0){\n                    this.limitState1=0;\n                    this.limitImpulse1=0;\n                }\n                this.limitVelocity1=this.lowerLimit1-angle1;\n            }else if(angle1<this.lowerLimit1){\n                if(this.limitState1!=-1){\n                    this.limitState1=-1;\n                    this.limitImpulse1=0;\n                }\n                this.limitVelocity1=this.lowerLimit1-angle1;\n            }else if(angle1>this.upperLimit1){\n                if(this.limitState1!=1){\n                    this.limitState1=1;\n                    this.limitImpulse1=0;\n                }\n                this.limitVelocity1=this.upperLimit1-angle1;\n            }else{\n                this.limitState1=2;\n                this.limitImpulse1=0;\n                this.limitVelocity1=0;\n            }\n            if(!enableSpring1){\n                if(this.limitVelocity1>0.02)this.limitVelocity1-=0.02;\n                else if(this.limitVelocity1<-0.02)this.limitVelocity1+=0.02;\n                else this.limitVelocity1=0;\n            }\n        }else{\n            this.limitState1=2;\n            this.limitImpulse1=0;\n        }\n\n        var angle2=this.limitMotor2.angle;\n        if(enableLimit2){\n            if(this.lowerLimit2==this.upperLimit2){\n                if(this.limitState2!=0){\n                    this.limitState2=0;\n                    this.limitImpulse2=0;\n                }\n                this.limitVelocity2=this.lowerLimit2-angle2;\n            }else if(angle2<this.lowerLimit2){\n                if(this.limitState2!=-1){\n                    this.limitState2=-1;\n                    this.limitImpulse2=0;\n                }\n                this.limitVelocity2=this.lowerLimit2-angle2;\n            }else if(angle2>this.upperLimit2){\n                if(this.limitState2!=1){\n                    this.limitState2=1;\n                    this.limitImpulse2=0;\n                }\n                this.limitVelocity2=this.upperLimit2-angle2;\n            }else{\n                this.limitState2=2;\n                this.limitImpulse2=0;\n                this.limitVelocity2=0;\n            }\n            if(!enableSpring2){\n                if(this.limitVelocity2>0.02)this.limitVelocity2-=0.02;\n                else if(this.limitVelocity2<-0.02)this.limitVelocity2+=0.02;\n                else this.limitVelocity2=0;\n            }\n        }else{\n            this.limitState2=2;\n            this.limitImpulse2=0;\n        }\n\n        var angle3=this.limitMotor3.angle;\n        if(enableLimit3){\n            if(this.lowerLimit3==this.upperLimit3){\n                if(this.limitState3!=0){\n                    this.limitState3=0;\n                    this.limitImpulse3=0;\n                }\n                this.limitVelocity3=this.lowerLimit3-angle3;\n            }else if(angle3<this.lowerLimit3){\n                if(this.limitState3!=-1){\n                    this.limitState3=-1;\n                    this.limitImpulse3=0;\n                }\n                this.limitVelocity3=this.lowerLimit3-angle3;\n            }else if(angle3>this.upperLimit3){\n                if(this.limitState3!=1){\n                    this.limitState3=1;\n                    this.limitImpulse3=0;\n                }\n                this.limitVelocity3=this.upperLimit3-angle3;\n            }else{\n                this.limitState3=2;\n                this.limitImpulse3=0;\n                this.limitVelocity3=0;\n                }\n            if(!enableSpring3){\n                if(this.limitVelocity3>0.02)this.limitVelocity3-=0.02;\n                else if(this.limitVelocity3<-0.02)this.limitVelocity3+=0.02;\n                else this.limitVelocity3=0;\n            }\n        }else{\n            this.limitState3=2;\n            this.limitImpulse3=0;\n        }\n\n        if(this.enableMotor1&&(this.limitState1!=0||enableSpring1)){\n            this.maxMotorImpulse1=this.maxMotorForce1*timeStep;\n        }else{\n            this.motorImpulse1=0;\n            this.maxMotorImpulse1=0;\n        }\n        if(this.enableMotor2&&(this.limitState2!=0||enableSpring2)){\n            this.maxMotorImpulse2=this.maxMotorForce2*timeStep;\n        }else{\n            this.motorImpulse2=0;\n            this.maxMotorImpulse2=0;\n        }\n        if(this.enableMotor3&&(this.limitState3!=0||enableSpring3)){\n            this.maxMotorImpulse3=this.maxMotorForce3*timeStep;\n        }else{\n            this.motorImpulse3=0;\n            this.maxMotorImpulse3=0;\n        }\n\n        // build jacobians\n        this.a1x1=this.ax1*this.i1e00+this.ay1*this.i1e01+this.az1*this.i1e02;\n        this.a1y1=this.ax1*this.i1e10+this.ay1*this.i1e11+this.az1*this.i1e12;\n        this.a1z1=this.ax1*this.i1e20+this.ay1*this.i1e21+this.az1*this.i1e22;\n        this.a2x1=this.ax1*this.i2e00+this.ay1*this.i2e01+this.az1*this.i2e02;\n        this.a2y1=this.ax1*this.i2e10+this.ay1*this.i2e11+this.az1*this.i2e12;\n        this.a2z1=this.ax1*this.i2e20+this.ay1*this.i2e21+this.az1*this.i2e22;\n\n        this.a1x2=this.ax2*this.i1e00+this.ay2*this.i1e01+this.az2*this.i1e02;\n        this.a1y2=this.ax2*this.i1e10+this.ay2*this.i1e11+this.az2*this.i1e12;\n        this.a1z2=this.ax2*this.i1e20+this.ay2*this.i1e21+this.az2*this.i1e22;\n        this.a2x2=this.ax2*this.i2e00+this.ay2*this.i2e01+this.az2*this.i2e02;\n        this.a2y2=this.ax2*this.i2e10+this.ay2*this.i2e11+this.az2*this.i2e12;\n        this.a2z2=this.ax2*this.i2e20+this.ay2*this.i2e21+this.az2*this.i2e22;\n\n        this.a1x3=this.ax3*this.i1e00+this.ay3*this.i1e01+this.az3*this.i1e02;\n        this.a1y3=this.ax3*this.i1e10+this.ay3*this.i1e11+this.az3*this.i1e12;\n        this.a1z3=this.ax3*this.i1e20+this.ay3*this.i1e21+this.az3*this.i1e22;\n        this.a2x3=this.ax3*this.i2e00+this.ay3*this.i2e01+this.az3*this.i2e02;\n        this.a2y3=this.ax3*this.i2e10+this.ay3*this.i2e11+this.az3*this.i2e12;\n        this.a2z3=this.ax3*this.i2e20+this.ay3*this.i2e21+this.az3*this.i2e22;\n\n        // build an impulse matrix\n        this.k00=this.ax1*(this.a1x1+this.a2x1)+this.ay1*(this.a1y1+this.a2y1)+this.az1*(this.a1z1+this.a2z1);\n        this.k01=this.ax1*(this.a1x2+this.a2x2)+this.ay1*(this.a1y2+this.a2y2)+this.az1*(this.a1z2+this.a2z2);\n        this.k02=this.ax1*(this.a1x3+this.a2x3)+this.ay1*(this.a1y3+this.a2y3)+this.az1*(this.a1z3+this.a2z3);\n        this.k10=this.ax2*(this.a1x1+this.a2x1)+this.ay2*(this.a1y1+this.a2y1)+this.az2*(this.a1z1+this.a2z1);\n        this.k11=this.ax2*(this.a1x2+this.a2x2)+this.ay2*(this.a1y2+this.a2y2)+this.az2*(this.a1z2+this.a2z2);\n        this.k12=this.ax2*(this.a1x3+this.a2x3)+this.ay2*(this.a1y3+this.a2y3)+this.az2*(this.a1z3+this.a2z3);\n        this.k20=this.ax3*(this.a1x1+this.a2x1)+this.ay3*(this.a1y1+this.a2y1)+this.az3*(this.a1z1+this.a2z1);\n        this.k21=this.ax3*(this.a1x2+this.a2x2)+this.ay3*(this.a1y2+this.a2y2)+this.az3*(this.a1z2+this.a2z2);\n        this.k22=this.ax3*(this.a1x3+this.a2x3)+this.ay3*(this.a1y3+this.a2y3)+this.az3*(this.a1z3+this.a2z3);\n\n        this.kv00=this.k00;\n        this.kv11=this.k11;\n        this.kv22=this.k22;\n        this.dv00=1/this.kv00;\n        this.dv11=1/this.kv11;\n        this.dv22=1/this.kv22;\n\n        if(enableSpring1&&this.limitState1!=2){\n            var omega=6.2831853*frequency1;\n            var k=omega*omega*timeStep;\n            var dmp=invTimeStep/(k+2*this.limitMotor1.dampingRatio*omega);\n            this.cfm1=this.kv00*dmp;\n            this.limitVelocity1*=k*dmp;\n        }else{\n            this.cfm1=0;\n            this.limitVelocity1*=invTimeStep*0.05;\n        }\n\n        if(enableSpring2&&this.limitState2!=2){\n            omega=6.2831853*frequency2;\n            k=omega*omega*timeStep;\n            dmp=invTimeStep/(k+2*this.limitMotor2.dampingRatio*omega);\n            this.cfm2=this.kv11*dmp;\n            this.limitVelocity2*=k*dmp;\n        }else{\n            this.cfm2=0;\n            this.limitVelocity2*=invTimeStep*0.05;\n        }\n\n        if(enableSpring3&&this.limitState3!=2){\n            omega=6.2831853*frequency3;\n            k=omega*omega*timeStep;\n            dmp=invTimeStep/(k+2*this.limitMotor3.dampingRatio*omega);\n            this.cfm3=this.kv22*dmp;\n            this.limitVelocity3*=k*dmp;\n        }else{\n            this.cfm3=0;\n            this.limitVelocity3*=invTimeStep*0.05;\n        }\n\n        this.k00+=this.cfm1;\n        this.k11+=this.cfm2;\n        this.k22+=this.cfm3;\n\n        var inv=1/(\n        this.k00*(this.k11*this.k22-this.k21*this.k12)+\n        this.k10*(this.k21*this.k02-this.k01*this.k22)+\n        this.k20*(this.k01*this.k12-this.k11*this.k02)\n        );\n        this.d00=(this.k11*this.k22-this.k12*this.k21)*inv;\n        this.d01=(this.k02*this.k21-this.k01*this.k22)*inv;\n        this.d02=(this.k01*this.k12-this.k02*this.k11)*inv;\n        this.d10=(this.k12*this.k20-this.k10*this.k22)*inv;\n        this.d11=(this.k00*this.k22-this.k02*this.k20)*inv;\n        this.d12=(this.k02*this.k10-this.k00*this.k12)*inv;\n        this.d20=(this.k10*this.k21-this.k11*this.k20)*inv;\n        this.d21=(this.k01*this.k20-this.k00*this.k21)*inv;\n        this.d22=(this.k00*this.k11-this.k01*this.k10)*inv;\n        \n        this.limitImpulse1*=0.95;\n        this.motorImpulse1*=0.95;\n        this.limitImpulse2*=0.95;\n        this.motorImpulse2*=0.95;\n        this.limitImpulse3*=0.95;\n        this.motorImpulse3*=0.95;\n        var totalImpulse1=this.limitImpulse1+this.motorImpulse1;\n        var totalImpulse2=this.limitImpulse2+this.motorImpulse2;\n        var totalImpulse3=this.limitImpulse3+this.motorImpulse3;\n        this.a1.x+=totalImpulse1*this.a1x1+totalImpulse2*this.a1x2+totalImpulse3*this.a1x3;\n        this.a1.y+=totalImpulse1*this.a1y1+totalImpulse2*this.a1y2+totalImpulse3*this.a1y3;\n        this.a1.z+=totalImpulse1*this.a1z1+totalImpulse2*this.a1z2+totalImpulse3*this.a1z3;\n        this.a2.x-=totalImpulse1*this.a2x1+totalImpulse2*this.a2x2+totalImpulse3*this.a2x3;\n        this.a2.y-=totalImpulse1*this.a2y1+totalImpulse2*this.a2y2+totalImpulse3*this.a2y3;\n        this.a2.z-=totalImpulse1*this.a2z1+totalImpulse2*this.a2z2+totalImpulse3*this.a2z3;\n    },\n    solve_:function(){\n\n        var rvx=this.a2.x-this.a1.x;\n        var rvy=this.a2.y-this.a1.y;\n        var rvz=this.a2.z-this.a1.z;\n\n        this.limitVelocity3=30;\n        var rvn1=rvx*this.ax1+rvy*this.ay1+rvz*this.az1-this.limitVelocity1;\n        var rvn2=rvx*this.ax2+rvy*this.ay2+rvz*this.az2-this.limitVelocity2;\n        var rvn3=rvx*this.ax3+rvy*this.ay3+rvz*this.az3-this.limitVelocity3;\n\n        var dLimitImpulse1=rvn1*this.d00+rvn2*this.d01+rvn3*this.d02;\n        var dLimitImpulse2=rvn1*this.d10+rvn2*this.d11+rvn3*this.d12;\n        var dLimitImpulse3=rvn1*this.d20+rvn2*this.d21+rvn3*this.d22;\n\n        this.limitImpulse1+=dLimitImpulse1;\n        this.limitImpulse2+=dLimitImpulse2;\n        this.limitImpulse3+=dLimitImpulse3;\n\n        this.a1.x+=dLimitImpulse1*this.a1x1+dLimitImpulse2*this.a1x2+dLimitImpulse3*this.a1x3;\n        this.a1.y+=dLimitImpulse1*this.a1y1+dLimitImpulse2*this.a1y2+dLimitImpulse3*this.a1y3;\n        this.a1.z+=dLimitImpulse1*this.a1z1+dLimitImpulse2*this.a1z2+dLimitImpulse3*this.a1z3;\n        this.a2.x-=dLimitImpulse1*this.a2x1+dLimitImpulse2*this.a2x2+dLimitImpulse3*this.a2x3;\n        this.a2.y-=dLimitImpulse1*this.a2y1+dLimitImpulse2*this.a2y2+dLimitImpulse3*this.a2y3;\n        this.a2.z-=dLimitImpulse1*this.a2z1+dLimitImpulse2*this.a2z2+dLimitImpulse3*this.a2z3;\n    },\n    solve:function(){\n\n        var rvx=this.a2.x-this.a1.x;\n        var rvy=this.a2.y-this.a1.y;\n        var rvz=this.a2.z-this.a1.z;\n\n        var rvn1=rvx*this.ax1+rvy*this.ay1+rvz*this.az1;\n        var rvn2=rvx*this.ax2+rvy*this.ay2+rvz*this.az2;\n        var rvn3=rvx*this.ax3+rvy*this.ay3+rvz*this.az3;\n\n        var oldMotorImpulse1=this.motorImpulse1;\n        var oldMotorImpulse2=this.motorImpulse2;\n        var oldMotorImpulse3=this.motorImpulse3;\n\n        var dMotorImpulse1=0;\n        var dMotorImpulse2=0;\n        var dMotorImpulse3=0;\n\n        if(this.enableMotor1){\n            dMotorImpulse1=(rvn1-this.motorSpeed1)*this.dv00;\n            this.motorImpulse1+=dMotorImpulse1;\n            if(this.motorImpulse1>this.maxMotorImpulse1){ // clamp motor impulse\n            this.motorImpulse1=this.maxMotorImpulse1;\n            }else if(this.motorImpulse1<-this.maxMotorImpulse1){\n            this.motorImpulse1=-this.maxMotorImpulse1;\n            }\n            dMotorImpulse1=this.motorImpulse1-oldMotorImpulse1;\n        }\n        if(this.enableMotor2){\n            dMotorImpulse2=(rvn2-this.motorSpeed2)*this.dv11;\n            this.motorImpulse2+=dMotorImpulse2;\n            if(this.motorImpulse2>this.maxMotorImpulse2){ // clamp motor impulse\n                this.motorImpulse2=this.maxMotorImpulse2;\n            }else if(this.motorImpulse2<-this.maxMotorImpulse2){\n                this.motorImpulse2=-this.maxMotorImpulse2;\n            }\n            dMotorImpulse2=this.motorImpulse2-oldMotorImpulse2;\n        }\n        if(this.enableMotor3){\n            dMotorImpulse3=(rvn3-this.motorSpeed3)*this.dv22;\n            this.motorImpulse3+=dMotorImpulse3;\n            if(this.motorImpulse3>this.maxMotorImpulse3){ // clamp motor impulse\n                this.motorImpulse3=this.maxMotorImpulse3;\n            }else if(this.motorImpulse3<-this.maxMotorImpulse3){\n                this.motorImpulse3=-this.maxMotorImpulse3;\n            }\n            dMotorImpulse3=this.motorImpulse3-oldMotorImpulse3;\n        }\n\n        // apply motor impulse to relative velocity\n        rvn1+=dMotorImpulse1*this.kv00+dMotorImpulse2*this.k01+dMotorImpulse3*this.k02;\n        rvn2+=dMotorImpulse1*this.k10+dMotorImpulse2*this.kv11+dMotorImpulse3*this.k12;\n        rvn3+=dMotorImpulse1*this.k20+dMotorImpulse2*this.k21+dMotorImpulse3*this.kv22;\n\n        // subtract target velocity and applied impulse\n        rvn1-=this.limitVelocity1+this.limitImpulse1*this.cfm1;\n        rvn2-=this.limitVelocity2+this.limitImpulse2*this.cfm2;\n        rvn3-=this.limitVelocity3+this.limitImpulse3*this.cfm3;\n\n        var oldLimitImpulse1=this.limitImpulse1;\n        var oldLimitImpulse2=this.limitImpulse2;\n        var oldLimitImpulse3=this.limitImpulse3;\n\n        var dLimitImpulse1=rvn1*this.d00+rvn2*this.d01+rvn3*this.d02;\n        var dLimitImpulse2=rvn1*this.d10+rvn2*this.d11+rvn3*this.d12;\n        var dLimitImpulse3=rvn1*this.d20+rvn2*this.d21+rvn3*this.d22;\n\n        this.limitImpulse1+=dLimitImpulse1;\n        this.limitImpulse2+=dLimitImpulse2;\n        this.limitImpulse3+=dLimitImpulse3;\n\n        // clamp\n        var clampState=0;\n        if(this.limitState1==2||this.limitImpulse1*this.limitState1<0){\n            dLimitImpulse1=-oldLimitImpulse1;\n            rvn2+=dLimitImpulse1*this.k10;\n            rvn3+=dLimitImpulse1*this.k20;\n            clampState|=1;\n        }\n        if(this.limitState2==2||this.limitImpulse2*this.limitState2<0){\n            dLimitImpulse2=-oldLimitImpulse2;\n            rvn1+=dLimitImpulse2*this.k01;\n            rvn3+=dLimitImpulse2*this.k21;\n            clampState|=2;\n        }\n        if(this.limitState3==2||this.limitImpulse3*this.limitState3<0){\n            dLimitImpulse3=-oldLimitImpulse3;\n            rvn1+=dLimitImpulse3*this.k02;\n            rvn2+=dLimitImpulse3*this.k12;\n            clampState|=4;\n        }\n\n        // update un-clamped impulse\n        // TODO: isolate division\n        var det;\n        switch(clampState){\n            case 1: // update 2 3\n            det=1/(this.k11*this.k22-this.k12*this.k21);\n            dLimitImpulse2=(this.k22*rvn2+-this.k12*rvn3)*det;\n            dLimitImpulse3=(-this.k21*rvn2+this.k11*rvn3)*det;\n            break;\n            case 2: // update 1 3\n            det=1/(this.k00*this.k22-this.k02*this.k20);\n            dLimitImpulse1=(this.k22*rvn1+-this.k02*rvn3)*det;\n            dLimitImpulse3=(-this.k20*rvn1+this.k00*rvn3)*det;\n            break;\n            case 3: // update 3\n            dLimitImpulse3=rvn3/this.k22;\n            break;\n            case 4: // update 1 2\n            det=1/(this.k00*this.k11-this.k01*this.k10);\n            dLimitImpulse1=(this.k11*rvn1+-this.k01*rvn2)*det;\n            dLimitImpulse2=(-this.k10*rvn1+this.k00*rvn2)*det;\n            break;\n            case 5: // update 2\n            dLimitImpulse2=rvn2/this.k11;\n            break;\n            case 6: // update 1\n            dLimitImpulse1=rvn1/this.k00;\n            break;\n        }\n\n        this.limitImpulse1=dLimitImpulse1+oldLimitImpulse1;\n        this.limitImpulse2=dLimitImpulse2+oldLimitImpulse2;\n        this.limitImpulse3=dLimitImpulse3+oldLimitImpulse3;\n\n        var dImpulse1=dMotorImpulse1+dLimitImpulse1;\n        var dImpulse2=dMotorImpulse2+dLimitImpulse2;\n        var dImpulse3=dMotorImpulse3+dLimitImpulse3;\n\n        // apply impulse\n        this.a1.x+=dImpulse1*this.a1x1+dImpulse2*this.a1x2+dImpulse3*this.a1x3;\n        this.a1.y+=dImpulse1*this.a1y1+dImpulse2*this.a1y2+dImpulse3*this.a1y3;\n        this.a1.z+=dImpulse1*this.a1z1+dImpulse2*this.a1z2+dImpulse3*this.a1z3;\n        this.a2.x-=dImpulse1*this.a2x1+dImpulse2*this.a2x2+dImpulse3*this.a2x3;\n        this.a2.y-=dImpulse1*this.a2y1+dImpulse2*this.a2y2+dImpulse3*this.a2y3;\n        this.a2.z-=dImpulse1*this.a2z1+dImpulse2*this.a2z2+dImpulse3*this.a2z3;\n        rvx=this.a2.x-this.a1.x;\n        rvy=this.a2.y-this.a1.y;\n        rvz=this.a2.z-this.a1.z;\n\n        rvn2=rvx*this.ax2+rvy*this.ay2+rvz*this.az2;\n    }\n    \n} );\n\n/**\n * A hinge joint allows only for relative rotation of rigid bodies along the axis.\n *\n * @author saharan\n * @author lo-th\n */\n\nfunction HingeJoint ( config, lowerAngleLimit, upperAngleLimit ) {\n\n    Joint.call( this, config );\n\n    this.type = JOINT_HINGE;\n\n    // The axis in the first body's coordinate system.\n    this.localAxis1 = config.localAxis1.clone().normalize();\n    // The axis in the second body's coordinate system.\n    this.localAxis2 = config.localAxis2.clone().normalize();\n\n    // make angle axis\n    var arc = new Mat33().setQuat( new Quat().setFromUnitVectors( this.localAxis1, this.localAxis2 ) );\n    this.localAngle1 = new Vec3().tangent( this.localAxis1 ).normalize();\n    this.localAngle2 = this.localAngle1.clone().applyMatrix3( arc, true );\n\n    this.ax1 = new Vec3();\n    this.ax2 = new Vec3();\n    this.an1 = new Vec3();\n    this.an2 = new Vec3();\n\n    this.tmp = new Vec3();\n\n    this.nor = new Vec3();\n    this.tan = new Vec3();\n    this.bin = new Vec3();\n\n    // The rotational limit and motor information of the joint.\n    this.limitMotor = new LimitMotor( this.nor, false );\n    this.limitMotor.lowerLimit = lowerAngleLimit;\n    this.limitMotor.upperLimit = upperAngleLimit;\n\n    this.lc = new LinearConstraint( this );\n    this.r3 = new Rotational3Constraint( this, this.limitMotor, new LimitMotor( this.tan, true ), new LimitMotor( this.bin, true ) );\n}\n\nHingeJoint.prototype = Object.assign( Object.create( Joint.prototype ), {\n\n    constructor: HingeJoint,\n\n\n    preSolve: function ( timeStep, invTimeStep ) {\n\n        this.updateAnchorPoints();\n\n        this.ax1.copy( this.localAxis1 ).applyMatrix3( this.body1.rotation, true );\n        this.ax2.copy( this.localAxis2 ).applyMatrix3( this.body2.rotation, true );\n\n        this.an1.copy( this.localAngle1 ).applyMatrix3( this.body1.rotation, true );\n        this.an2.copy( this.localAngle2 ).applyMatrix3( this.body2.rotation, true );\n\n        // normal tangent binormal\n\n        this.nor.set(\n            this.ax1.x*this.body2.inverseMass + this.ax2.x*this.body1.inverseMass,\n            this.ax1.y*this.body2.inverseMass + this.ax2.y*this.body1.inverseMass,\n            this.ax1.z*this.body2.inverseMass + this.ax2.z*this.body1.inverseMass\n        ).normalize();\n\n        this.tan.tangent( this.nor ).normalize();\n\n        this.bin.crossVectors( this.nor, this.tan );\n\n        // calculate hinge angle\n\n        var limite = _Math.acosClamp( _Math.dotVectors( this.an1, this.an2 ) );\n\n        this.tmp.crossVectors( this.an1, this.an2 );\n\n        if( _Math.dotVectors( this.nor, this.tmp ) < 0 ) this.limitMotor.angle = -limite;\n        else this.limitMotor.angle = limite;\n\n        this.tmp.crossVectors( this.ax1, this.ax2 );\n\n        this.r3.limitMotor2.angle = _Math.dotVectors( this.tan, this.tmp );\n        this.r3.limitMotor3.angle = _Math.dotVectors( this.bin, this.tmp );\n\n        // preSolve\n        \n        this.r3.preSolve( timeStep, invTimeStep );\n        this.lc.preSolve( timeStep, invTimeStep );\n\n    },\n\n    solve: function () {\n\n        this.r3.solve();\n        this.lc.solve();\n\n    },\n\n    postSolve: function () {\n\n    }\n\n});\n\n/**\n * A ball-and-socket joint limits relative translation on two anchor points on rigid bodies.\n *\n * @author saharan\n * @author lo-th\n */\n\nfunction BallAndSocketJoint ( config ){\n\n    Joint.call( this, config );\n\n    this.type = JOINT_BALL_AND_SOCKET;\n    \n    this.lc = new LinearConstraint( this );\n\n}\n\nBallAndSocketJoint.prototype = Object.assign( Object.create( Joint.prototype ), {\n\n    constructor: BallAndSocketJoint,\n\n    preSolve: function ( timeStep, invTimeStep ) {\n\n        this.updateAnchorPoints();\n\n        // preSolve\n\n        this.lc.preSolve( timeStep, invTimeStep );\n\n    },\n\n    solve: function () {\n\n        this.lc.solve();\n\n    },\n\n    postSolve: function () {\n\n    }\n\n});\n\n/**\n* A translational constraint for various joints.\n* @author saharan\n*/\nfunction TranslationalConstraint ( joint, limitMotor ){\n    this.cfm=NaN;\n    this.m1=NaN;\n    this.m2=NaN;\n    this.i1e00=NaN;\n    this.i1e01=NaN;\n    this.i1e02=NaN;\n    this.i1e10=NaN;\n    this.i1e11=NaN;\n    this.i1e12=NaN;\n    this.i1e20=NaN;\n    this.i1e21=NaN;\n    this.i1e22=NaN;\n    this.i2e00=NaN;\n    this.i2e01=NaN;\n    this.i2e02=NaN;\n    this.i2e10=NaN;\n    this.i2e11=NaN;\n    this.i2e12=NaN;\n    this.i2e20=NaN;\n    this.i2e21=NaN;\n    this.i2e22=NaN;\n    this.motorDenom=NaN;\n    this.invMotorDenom=NaN;\n    this.invDenom=NaN;\n    this.ax=NaN;\n    this.ay=NaN;\n    this.az=NaN;\n    this.r1x=NaN;\n    this.r1y=NaN;\n    this.r1z=NaN;\n    this.r2x=NaN;\n    this.r2y=NaN;\n    this.r2z=NaN;\n    this.t1x=NaN;\n    this.t1y=NaN;\n    this.t1z=NaN;\n    this.t2x=NaN;\n    this.t2y=NaN;\n    this.t2z=NaN;\n    this.l1x=NaN;\n    this.l1y=NaN;\n    this.l1z=NaN;\n    this.l2x=NaN;\n    this.l2y=NaN;\n    this.l2z=NaN;\n    this.a1x=NaN;\n    this.a1y=NaN;\n    this.a1z=NaN;\n    this.a2x=NaN;\n    this.a2y=NaN;\n    this.a2z=NaN;\n    this.lowerLimit=NaN;\n    this.upperLimit=NaN;\n    this.limitVelocity=NaN;\n    this.limitState=0; // -1: at lower, 0: locked, 1: at upper, 2: free\n    this.enableMotor=false;\n    this.motorSpeed=NaN;\n    this.maxMotorForce=NaN;\n    this.maxMotorImpulse=NaN;\n\n    this.limitMotor=limitMotor;\n    this.b1=joint.body1;\n    this.b2=joint.body2;\n    this.p1=joint.anchorPoint1;\n    this.p2=joint.anchorPoint2;\n    this.r1=joint.relativeAnchorPoint1;\n    this.r2=joint.relativeAnchorPoint2;\n    this.l1=this.b1.linearVelocity;\n    this.l2=this.b2.linearVelocity;\n    this.a1=this.b1.angularVelocity;\n    this.a2=this.b2.angularVelocity;\n    this.i1=this.b1.inverseInertia;\n    this.i2=this.b2.inverseInertia;\n    this.limitImpulse=0;\n    this.motorImpulse=0;\n}\n\nObject.assign( TranslationalConstraint.prototype, {\n\n    TranslationalConstraint: true,\n\n    preSolve:function(timeStep,invTimeStep){\n        this.ax=this.limitMotor.axis.x;\n        this.ay=this.limitMotor.axis.y;\n        this.az=this.limitMotor.axis.z;\n        this.lowerLimit=this.limitMotor.lowerLimit;\n        this.upperLimit=this.limitMotor.upperLimit;\n        this.motorSpeed=this.limitMotor.motorSpeed;\n        this.maxMotorForce=this.limitMotor.maxMotorForce;\n        this.enableMotor=this.maxMotorForce>0;\n        this.m1=this.b1.inverseMass;\n        this.m2=this.b2.inverseMass;\n\n        var ti1 = this.i1.elements;\n        var ti2 = this.i2.elements;\n        this.i1e00=ti1[0];\n        this.i1e01=ti1[1];\n        this.i1e02=ti1[2];\n        this.i1e10=ti1[3];\n        this.i1e11=ti1[4];\n        this.i1e12=ti1[5];\n        this.i1e20=ti1[6];\n        this.i1e21=ti1[7];\n        this.i1e22=ti1[8];\n\n        this.i2e00=ti2[0];\n        this.i2e01=ti2[1];\n        this.i2e02=ti2[2];\n        this.i2e10=ti2[3];\n        this.i2e11=ti2[4];\n        this.i2e12=ti2[5];\n        this.i2e20=ti2[6];\n        this.i2e21=ti2[7];\n        this.i2e22=ti2[8];\n\n        var dx=this.p2.x-this.p1.x;\n        var dy=this.p2.y-this.p1.y;\n        var dz=this.p2.z-this.p1.z;\n        var d=dx*this.ax+dy*this.ay+dz*this.az;\n        var frequency=this.limitMotor.frequency;\n        var enableSpring=frequency>0;\n        var enableLimit=this.lowerLimit<=this.upperLimit;\n        if(enableSpring&&d>20||d<-20){\n            enableSpring=false;\n        }\n\n        if(enableLimit){\n            if(this.lowerLimit==this.upperLimit){\n                if(this.limitState!=0){\n                    this.limitState=0;\n                    this.limitImpulse=0;\n                }\n                this.limitVelocity=this.lowerLimit-d;\n                if(!enableSpring)d=this.lowerLimit;\n            }else if(d<this.lowerLimit){\n                if(this.limitState!=-1){\n                    this.limitState=-1;\n                    this.limitImpulse=0;\n                }\n                this.limitVelocity=this.lowerLimit-d;\n                if(!enableSpring)d=this.lowerLimit;\n            }else if(d>this.upperLimit){\n                if(this.limitState!=1){\n                    this.limitState=1;\n                    this.limitImpulse=0;\n                }\n                this.limitVelocity=this.upperLimit-d;\n                if(!enableSpring)d=this.upperLimit;\n            }else{\n                this.limitState=2;\n                this.limitImpulse=0;\n                this.limitVelocity=0;\n            }\n            if(!enableSpring){\n                if(this.limitVelocity>0.005)this.limitVelocity-=0.005;\n                else if(this.limitVelocity<-0.005)this.limitVelocity+=0.005;\n                else this.limitVelocity=0;\n            }\n        }else{\n            this.limitState=2;\n            this.limitImpulse=0;\n        }\n\n        if(this.enableMotor&&(this.limitState!=0||enableSpring)){\n            this.maxMotorImpulse=this.maxMotorForce*timeStep;\n        }else{\n            this.motorImpulse=0;\n            this.maxMotorImpulse=0;\n        }\n\n        var rdx=d*this.ax;\n        var rdy=d*this.ay;\n        var rdz=d*this.az;\n        var w1=this.m1/(this.m1+this.m2);\n        var w2=1-w1;\n        this.r1x=this.r1.x+rdx*w1;\n        this.r1y=this.r1.y+rdy*w1;\n        this.r1z=this.r1.z+rdz*w1;\n        this.r2x=this.r2.x-rdx*w2;\n        this.r2y=this.r2.y-rdy*w2;\n        this.r2z=this.r2.z-rdz*w2;\n\n        this.t1x=this.r1y*this.az-this.r1z*this.ay;\n        this.t1y=this.r1z*this.ax-this.r1x*this.az;\n        this.t1z=this.r1x*this.ay-this.r1y*this.ax;\n        this.t2x=this.r2y*this.az-this.r2z*this.ay;\n        this.t2y=this.r2z*this.ax-this.r2x*this.az;\n        this.t2z=this.r2x*this.ay-this.r2y*this.ax;\n        this.l1x=this.ax*this.m1;\n        this.l1y=this.ay*this.m1;\n        this.l1z=this.az*this.m1;\n        this.l2x=this.ax*this.m2;\n        this.l2y=this.ay*this.m2;\n        this.l2z=this.az*this.m2;\n        this.a1x=this.t1x*this.i1e00+this.t1y*this.i1e01+this.t1z*this.i1e02;\n        this.a1y=this.t1x*this.i1e10+this.t1y*this.i1e11+this.t1z*this.i1e12;\n        this.a1z=this.t1x*this.i1e20+this.t1y*this.i1e21+this.t1z*this.i1e22;\n        this.a2x=this.t2x*this.i2e00+this.t2y*this.i2e01+this.t2z*this.i2e02;\n        this.a2y=this.t2x*this.i2e10+this.t2y*this.i2e11+this.t2z*this.i2e12;\n        this.a2z=this.t2x*this.i2e20+this.t2y*this.i2e21+this.t2z*this.i2e22;\n        this.motorDenom=\n        this.m1+this.m2+\n            this.ax*(this.a1y*this.r1z-this.a1z*this.r1y+this.a2y*this.r2z-this.a2z*this.r2y)+\n            this.ay*(this.a1z*this.r1x-this.a1x*this.r1z+this.a2z*this.r2x-this.a2x*this.r2z)+\n            this.az*(this.a1x*this.r1y-this.a1y*this.r1x+this.a2x*this.r2y-this.a2y*this.r2x);\n\n        this.invMotorDenom=1/this.motorDenom;\n\n        if(enableSpring&&this.limitState!=2){\n            var omega=6.2831853*frequency;\n            var k=omega*omega*timeStep;\n            var dmp=invTimeStep/(k+2*this.limitMotor.dampingRatio*omega);\n            this.cfm=this.motorDenom*dmp;\n            this.limitVelocity*=k*dmp;\n        }else{\n            this.cfm=0;\n            this.limitVelocity*=invTimeStep*0.05;\n        }\n\n        this.invDenom=1/(this.motorDenom+this.cfm);\n\n        var totalImpulse=this.limitImpulse+this.motorImpulse;\n        this.l1.x+=totalImpulse*this.l1x;\n        this.l1.y+=totalImpulse*this.l1y;\n        this.l1.z+=totalImpulse*this.l1z;\n        this.a1.x+=totalImpulse*this.a1x;\n        this.a1.y+=totalImpulse*this.a1y;\n        this.a1.z+=totalImpulse*this.a1z;\n        this.l2.x-=totalImpulse*this.l2x;\n        this.l2.y-=totalImpulse*this.l2y;\n        this.l2.z-=totalImpulse*this.l2z;\n        this.a2.x-=totalImpulse*this.a2x;\n        this.a2.y-=totalImpulse*this.a2y;\n        this.a2.z-=totalImpulse*this.a2z;\n    },\n    solve:function(){\n        var rvn=\n            this.ax*(this.l2.x-this.l1.x)+this.ay*(this.l2.y-this.l1.y)+this.az*(this.l2.z-this.l1.z)+\n            this.t2x*this.a2.x-this.t1x*this.a1.x+this.t2y*this.a2.y-this.t1y*this.a1.y+this.t2z*this.a2.z-this.t1z*this.a1.z;\n\n        // motor part\n        var newMotorImpulse;\n        if(this.enableMotor){\n            newMotorImpulse=(rvn-this.motorSpeed)*this.invMotorDenom;\n            var oldMotorImpulse=this.motorImpulse;\n            this.motorImpulse+=newMotorImpulse;\n            if(this.motorImpulse>this.maxMotorImpulse)this.motorImpulse=this.maxMotorImpulse;\n            else if(this.motorImpulse<-this.maxMotorImpulse)this.motorImpulse=-this.maxMotorImpulse;\n            newMotorImpulse=this.motorImpulse-oldMotorImpulse;\n            rvn-=newMotorImpulse*this.motorDenom;\n        }else newMotorImpulse=0;\n\n        // limit part\n        var newLimitImpulse;\n        if(this.limitState!=2){\n            newLimitImpulse=(rvn-this.limitVelocity-this.limitImpulse*this.cfm)*this.invDenom;\n            var oldLimitImpulse=this.limitImpulse;\n            this.limitImpulse+=newLimitImpulse;\n            if(this.limitImpulse*this.limitState<0)this.limitImpulse=0;\n            newLimitImpulse=this.limitImpulse-oldLimitImpulse;\n        }else newLimitImpulse=0;\n        \n        var totalImpulse=newLimitImpulse+newMotorImpulse;\n        this.l1.x+=totalImpulse*this.l1x;\n        this.l1.y+=totalImpulse*this.l1y;\n        this.l1.z+=totalImpulse*this.l1z;\n        this.a1.x+=totalImpulse*this.a1x;\n        this.a1.y+=totalImpulse*this.a1y;\n        this.a1.z+=totalImpulse*this.a1z;\n        this.l2.x-=totalImpulse*this.l2x;\n        this.l2.y-=totalImpulse*this.l2y;\n        this.l2.z-=totalImpulse*this.l2z;\n        this.a2.x-=totalImpulse*this.a2x;\n        this.a2.y-=totalImpulse*this.a2y;\n        this.a2.z-=totalImpulse*this.a2z;\n    }\n} );\n\n/**\n * A distance joint limits the distance between two anchor points on rigid bodies.\n *\n * @author saharan\n * @author lo-th\n */\n\nfunction DistanceJoint ( config, minDistance, maxDistance ){\n\n    Joint.call( this, config );\n\n    this.type = JOINT_DISTANCE;\n    \n    this.nor = new Vec3();\n\n    // The limit and motor information of the joint.\n    this.limitMotor = new LimitMotor( this.nor, true );\n    this.limitMotor.lowerLimit = minDistance;\n    this.limitMotor.upperLimit = maxDistance;\n\n    this.t = new TranslationalConstraint( this, this.limitMotor );\n\n}\n\nDistanceJoint.prototype = Object.assign( Object.create( Joint.prototype ), {\n\n    constructor: DistanceJoint,\n\n    preSolve: function ( timeStep, invTimeStep ) {\n\n        this.updateAnchorPoints();\n\n        this.nor.sub( this.anchorPoint2, this.anchorPoint1 ).normalize();\n\n        // preSolve\n\n        this.t.preSolve( timeStep, invTimeStep );\n\n    },\n\n    solve: function () {\n\n        this.t.solve();\n\n    },\n\n    postSolve: function () {\n\n    }\n\n});\n\n/**\n* An angular constraint for all axes for various joints.\n* @author saharan\n*/\n\nfunction AngularConstraint( joint, targetOrientation ) {\n\n    this.joint = joint;\n\n    this.targetOrientation = new Quat().invert( targetOrientation );\n\n    this.relativeOrientation = new Quat();\n\n    this.ii1 = null;\n    this.ii2 = null;\n    this.dd = null;\n\n    this.vel = new Vec3();\n    this.imp = new Vec3();\n\n    this.rn0 = new Vec3();\n    this.rn1 = new Vec3();\n    this.rn2 = new Vec3();\n\n    this.b1 = joint.body1;\n    this.b2 = joint.body2;\n    this.a1 = this.b1.angularVelocity;\n    this.a2 = this.b2.angularVelocity;\n    this.i1 = this.b1.inverseInertia;\n    this.i2 = this.b2.inverseInertia;\n\n}\n\nObject.assign( AngularConstraint.prototype, {\n\n    AngularConstraint: true,\n\n    preSolve: function ( timeStep, invTimeStep ) {\n\n        var inv, len, v;\n\n        this.ii1 = this.i1.clone();\n        this.ii2 = this.i2.clone();\n\n        v = new Mat33().add(this.ii1, this.ii2).elements;\n        inv = 1/( v[0]*(v[4]*v[8]-v[7]*v[5])  +  v[3]*(v[7]*v[2]-v[1]*v[8])  +  v[6]*(v[1]*v[5]-v[4]*v[2]) );\n        this.dd = new Mat33().set(\n            v[4]*v[8]-v[5]*v[7], v[2]*v[7]-v[1]*v[8], v[1]*v[5]-v[2]*v[4],\n            v[5]*v[6]-v[3]*v[8], v[0]*v[8]-v[2]*v[6], v[2]*v[3]-v[0]*v[5],\n            v[3]*v[7]-v[4]*v[6], v[1]*v[6]-v[0]*v[7], v[0]*v[4]-v[1]*v[3]\n        ).multiplyScalar( inv );\n        \n        this.relativeOrientation.invert( this.b1.orientation ).multiply( this.targetOrientation ).multiply( this.b2.orientation );\n\n        inv = this.relativeOrientation.w*2;\n\n        this.vel.copy( this.relativeOrientation ).multiplyScalar( inv );\n\n        len = this.vel.length();\n\n        if( len > 0.02 ) {\n            len = (0.02-len)/len*invTimeStep*0.05;\n            this.vel.multiplyScalar( len );\n        }else{\n            this.vel.set(0,0,0);\n        }\n\n        this.rn1.copy( this.imp ).applyMatrix3( this.ii1, true );\n        this.rn2.copy( this.imp ).applyMatrix3( this.ii2, true );\n\n        this.a1.add( this.rn1 );\n        this.a2.sub( this.rn2 );\n\n    },\n\n    solve: function () {\n\n        var r = this.a2.clone().sub( this.a1 ).sub( this.vel );\n\n        this.rn0.copy( r ).applyMatrix3( this.dd, true );\n        this.rn1.copy( this.rn0 ).applyMatrix3( this.ii1, true );\n        this.rn2.copy( this.rn0 ).applyMatrix3( this.ii2, true );\n\n        this.imp.add( this.rn0 );\n        this.a1.add( this.rn1 );\n        this.a2.sub( this.rn2 );\n\n    }\n\n} );\n\n/**\n* A three-axis translational constraint for various joints.\n* @author saharan\n*/\nfunction Translational3Constraint (joint,limitMotor1,limitMotor2,limitMotor3){\n\n    this.m1=NaN;\n    this.m2=NaN;\n    this.i1e00=NaN;\n    this.i1e01=NaN;\n    this.i1e02=NaN;\n    this.i1e10=NaN;\n    this.i1e11=NaN;\n    this.i1e12=NaN;\n    this.i1e20=NaN;\n    this.i1e21=NaN;\n    this.i1e22=NaN;\n    this.i2e00=NaN;\n    this.i2e01=NaN;\n    this.i2e02=NaN;\n    this.i2e10=NaN;\n    this.i2e11=NaN;\n    this.i2e12=NaN;\n    this.i2e20=NaN;\n    this.i2e21=NaN;\n    this.i2e22=NaN;\n    this.ax1=NaN;\n    this.ay1=NaN;\n    this.az1=NaN;\n    this.ax2=NaN;\n    this.ay2=NaN;\n    this.az2=NaN;\n    this.ax3=NaN;\n    this.ay3=NaN;\n    this.az3=NaN;\n    this.r1x=NaN;\n    this.r1y=NaN;\n    this.r1z=NaN;\n    this.r2x=NaN;\n    this.r2y=NaN;\n    this.r2z=NaN;\n    this.t1x1=NaN;// jacobians\n    this.t1y1=NaN;\n    this.t1z1=NaN;\n    this.t2x1=NaN;\n    this.t2y1=NaN;\n    this.t2z1=NaN;\n    this.l1x1=NaN;\n    this.l1y1=NaN;\n    this.l1z1=NaN;\n    this.l2x1=NaN;\n    this.l2y1=NaN;\n    this.l2z1=NaN;\n    this.a1x1=NaN;\n    this.a1y1=NaN;\n    this.a1z1=NaN;\n    this.a2x1=NaN;\n    this.a2y1=NaN;\n    this.a2z1=NaN;\n    this.t1x2=NaN;\n    this.t1y2=NaN;\n    this.t1z2=NaN;\n    this.t2x2=NaN;\n    this.t2y2=NaN;\n    this.t2z2=NaN;\n    this.l1x2=NaN;\n    this.l1y2=NaN;\n    this.l1z2=NaN;\n    this.l2x2=NaN;\n    this.l2y2=NaN;\n    this.l2z2=NaN;\n    this.a1x2=NaN;\n    this.a1y2=NaN;\n    this.a1z2=NaN;\n    this.a2x2=NaN;\n    this.a2y2=NaN;\n    this.a2z2=NaN;\n    this.t1x3=NaN;\n    this.t1y3=NaN;\n    this.t1z3=NaN;\n    this.t2x3=NaN;\n    this.t2y3=NaN;\n    this.t2z3=NaN;\n    this.l1x3=NaN;\n    this.l1y3=NaN;\n    this.l1z3=NaN;\n    this.l2x3=NaN;\n    this.l2y3=NaN;\n    this.l2z3=NaN;\n    this.a1x3=NaN;\n    this.a1y3=NaN;\n    this.a1z3=NaN;\n    this.a2x3=NaN;\n    this.a2y3=NaN;\n    this.a2z3=NaN;\n    this.lowerLimit1=NaN;\n    this.upperLimit1=NaN;\n    this.limitVelocity1=NaN;\n    this.limitState1=0; // -1: at lower, 0: locked, 1: at upper, 2: unlimited\n    this.enableMotor1=false;\n    this.motorSpeed1=NaN;\n    this.maxMotorForce1=NaN;\n    this.maxMotorImpulse1=NaN;\n    this.lowerLimit2=NaN;\n    this.upperLimit2=NaN;\n    this.limitVelocity2=NaN;\n    this.limitState2=0; // -1: at lower, 0: locked, 1: at upper, 2: unlimited\n    this.enableMotor2=false;\n    this.motorSpeed2=NaN;\n    this.maxMotorForce2=NaN;\n    this.maxMotorImpulse2=NaN;\n    this.lowerLimit3=NaN;\n    this.upperLimit3=NaN;\n    this.limitVelocity3=NaN;\n    this.limitState3=0; // -1: at lower, 0: locked, 1: at upper, 2: unlimited\n    this.enableMotor3=false;\n    this.motorSpeed3=NaN;\n    this.maxMotorForce3=NaN;\n    this.maxMotorImpulse3=NaN;\n    this.k00=NaN; // K = J*M*JT\n    this.k01=NaN;\n    this.k02=NaN;\n    this.k10=NaN;\n    this.k11=NaN;\n    this.k12=NaN;\n    this.k20=NaN;\n    this.k21=NaN;\n    this.k22=NaN;\n    this.kv00=NaN; // diagonals without CFMs\n    this.kv11=NaN;\n    this.kv22=NaN;\n    this.dv00=NaN; // ...inverted\n    this.dv11=NaN;\n    this.dv22=NaN;\n    this.d00=NaN; // K^-1\n    this.d01=NaN;\n    this.d02=NaN;\n    this.d10=NaN;\n    this.d11=NaN;\n    this.d12=NaN;\n    this.d20=NaN;\n    this.d21=NaN;\n    this.d22=NaN;\n\n    this.limitMotor1=limitMotor1;\n    this.limitMotor2=limitMotor2;\n    this.limitMotor3=limitMotor3;\n    this.b1=joint.body1;\n    this.b2=joint.body2;\n    this.p1=joint.anchorPoint1;\n    this.p2=joint.anchorPoint2;\n    this.r1=joint.relativeAnchorPoint1;\n    this.r2=joint.relativeAnchorPoint2;\n    this.l1=this.b1.linearVelocity;\n    this.l2=this.b2.linearVelocity;\n    this.a1=this.b1.angularVelocity;\n    this.a2=this.b2.angularVelocity;\n    this.i1=this.b1.inverseInertia;\n    this.i2=this.b2.inverseInertia;\n    this.limitImpulse1=0;\n    this.motorImpulse1=0;\n    this.limitImpulse2=0;\n    this.motorImpulse2=0;\n    this.limitImpulse3=0;\n    this.motorImpulse3=0;\n    this.cfm1=0;// Constraint Force Mixing\n    this.cfm2=0;\n    this.cfm3=0;\n    this.weight=-1;\n}\n\nObject.assign( Translational3Constraint.prototype, {\n\n    Translational3Constraint: true,\n\n    preSolve:function(timeStep,invTimeStep){\n        this.ax1=this.limitMotor1.axis.x;\n        this.ay1=this.limitMotor1.axis.y;\n        this.az1=this.limitMotor1.axis.z;\n        this.ax2=this.limitMotor2.axis.x;\n        this.ay2=this.limitMotor2.axis.y;\n        this.az2=this.limitMotor2.axis.z;\n        this.ax3=this.limitMotor3.axis.x;\n        this.ay3=this.limitMotor3.axis.y;\n        this.az3=this.limitMotor3.axis.z;\n        this.lowerLimit1=this.limitMotor1.lowerLimit;\n        this.upperLimit1=this.limitMotor1.upperLimit;\n        this.motorSpeed1=this.limitMotor1.motorSpeed;\n        this.maxMotorForce1=this.limitMotor1.maxMotorForce;\n        this.enableMotor1=this.maxMotorForce1>0;\n        this.lowerLimit2=this.limitMotor2.lowerLimit;\n        this.upperLimit2=this.limitMotor2.upperLimit;\n        this.motorSpeed2=this.limitMotor2.motorSpeed;\n        this.maxMotorForce2=this.limitMotor2.maxMotorForce;\n        this.enableMotor2=this.maxMotorForce2>0;\n        this.lowerLimit3=this.limitMotor3.lowerLimit;\n        this.upperLimit3=this.limitMotor3.upperLimit;\n        this.motorSpeed3=this.limitMotor3.motorSpeed;\n        this.maxMotorForce3=this.limitMotor3.maxMotorForce;\n        this.enableMotor3=this.maxMotorForce3>0;\n        this.m1=this.b1.inverseMass;\n        this.m2=this.b2.inverseMass;\n\n        var ti1 = this.i1.elements;\n        var ti2 = this.i2.elements;\n        this.i1e00=ti1[0];\n        this.i1e01=ti1[1];\n        this.i1e02=ti1[2];\n        this.i1e10=ti1[3];\n        this.i1e11=ti1[4];\n        this.i1e12=ti1[5];\n        this.i1e20=ti1[6];\n        this.i1e21=ti1[7];\n        this.i1e22=ti1[8];\n\n        this.i2e00=ti2[0];\n        this.i2e01=ti2[1];\n        this.i2e02=ti2[2];\n        this.i2e10=ti2[3];\n        this.i2e11=ti2[4];\n        this.i2e12=ti2[5];\n        this.i2e20=ti2[6];\n        this.i2e21=ti2[7];\n        this.i2e22=ti2[8];\n\n        var dx=this.p2.x-this.p1.x;\n        var dy=this.p2.y-this.p1.y;\n        var dz=this.p2.z-this.p1.z;\n        var d1=dx*this.ax1+dy*this.ay1+dz*this.az1;\n        var d2=dx*this.ax2+dy*this.ay2+dz*this.az2;\n        var d3=dx*this.ax3+dy*this.ay3+dz*this.az3;\n        var frequency1=this.limitMotor1.frequency;\n        var frequency2=this.limitMotor2.frequency;\n        var frequency3=this.limitMotor3.frequency;\n        var enableSpring1=frequency1>0;\n        var enableSpring2=frequency2>0;\n        var enableSpring3=frequency3>0;\n        var enableLimit1=this.lowerLimit1<=this.upperLimit1;\n        var enableLimit2=this.lowerLimit2<=this.upperLimit2;\n        var enableLimit3=this.lowerLimit3<=this.upperLimit3;\n\n        // for stability\n        if(enableSpring1&&d1>20||d1<-20){\n            enableSpring1=false;\n        }\n        if(enableSpring2&&d2>20||d2<-20){\n            enableSpring2=false;\n        }\n        if(enableSpring3&&d3>20||d3<-20){\n            enableSpring3=false;\n        }\n\n        if(enableLimit1){\n            if(this.lowerLimit1==this.upperLimit1){\n                if(this.limitState1!=0){\n                    this.limitState1=0;\n                    this.limitImpulse1=0;\n                }\n                this.limitVelocity1=this.lowerLimit1-d1;\n                if(!enableSpring1)d1=this.lowerLimit1;\n            }else if(d1<this.lowerLimit1){\n                if(this.limitState1!=-1){\n                    this.limitState1=-1;\n                    this.limitImpulse1=0;\n                }\n                this.limitVelocity1=this.lowerLimit1-d1;\n                if(!enableSpring1)d1=this.lowerLimit1;\n            }else if(d1>this.upperLimit1){\n                if(this.limitState1!=1){\n                    this.limitState1=1;\n                    this.limitImpulse1=0;\n                }\n                this.limitVelocity1=this.upperLimit1-d1;\n                if(!enableSpring1)d1=this.upperLimit1;\n            }else{\n                this.limitState1=2;\n                this.limitImpulse1=0;\n                this.limitVelocity1=0;\n            }\n            if(!enableSpring1){\n                if(this.limitVelocity1>0.005)this.limitVelocity1-=0.005;\n                else if(this.limitVelocity1<-0.005)this.limitVelocity1+=0.005;\n                else this.limitVelocity1=0;\n            }\n        }else{\n            this.limitState1=2;\n            this.limitImpulse1=0;\n        }\n\n        if(enableLimit2){\n            if(this.lowerLimit2==this.upperLimit2){\n                if(this.limitState2!=0){\n                    this.limitState2=0;\n                    this.limitImpulse2=0;\n                }\n                this.limitVelocity2=this.lowerLimit2-d2;\n                if(!enableSpring2)d2=this.lowerLimit2;\n            }else if(d2<this.lowerLimit2){\n                if(this.limitState2!=-1){\n                    this.limitState2=-1;\n                    this.limitImpulse2=0;\n                }\n                this.limitVelocity2=this.lowerLimit2-d2;\n                if(!enableSpring2)d2=this.lowerLimit2;\n            }else if(d2>this.upperLimit2){\n                if(this.limitState2!=1){\n                    this.limitState2=1;\n                    this.limitImpulse2=0;\n                }\n                this.limitVelocity2=this.upperLimit2-d2;\n                if(!enableSpring2)d2=this.upperLimit2;\n            }else{\n                this.limitState2=2;\n                this.limitImpulse2=0;\n                this.limitVelocity2=0;\n            }\n            if(!enableSpring2){\n                if(this.limitVelocity2>0.005)this.limitVelocity2-=0.005;\n                else if(this.limitVelocity2<-0.005)this.limitVelocity2+=0.005;\n                else this.limitVelocity2=0;\n            }\n        }else{\n            this.limitState2=2;\n            this.limitImpulse2=0;\n        }\n\n        if(enableLimit3){\n            if(this.lowerLimit3==this.upperLimit3){\n                if(this.limitState3!=0){\n                    this.limitState3=0;\n                    this.limitImpulse3=0;\n                }\n                this.limitVelocity3=this.lowerLimit3-d3;\n                if(!enableSpring3)d3=this.lowerLimit3;\n                }else if(d3<this.lowerLimit3){\n                if(this.limitState3!=-1){\n                    this.limitState3=-1;\n                    this.limitImpulse3=0;\n                }\n                this.limitVelocity3=this.lowerLimit3-d3;\n                if(!enableSpring3)d3=this.lowerLimit3;\n            }else if(d3>this.upperLimit3){\n                if(this.limitState3!=1){\n                    this.limitState3=1;\n                    this.limitImpulse3=0;\n                }\n                this.limitVelocity3=this.upperLimit3-d3;\n                if(!enableSpring3)d3=this.upperLimit3;\n            }else{\n                this.limitState3=2;\n                this.limitImpulse3=0;\n                this.limitVelocity3=0;\n            }\n            if(!enableSpring3){\n                if(this.limitVelocity3>0.005)this.limitVelocity3-=0.005;\n                else if(this.limitVelocity3<-0.005)this.limitVelocity3+=0.005;\n                else this.limitVelocity3=0;\n            }\n        }else{\n            this.limitState3=2;\n            this.limitImpulse3=0;\n        }\n\n        if(this.enableMotor1&&(this.limitState1!=0||enableSpring1)){\n            this.maxMotorImpulse1=this.maxMotorForce1*timeStep;\n        }else{\n            this.motorImpulse1=0;\n            this.maxMotorImpulse1=0;\n        }\n\n        if(this.enableMotor2&&(this.limitState2!=0||enableSpring2)){\n            this.maxMotorImpulse2=this.maxMotorForce2*timeStep;\n        }else{\n            this.motorImpulse2=0;\n            this.maxMotorImpulse2=0;\n        }\n\n        if(this.enableMotor3&&(this.limitState3!=0||enableSpring3)){\n            this.maxMotorImpulse3=this.maxMotorForce3*timeStep;\n        }else{\n            this.motorImpulse3=0;\n            this.maxMotorImpulse3=0;\n        }\n        \n        var rdx=d1*this.ax1+d2*this.ax2+d3*this.ax2;\n        var rdy=d1*this.ay1+d2*this.ay2+d3*this.ay2;\n        var rdz=d1*this.az1+d2*this.az2+d3*this.az2;\n        var w1=this.m2/(this.m1+this.m2);\n        if(this.weight>=0)w1=this.weight; // use given weight\n        var w2=1-w1;\n        this.r1x=this.r1.x+rdx*w1;\n        this.r1y=this.r1.y+rdy*w1;\n        this.r1z=this.r1.z+rdz*w1;\n        this.r2x=this.r2.x-rdx*w2;\n        this.r2y=this.r2.y-rdy*w2;\n        this.r2z=this.r2.z-rdz*w2;\n\n        // build jacobians\n        this.t1x1=this.r1y*this.az1-this.r1z*this.ay1;\n        this.t1y1=this.r1z*this.ax1-this.r1x*this.az1;\n        this.t1z1=this.r1x*this.ay1-this.r1y*this.ax1;\n        this.t2x1=this.r2y*this.az1-this.r2z*this.ay1;\n        this.t2y1=this.r2z*this.ax1-this.r2x*this.az1;\n        this.t2z1=this.r2x*this.ay1-this.r2y*this.ax1;\n        this.l1x1=this.ax1*this.m1;\n        this.l1y1=this.ay1*this.m1;\n        this.l1z1=this.az1*this.m1;\n        this.l2x1=this.ax1*this.m2;\n        this.l2y1=this.ay1*this.m2;\n        this.l2z1=this.az1*this.m2;\n        this.a1x1=this.t1x1*this.i1e00+this.t1y1*this.i1e01+this.t1z1*this.i1e02;\n        this.a1y1=this.t1x1*this.i1e10+this.t1y1*this.i1e11+this.t1z1*this.i1e12;\n        this.a1z1=this.t1x1*this.i1e20+this.t1y1*this.i1e21+this.t1z1*this.i1e22;\n        this.a2x1=this.t2x1*this.i2e00+this.t2y1*this.i2e01+this.t2z1*this.i2e02;\n        this.a2y1=this.t2x1*this.i2e10+this.t2y1*this.i2e11+this.t2z1*this.i2e12;\n        this.a2z1=this.t2x1*this.i2e20+this.t2y1*this.i2e21+this.t2z1*this.i2e22;\n\n        this.t1x2=this.r1y*this.az2-this.r1z*this.ay2;\n        this.t1y2=this.r1z*this.ax2-this.r1x*this.az2;\n        this.t1z2=this.r1x*this.ay2-this.r1y*this.ax2;\n        this.t2x2=this.r2y*this.az2-this.r2z*this.ay2;\n        this.t2y2=this.r2z*this.ax2-this.r2x*this.az2;\n        this.t2z2=this.r2x*this.ay2-this.r2y*this.ax2;\n        this.l1x2=this.ax2*this.m1;\n        this.l1y2=this.ay2*this.m1;\n        this.l1z2=this.az2*this.m1;\n        this.l2x2=this.ax2*this.m2;\n        this.l2y2=this.ay2*this.m2;\n        this.l2z2=this.az2*this.m2;\n        this.a1x2=this.t1x2*this.i1e00+this.t1y2*this.i1e01+this.t1z2*this.i1e02;\n        this.a1y2=this.t1x2*this.i1e10+this.t1y2*this.i1e11+this.t1z2*this.i1e12;\n        this.a1z2=this.t1x2*this.i1e20+this.t1y2*this.i1e21+this.t1z2*this.i1e22;\n        this.a2x2=this.t2x2*this.i2e00+this.t2y2*this.i2e01+this.t2z2*this.i2e02;\n        this.a2y2=this.t2x2*this.i2e10+this.t2y2*this.i2e11+this.t2z2*this.i2e12;\n        this.a2z2=this.t2x2*this.i2e20+this.t2y2*this.i2e21+this.t2z2*this.i2e22;\n\n        this.t1x3=this.r1y*this.az3-this.r1z*this.ay3;\n        this.t1y3=this.r1z*this.ax3-this.r1x*this.az3;\n        this.t1z3=this.r1x*this.ay3-this.r1y*this.ax3;\n        this.t2x3=this.r2y*this.az3-this.r2z*this.ay3;\n        this.t2y3=this.r2z*this.ax3-this.r2x*this.az3;\n        this.t2z3=this.r2x*this.ay3-this.r2y*this.ax3;\n        this.l1x3=this.ax3*this.m1;\n        this.l1y3=this.ay3*this.m1;\n        this.l1z3=this.az3*this.m1;\n        this.l2x3=this.ax3*this.m2;\n        this.l2y3=this.ay3*this.m2;\n        this.l2z3=this.az3*this.m2;\n        this.a1x3=this.t1x3*this.i1e00+this.t1y3*this.i1e01+this.t1z3*this.i1e02;\n        this.a1y3=this.t1x3*this.i1e10+this.t1y3*this.i1e11+this.t1z3*this.i1e12;\n        this.a1z3=this.t1x3*this.i1e20+this.t1y3*this.i1e21+this.t1z3*this.i1e22;\n        this.a2x3=this.t2x3*this.i2e00+this.t2y3*this.i2e01+this.t2z3*this.i2e02;\n        this.a2y3=this.t2x3*this.i2e10+this.t2y3*this.i2e11+this.t2z3*this.i2e12;\n        this.a2z3=this.t2x3*this.i2e20+this.t2y3*this.i2e21+this.t2z3*this.i2e22;\n\n        // build an impulse matrix\n        var m12=this.m1+this.m2;\n        this.k00=(this.ax1*this.ax1+this.ay1*this.ay1+this.az1*this.az1)*m12;\n        this.k01=(this.ax1*this.ax2+this.ay1*this.ay2+this.az1*this.az2)*m12;\n        this.k02=(this.ax1*this.ax3+this.ay1*this.ay3+this.az1*this.az3)*m12;\n        this.k10=(this.ax2*this.ax1+this.ay2*this.ay1+this.az2*this.az1)*m12;\n        this.k11=(this.ax2*this.ax2+this.ay2*this.ay2+this.az2*this.az2)*m12;\n        this.k12=(this.ax2*this.ax3+this.ay2*this.ay3+this.az2*this.az3)*m12;\n        this.k20=(this.ax3*this.ax1+this.ay3*this.ay1+this.az3*this.az1)*m12;\n        this.k21=(this.ax3*this.ax2+this.ay3*this.ay2+this.az3*this.az2)*m12;\n        this.k22=(this.ax3*this.ax3+this.ay3*this.ay3+this.az3*this.az3)*m12;\n\n        this.k00+=this.t1x1*this.a1x1+this.t1y1*this.a1y1+this.t1z1*this.a1z1;\n        this.k01+=this.t1x1*this.a1x2+this.t1y1*this.a1y2+this.t1z1*this.a1z2;\n        this.k02+=this.t1x1*this.a1x3+this.t1y1*this.a1y3+this.t1z1*this.a1z3;\n        this.k10+=this.t1x2*this.a1x1+this.t1y2*this.a1y1+this.t1z2*this.a1z1;\n        this.k11+=this.t1x2*this.a1x2+this.t1y2*this.a1y2+this.t1z2*this.a1z2;\n        this.k12+=this.t1x2*this.a1x3+this.t1y2*this.a1y3+this.t1z2*this.a1z3;\n        this.k20+=this.t1x3*this.a1x1+this.t1y3*this.a1y1+this.t1z3*this.a1z1;\n        this.k21+=this.t1x3*this.a1x2+this.t1y3*this.a1y2+this.t1z3*this.a1z2;\n        this.k22+=this.t1x3*this.a1x3+this.t1y3*this.a1y3+this.t1z3*this.a1z3;\n\n        this.k00+=this.t2x1*this.a2x1+this.t2y1*this.a2y1+this.t2z1*this.a2z1;\n        this.k01+=this.t2x1*this.a2x2+this.t2y1*this.a2y2+this.t2z1*this.a2z2;\n        this.k02+=this.t2x1*this.a2x3+this.t2y1*this.a2y3+this.t2z1*this.a2z3;\n        this.k10+=this.t2x2*this.a2x1+this.t2y2*this.a2y1+this.t2z2*this.a2z1;\n        this.k11+=this.t2x2*this.a2x2+this.t2y2*this.a2y2+this.t2z2*this.a2z2;\n        this.k12+=this.t2x2*this.a2x3+this.t2y2*this.a2y3+this.t2z2*this.a2z3;\n        this.k20+=this.t2x3*this.a2x1+this.t2y3*this.a2y1+this.t2z3*this.a2z1;\n        this.k21+=this.t2x3*this.a2x2+this.t2y3*this.a2y2+this.t2z3*this.a2z2;\n        this.k22+=this.t2x3*this.a2x3+this.t2y3*this.a2y3+this.t2z3*this.a2z3;\n\n        this.kv00=this.k00;\n        this.kv11=this.k11;\n        this.kv22=this.k22;\n\n        this.dv00=1/this.kv00;\n        this.dv11=1/this.kv11;\n        this.dv22=1/this.kv22;\n\n        if(enableSpring1&&this.limitState1!=2){\n            var omega=6.2831853*frequency1;\n            var k=omega*omega*timeStep;\n            var dmp=invTimeStep/(k+2*this.limitMotor1.dampingRatio*omega);\n            this.cfm1=this.kv00*dmp;\n            this.limitVelocity1*=k*dmp;\n        }else{\n            this.cfm1=0;\n            this.limitVelocity1*=invTimeStep*0.05;\n        }\n        if(enableSpring2&&this.limitState2!=2){\n            omega=6.2831853*frequency2;\n            k=omega*omega*timeStep;\n            dmp=invTimeStep/(k+2*this.limitMotor2.dampingRatio*omega);\n            this.cfm2=this.kv11*dmp;\n            this.limitVelocity2*=k*dmp;\n        }else{\n            this.cfm2=0;\n            this.limitVelocity2*=invTimeStep*0.05;\n        }\n        if(enableSpring3&&this.limitState3!=2){\n            omega=6.2831853*frequency3;\n            k=omega*omega*timeStep;\n            dmp=invTimeStep/(k+2*this.limitMotor3.dampingRatio*omega);\n            this.cfm3=this.kv22*dmp;\n            this.limitVelocity3*=k*dmp;\n        }else{\n            this.cfm3=0;\n            this.limitVelocity3*=invTimeStep*0.05;\n        }\n        this.k00+=this.cfm1;\n        this.k11+=this.cfm2;\n        this.k22+=this.cfm3;\n\n        var inv=1/(\n        this.k00*(this.k11*this.k22-this.k21*this.k12)+\n        this.k10*(this.k21*this.k02-this.k01*this.k22)+\n        this.k20*(this.k01*this.k12-this.k11*this.k02)\n        );\n        this.d00=(this.k11*this.k22-this.k12*this.k21)*inv;\n        this.d01=(this.k02*this.k21-this.k01*this.k22)*inv;\n        this.d02=(this.k01*this.k12-this.k02*this.k11)*inv;\n        this.d10=(this.k12*this.k20-this.k10*this.k22)*inv;\n        this.d11=(this.k00*this.k22-this.k02*this.k20)*inv;\n        this.d12=(this.k02*this.k10-this.k00*this.k12)*inv;\n        this.d20=(this.k10*this.k21-this.k11*this.k20)*inv;\n        this.d21=(this.k01*this.k20-this.k00*this.k21)*inv;\n        this.d22=(this.k00*this.k11-this.k01*this.k10)*inv;\n\n        // warm starting\n        var totalImpulse1=this.limitImpulse1+this.motorImpulse1;\n        var totalImpulse2=this.limitImpulse2+this.motorImpulse2;\n        var totalImpulse3=this.limitImpulse3+this.motorImpulse3;\n        this.l1.x+=totalImpulse1*this.l1x1+totalImpulse2*this.l1x2+totalImpulse3*this.l1x3;\n        this.l1.y+=totalImpulse1*this.l1y1+totalImpulse2*this.l1y2+totalImpulse3*this.l1y3;\n        this.l1.z+=totalImpulse1*this.l1z1+totalImpulse2*this.l1z2+totalImpulse3*this.l1z3;\n        this.a1.x+=totalImpulse1*this.a1x1+totalImpulse2*this.a1x2+totalImpulse3*this.a1x3;\n        this.a1.y+=totalImpulse1*this.a1y1+totalImpulse2*this.a1y2+totalImpulse3*this.a1y3;\n        this.a1.z+=totalImpulse1*this.a1z1+totalImpulse2*this.a1z2+totalImpulse3*this.a1z3;\n        this.l2.x-=totalImpulse1*this.l2x1+totalImpulse2*this.l2x2+totalImpulse3*this.l2x3;\n        this.l2.y-=totalImpulse1*this.l2y1+totalImpulse2*this.l2y2+totalImpulse3*this.l2y3;\n        this.l2.z-=totalImpulse1*this.l2z1+totalImpulse2*this.l2z2+totalImpulse3*this.l2z3;\n        this.a2.x-=totalImpulse1*this.a2x1+totalImpulse2*this.a2x2+totalImpulse3*this.a2x3;\n        this.a2.y-=totalImpulse1*this.a2y1+totalImpulse2*this.a2y2+totalImpulse3*this.a2y3;\n        this.a2.z-=totalImpulse1*this.a2z1+totalImpulse2*this.a2z2+totalImpulse3*this.a2z3;\n    },\n\n    solve:function(){\n        var rvx=this.l2.x-this.l1.x+this.a2.y*this.r2z-this.a2.z*this.r2y-this.a1.y*this.r1z+this.a1.z*this.r1y;\n        var rvy=this.l2.y-this.l1.y+this.a2.z*this.r2x-this.a2.x*this.r2z-this.a1.z*this.r1x+this.a1.x*this.r1z;\n        var rvz=this.l2.z-this.l1.z+this.a2.x*this.r2y-this.a2.y*this.r2x-this.a1.x*this.r1y+this.a1.y*this.r1x;\n        var rvn1=rvx*this.ax1+rvy*this.ay1+rvz*this.az1;\n        var rvn2=rvx*this.ax2+rvy*this.ay2+rvz*this.az2;\n        var rvn3=rvx*this.ax3+rvy*this.ay3+rvz*this.az3;\n        var oldMotorImpulse1=this.motorImpulse1;\n        var oldMotorImpulse2=this.motorImpulse2;\n        var oldMotorImpulse3=this.motorImpulse3;\n        var dMotorImpulse1=0;\n        var dMotorImpulse2=0;\n        var dMotorImpulse3=0;\n        if(this.enableMotor1){\n            dMotorImpulse1=(rvn1-this.motorSpeed1)*this.dv00;\n            this.motorImpulse1+=dMotorImpulse1;\n            if(this.motorImpulse1>this.maxMotorImpulse1){ // clamp motor impulse\n                this.motorImpulse1=this.maxMotorImpulse1;\n            }else if(this.motorImpulse1<-this.maxMotorImpulse1){\n                this.motorImpulse1=-this.maxMotorImpulse1;\n            }\n            dMotorImpulse1=this.motorImpulse1-oldMotorImpulse1;\n        }\n        if(this.enableMotor2){\n            dMotorImpulse2=(rvn2-this.motorSpeed2)*this.dv11;\n            this.motorImpulse2+=dMotorImpulse2;\n            if(this.motorImpulse2>this.maxMotorImpulse2){ // clamp motor impulse\n                this.motorImpulse2=this.maxMotorImpulse2;\n            }else if(this.motorImpulse2<-this.maxMotorImpulse2){\n                this.motorImpulse2=-this.maxMotorImpulse2;\n            }\n            dMotorImpulse2=this.motorImpulse2-oldMotorImpulse2;\n        }\n        if(this.enableMotor3){\n            dMotorImpulse3=(rvn3-this.motorSpeed3)*this.dv22;\n            this.motorImpulse3+=dMotorImpulse3;\n            if(this.motorImpulse3>this.maxMotorImpulse3){ // clamp motor impulse\n                this.motorImpulse3=this.maxMotorImpulse3;\n            }else if(this.motorImpulse3<-this.maxMotorImpulse3){\n                this.motorImpulse3=-this.maxMotorImpulse3;\n            }\n            dMotorImpulse3=this.motorImpulse3-oldMotorImpulse3;\n        }\n\n        // apply motor impulse to relative velocity\n        rvn1+=dMotorImpulse1*this.kv00+dMotorImpulse2*this.k01+dMotorImpulse3*this.k02;\n        rvn2+=dMotorImpulse1*this.k10+dMotorImpulse2*this.kv11+dMotorImpulse3*this.k12;\n        rvn3+=dMotorImpulse1*this.k20+dMotorImpulse2*this.k21+dMotorImpulse3*this.kv22;\n\n        // subtract target velocity and applied impulse\n        rvn1-=this.limitVelocity1+this.limitImpulse1*this.cfm1;\n        rvn2-=this.limitVelocity2+this.limitImpulse2*this.cfm2;\n        rvn3-=this.limitVelocity3+this.limitImpulse3*this.cfm3;\n\n        var oldLimitImpulse1=this.limitImpulse1;\n        var oldLimitImpulse2=this.limitImpulse2;\n        var oldLimitImpulse3=this.limitImpulse3;\n\n        var dLimitImpulse1=rvn1*this.d00+rvn2*this.d01+rvn3*this.d02;\n        var dLimitImpulse2=rvn1*this.d10+rvn2*this.d11+rvn3*this.d12;\n        var dLimitImpulse3=rvn1*this.d20+rvn2*this.d21+rvn3*this.d22;\n\n        this.limitImpulse1+=dLimitImpulse1;\n        this.limitImpulse2+=dLimitImpulse2;\n        this.limitImpulse3+=dLimitImpulse3;\n\n        // clamp\n        var clampState=0;\n        if(this.limitState1==2||this.limitImpulse1*this.limitState1<0){\n            dLimitImpulse1=-oldLimitImpulse1;\n            rvn2+=dLimitImpulse1*this.k10;\n            rvn3+=dLimitImpulse1*this.k20;\n            clampState|=1;\n        }\n        if(this.limitState2==2||this.limitImpulse2*this.limitState2<0){\n            dLimitImpulse2=-oldLimitImpulse2;\n            rvn1+=dLimitImpulse2*this.k01;\n            rvn3+=dLimitImpulse2*this.k21;\n            clampState|=2;\n        }\n        if(this.limitState3==2||this.limitImpulse3*this.limitState3<0){\n            dLimitImpulse3=-oldLimitImpulse3;\n            rvn1+=dLimitImpulse3*this.k02;\n            rvn2+=dLimitImpulse3*this.k12;\n            clampState|=4;\n        }\n\n        // update un-clamped impulse\n        // TODO: isolate division\n        var det;\n        switch(clampState){\n            case 1:// update 2 3\n            det=1/(this.k11*this.k22-this.k12*this.k21);\n            dLimitImpulse2=(this.k22*rvn2+-this.k12*rvn3)*det;\n            dLimitImpulse3=(-this.k21*rvn2+this.k11*rvn3)*det;\n            break;\n            case 2:// update 1 3\n            det=1/(this.k00*this.k22-this.k02*this.k20);\n            dLimitImpulse1=(this.k22*rvn1+-this.k02*rvn3)*det;\n            dLimitImpulse3=(-this.k20*rvn1+this.k00*rvn3)*det;\n            break;\n            case 3:// update 3\n            dLimitImpulse3=rvn3/this.k22;\n            break;\n            case 4:// update 1 2\n            det=1/(this.k00*this.k11-this.k01*this.k10);\n            dLimitImpulse1=(this.k11*rvn1+-this.k01*rvn2)*det;\n            dLimitImpulse2=(-this.k10*rvn1+this.k00*rvn2)*det;\n            break;\n            case 5:// update 2\n            dLimitImpulse2=rvn2/this.k11;\n            break;\n            case 6:// update 1\n            dLimitImpulse1=rvn1/this.k00;\n            break;\n        }\n\n        this.limitImpulse1=oldLimitImpulse1+dLimitImpulse1;\n        this.limitImpulse2=oldLimitImpulse2+dLimitImpulse2;\n        this.limitImpulse3=oldLimitImpulse3+dLimitImpulse3;\n\n        var dImpulse1=dMotorImpulse1+dLimitImpulse1;\n        var dImpulse2=dMotorImpulse2+dLimitImpulse2;\n        var dImpulse3=dMotorImpulse3+dLimitImpulse3;\n\n        // apply impulse\n        this.l1.x+=dImpulse1*this.l1x1+dImpulse2*this.l1x2+dImpulse3*this.l1x3;\n        this.l1.y+=dImpulse1*this.l1y1+dImpulse2*this.l1y2+dImpulse3*this.l1y3;\n        this.l1.z+=dImpulse1*this.l1z1+dImpulse2*this.l1z2+dImpulse3*this.l1z3;\n        this.a1.x+=dImpulse1*this.a1x1+dImpulse2*this.a1x2+dImpulse3*this.a1x3;\n        this.a1.y+=dImpulse1*this.a1y1+dImpulse2*this.a1y2+dImpulse3*this.a1y3;\n        this.a1.z+=dImpulse1*this.a1z1+dImpulse2*this.a1z2+dImpulse3*this.a1z3;\n        this.l2.x-=dImpulse1*this.l2x1+dImpulse2*this.l2x2+dImpulse3*this.l2x3;\n        this.l2.y-=dImpulse1*this.l2y1+dImpulse2*this.l2y2+dImpulse3*this.l2y3;\n        this.l2.z-=dImpulse1*this.l2z1+dImpulse2*this.l2z2+dImpulse3*this.l2z3;\n        this.a2.x-=dImpulse1*this.a2x1+dImpulse2*this.a2x2+dImpulse3*this.a2x3;\n        this.a2.y-=dImpulse1*this.a2y1+dImpulse2*this.a2y2+dImpulse3*this.a2y3;\n        this.a2.z-=dImpulse1*this.a2z1+dImpulse2*this.a2z2+dImpulse3*this.a2z3;\n    }\n    \n} );\n\n/**\n * A prismatic joint allows only for relative translation of rigid bodies along the axis.\n *\n * @author saharan\n * @author lo-th\n */\n\nfunction PrismaticJoint( config, lowerTranslation, upperTranslation ){\n\n    Joint.call( this, config );\n\n    this.type = JOINT_PRISMATIC;\n\n    // The axis in the first body's coordinate system.\n    this.localAxis1 = config.localAxis1.clone().normalize();\n    // The axis in the second body's coordinate system.\n    this.localAxis2 = config.localAxis2.clone().normalize();\n\n    this.ax1 = new Vec3();\n    this.ax2 = new Vec3();\n    \n    this.nor = new Vec3();\n    this.tan = new Vec3();\n    this.bin = new Vec3();\n\n    this.ac = new AngularConstraint( this, new Quat().setFromUnitVectors( this.localAxis1, this.localAxis2 ) );\n\n    // The translational limit and motor information of the joint.\n    this.limitMotor = new LimitMotor( this.nor, true );\n    this.limitMotor.lowerLimit = lowerTranslation;\n    this.limitMotor.upperLimit = upperTranslation;\n    this.t3 = new Translational3Constraint( this, this.limitMotor, new LimitMotor( this.tan, true ), new LimitMotor( this.bin, true ) );\n\n}\n\nPrismaticJoint.prototype = Object.assign( Object.create( Joint.prototype ), {\n\n    constructor: PrismaticJoint,\n\n    preSolve: function ( timeStep, invTimeStep ) {\n\n        this.updateAnchorPoints();\n\n        this.ax1.copy( this.localAxis1 ).applyMatrix3( this.body1.rotation, true );\n        this.ax2.copy( this.localAxis2 ).applyMatrix3( this.body2.rotation, true );\n\n        // normal tangent binormal\n\n        this.nor.set(\n            this.ax1.x*this.body2.inverseMass + this.ax2.x*this.body1.inverseMass,\n            this.ax1.y*this.body2.inverseMass + this.ax2.y*this.body1.inverseMass,\n            this.ax1.z*this.body2.inverseMass + this.ax2.z*this.body1.inverseMass\n        ).normalize();\n        this.tan.tangent( this.nor ).normalize();\n        this.bin.crossVectors( this.nor, this.tan );\n\n        // preSolve\n\n        this.ac.preSolve( timeStep, invTimeStep );\n        this.t3.preSolve( timeStep, invTimeStep );\n\n    },\n\n    solve: function () {\n\n        this.ac.solve();\n        this.t3.solve();\n        \n    },\n\n    postSolve: function () {\n\n    }\n\n});\n\n/**\n * A slider joint allows for relative translation and relative rotation between two rigid bodies along the axis.\n *\n * @author saharan\n * @author lo-th\n */\n\nfunction SliderJoint( config, lowerTranslation, upperTranslation ){\n\n    Joint.call( this, config );\n\n    this.type = JOINT_SLIDER;\n\n    // The axis in the first body's coordinate system.\n    this.localAxis1 = config.localAxis1.clone().normalize();\n    // The axis in the second body's coordinate system.\n    this.localAxis2 = config.localAxis2.clone().normalize();\n\n    // make angle axis\n    var arc = new Mat33().setQuat( new Quat().setFromUnitVectors( this.localAxis1, this.localAxis2 ) );\n    this.localAngle1 = new Vec3().tangent( this.localAxis1 ).normalize();\n    this.localAngle2 = this.localAngle1.clone().applyMatrix3( arc, true );\n\n    this.ax1 = new Vec3();\n    this.ax2 = new Vec3();\n    this.an1 = new Vec3();\n    this.an2 = new Vec3();\n\n    this.tmp = new Vec3();\n    \n    this.nor = new Vec3();\n    this.tan = new Vec3();\n    this.bin = new Vec3();\n\n    // The limit and motor for the rotation\n    this.rotationalLimitMotor = new LimitMotor( this.nor, false );\n    this.r3 = new Rotational3Constraint( this, this.rotationalLimitMotor, new LimitMotor( this.tan, true ), new LimitMotor( this.bin, true ) );\n\n    // The limit and motor for the translation.\n    this.translationalLimitMotor = new LimitMotor( this.nor, true );\n    this.translationalLimitMotor.lowerLimit = lowerTranslation;\n    this.translationalLimitMotor.upperLimit = upperTranslation;\n    this.t3 = new Translational3Constraint( this, this.translationalLimitMotor, new LimitMotor( this.tan, true ), new LimitMotor( this.bin, true ) );\n\n}\n\nSliderJoint.prototype = Object.assign( Object.create( Joint.prototype ), {\n\n    constructor: SliderJoint,\n\n    preSolve: function ( timeStep, invTimeStep ) {\n\n        this.updateAnchorPoints();\n\n        this.ax1.copy( this.localAxis1 ).applyMatrix3( this.body1.rotation, true );\n        this.an1.copy( this.localAngle1 ).applyMatrix3( this.body1.rotation, true );\n\n        this.ax2.copy( this.localAxis2 ).applyMatrix3( this.body2.rotation, true );\n        this.an2.copy( this.localAngle2 ).applyMatrix3( this.body2.rotation, true );\n\n        // normal tangent binormal\n\n        this.nor.set(\n            this.ax1.x*this.body2.inverseMass + this.ax2.x*this.body1.inverseMass,\n            this.ax1.y*this.body2.inverseMass + this.ax2.y*this.body1.inverseMass,\n            this.ax1.z*this.body2.inverseMass + this.ax2.z*this.body1.inverseMass\n        ).normalize();\n        this.tan.tangent( this.nor ).normalize();\n        this.bin.crossVectors( this.nor, this.tan );\n\n        // calculate hinge angle\n\n        this.tmp.crossVectors( this.an1, this.an2 );\n\n        var limite = _Math.acosClamp( _Math.dotVectors( this.an1, this.an2 ) );\n\n        if( _Math.dotVectors( this.nor, this.tmp ) < 0 ) this.rotationalLimitMotor.angle = -limite;\n        else this.rotationalLimitMotor.angle = limite;\n\n        // angular error\n\n        this.tmp.crossVectors( this.ax1, this.ax2 );\n        this.r3.limitMotor2.angle = _Math.dotVectors( this.tan, this.tmp );\n        this.r3.limitMotor3.angle = _Math.dotVectors( this.bin, this.tmp );\n\n        // preSolve\n        \n        this.r3.preSolve( timeStep, invTimeStep );\n        this.t3.preSolve( timeStep, invTimeStep );\n\n    },\n\n    solve: function () {\n\n        this.r3.solve();\n        this.t3.solve();\n\n    },\n\n    postSolve: function () {\n\n    }\n\n});\n\n/**\n * A wheel joint allows for relative rotation between two rigid bodies along two axes.\n * The wheel joint also allows for relative translation for the suspension.\n *\n * @author saharan\n * @author lo-th\n */\n\nfunction WheelJoint ( config ){\n\n    Joint.call( this, config );\n\n    this.type = JOINT_WHEEL;\n\n    // The axis in the first body's coordinate system.\n    this.localAxis1 = config.localAxis1.clone().normalize();\n    // The axis in the second body's coordinate system.\n    this.localAxis2 = config.localAxis2.clone().normalize();\n\n    this.localAngle1 = new Vec3();\n    this.localAngle2 = new Vec3();\n\n    var dot = _Math.dotVectors( this.localAxis1, this.localAxis2 );\n\n    if( dot > -1 && dot < 1 ){\n\n        this.localAngle1.set(\n            this.localAxis2.x - dot*this.localAxis1.x,\n            this.localAxis2.y - dot*this.localAxis1.y,\n            this.localAxis2.z - dot*this.localAxis1.z\n        ).normalize();\n\n        this.localAngle2.set(\n            this.localAxis1.x - dot*this.localAxis2.x,\n            this.localAxis1.y - dot*this.localAxis2.y,\n            this.localAxis1.z - dot*this.localAxis2.z\n        ).normalize();\n\n    } else {\n\n        var arc = new Mat33().setQuat( new Quat().setFromUnitVectors( this.localAxis1, this.localAxis2 ) );\n        this.localAngle1.tangent( this.localAxis1 ).normalize();\n        this.localAngle2 = this.localAngle1.clone().applyMatrix3( arc, true );\n\n    }\n\n    this.ax1 = new Vec3();\n    this.ax2 = new Vec3();\n    this.an1 = new Vec3();\n    this.an2 = new Vec3();\n\n    this.tmp = new Vec3();\n\n    this.nor = new Vec3();\n    this.tan = new Vec3();\n    this.bin = new Vec3();\n\n    // The translational limit and motor information of the joint.\n    this.translationalLimitMotor = new LimitMotor( this.tan,true );\n    this.translationalLimitMotor.frequency = 8;\n    this.translationalLimitMotor.dampingRatio = 1;\n    // The first rotational limit and motor information of the joint.\n    this.rotationalLimitMotor1 = new LimitMotor( this.tan, false );\n    // The second rotational limit and motor information of the joint.\n    this.rotationalLimitMotor2 = new LimitMotor( this.bin, false );\n\n    this.t3 = new Translational3Constraint( this, new LimitMotor( this.nor, true ),this.translationalLimitMotor,new LimitMotor( this.bin, true ));\n    this.t3.weight = 1;\n    this.r3 = new Rotational3Constraint(this,new LimitMotor( this.nor, true ),this.rotationalLimitMotor1,this.rotationalLimitMotor2);\n\n}\n\nWheelJoint.prototype = Object.assign( Object.create( Joint.prototype ), {\n\n    constructor: WheelJoint,\n\n    preSolve: function ( timeStep, invTimeStep ) {\n\n        this.updateAnchorPoints();\n\n        this.ax1.copy( this.localAxis1 ).applyMatrix3( this.body1.rotation, true );\n        this.an1.copy( this.localAngle1 ).applyMatrix3( this.body1.rotation, true );\n\n        this.ax2.copy( this.localAxis2 ).applyMatrix3( this.body2.rotation, true );\n        this.an2.copy( this.localAngle2 ).applyMatrix3( this.body2.rotation, true );\n\n        this.r3.limitMotor1.angle = _Math.dotVectors( this.ax1, this.ax2 );\n\n        var limite = _Math.dotVectors( this.an1, this.ax2 );\n\n        if( _Math.dotVectors( this.ax1, this.tmp.crossVectors( this.an1, this.ax2 ) ) < 0 ) this.rotationalLimitMotor1.angle = -limite;\n        else this.rotationalLimitMotor1.angle = limite;\n\n        limite = _Math.dotVectors( this.an2, this.ax1 );\n\n        if( _Math.dotVectors( this.ax2, this.tmp.crossVectors( this.an2, this.ax1 ) ) < 0 ) this.rotationalLimitMotor2.angle = -limite;\n        else this.rotationalLimitMotor2.angle = limite;\n\n        this.nor.crossVectors( this.ax1, this.ax2 ).normalize();\n        this.tan.crossVectors( this.nor, this.ax2 ).normalize();\n        this.bin.crossVectors( this.nor, this.ax1 ).normalize();\n        \n        this.r3.preSolve(timeStep,invTimeStep);\n        this.t3.preSolve(timeStep,invTimeStep);\n\n    },\n\n    solve: function () {\n\n        this.r3.solve();\n        this.t3.solve();\n\n    },\n\n    postSolve: function () {\n\n    }\n\n});\n\nfunction JointConfig(){\r\n\r\n    this.scale = 1;\r\n    this.invScale = 1;\r\n\r\n    // The first rigid body of the joint.\r\n    this.body1 = null;\r\n    // The second rigid body of the joint.\r\n    this.body2 = null;\r\n    // The anchor point on the first rigid body in local coordinate system.\r\n    this.localAnchorPoint1 = new Vec3();\r\n    //  The anchor point on the second rigid body in local coordinate system.\r\n    this.localAnchorPoint2 = new Vec3();\r\n    // The axis in the first body's coordinate system.\r\n    // his property is available in some joints.\r\n    this.localAxis1 = new Vec3();\r\n    // The axis in the second body's coordinate system.\r\n    // This property is available in some joints.\r\n    this.localAxis2 = new Vec3();\r\n    //  Whether allow collision between connected rigid bodies or not.\r\n    this.allowCollision = false;\r\n\r\n}\n\n/**\r\n * This class holds mass information of a shape.\r\n * @author lo-th\r\n * @author saharan\r\n */\r\n\r\nfunction MassInfo (){\r\n\r\n    // Mass of the shape.\r\n    this.mass = 0;\r\n\r\n    // The moment inertia of the shape.\r\n    this.inertia = new Mat33();\r\n\r\n}\n\n/**\n* A link list of contacts.\n* @author saharan\n*/\nfunction ContactLink ( contact ){\n    \n\t// The previous contact link.\n    this.prev = null;\n    // The next contact link.\n    this.next = null;\n    // The shape of the contact.\n    this.shape = null;\n    // The other rigid body.\n    this.body = null;\n    // The contact of the link.\n    this.contact = contact;\n\n}\n\nfunction ImpulseDataBuffer (){\n\n    this.lp1X = NaN;\n    this.lp1Y = NaN;\n    this.lp1Z = NaN;\n    this.lp2X = NaN;\n    this.lp2Y = NaN;\n    this.lp2Z = NaN;\n    this.impulse = NaN;\n\n}\n\n/**\n* The class holds details of the contact point.\n* @author saharan\n*/\n\nfunction ManifoldPoint(){\n\n    // Whether this manifold point is persisting or not.\n    this.warmStarted = false;\n    //  The position of this manifold point.\n    this.position = new Vec3();\n    // The position in the first shape's coordinate.\n    this.localPoint1 = new Vec3();\n    //  The position in the second shape's coordinate.\n    this.localPoint2 = new Vec3();\n    // The normal vector of this manifold point.\n    this.normal = new Vec3();\n    // The tangent vector of this manifold point.\n    this.tangent = new Vec3();\n    // The binormal vector of this manifold point.\n    this.binormal = new Vec3();\n    // The impulse in normal direction.\n    this.normalImpulse = 0;\n    // The impulse in tangent direction.\n    this.tangentImpulse = 0;\n    // The impulse in binormal direction.\n    this.binormalImpulse = 0;\n    // The denominator in normal direction.\n    this.normalDenominator = 0;\n    // The denominator in tangent direction.\n    this.tangentDenominator = 0;\n    // The denominator in binormal direction.\n    this.binormalDenominator = 0;\n    // The depth of penetration.\n    this.penetration = 0;\n\n}\n\n/**\n* A contact manifold between two shapes.\n* @author saharan\n* @author lo-th\n*/\n\nfunction ContactManifold () {\n\n    // The first rigid body.\n    this.body1 = null;\n    // The second rigid body.\n    this.body2 = null;\n    // The number of manifold points.\n    this.numPoints = 0;\n    // The manifold points.\n    this.points = [\n        new ManifoldPoint(),\n        new ManifoldPoint(),\n        new ManifoldPoint(),\n        new ManifoldPoint()\n    ];\n\n}\n\nContactManifold.prototype = {\n\n    constructor: ContactManifold,\n\n    //Reset the manifold.\n    reset:function( shape1, shape2 ){\n\n        this.body1 = shape1.parent;\n        this.body2 = shape2.parent;\n        this.numPoints = 0;\n\n    },\n\n    //  Add a point into this manifold.\n    addPointVec: function ( pos, norm, penetration, flip ) {\n        \n        var p = this.points[ this.numPoints++ ];\n\n        p.position.copy( pos );\n        p.localPoint1.sub( pos, this.body1.position ).applyMatrix3( this.body1.rotation );\n        p.localPoint2.sub( pos, this.body2.position ).applyMatrix3( this.body2.rotation );\n\n        p.normal.copy( norm );\n        if( flip ) p.normal.negate();\n\n        p.normalImpulse = 0;\n        p.penetration = penetration;\n        p.warmStarted = false;\n        \n    },\n\n    //  Add a point into this manifold.\n    addPoint: function ( x, y, z, nx, ny, nz, penetration, flip ) {\n        \n        var p = this.points[ this.numPoints++ ];\n\n        p.position.set( x, y, z );\n        p.localPoint1.sub( p.position, this.body1.position ).applyMatrix3( this.body1.rotation );\n        p.localPoint2.sub( p.position, this.body2.position ).applyMatrix3( this.body2.rotation );\n\n        p.normalImpulse = 0;\n\n        p.normal.set( nx, ny, nz );\n        if( flip ) p.normal.negate();\n\n        p.penetration = penetration;\n        p.warmStarted = false;\n        \n    }\n};\n\nfunction ContactPointDataBuffer (){\n\n    this.nor = new Vec3();\n    this.tan = new Vec3();\n    this.bin = new Vec3();\n\n    this.norU1 = new Vec3();\n    this.tanU1 = new Vec3();\n    this.binU1 = new Vec3();\n\n    this.norU2 = new Vec3();\n    this.tanU2 = new Vec3();\n    this.binU2 = new Vec3();\n\n    this.norT1 = new Vec3();\n    this.tanT1 = new Vec3();\n    this.binT1 = new Vec3();\n\n    this.norT2 = new Vec3();\n    this.tanT2 = new Vec3();\n    this.binT2 = new Vec3();\n\n    this.norTU1 = new Vec3();\n    this.tanTU1 = new Vec3();\n    this.binTU1 = new Vec3();\n\n    this.norTU2 = new Vec3();\n    this.tanTU2 = new Vec3();\n    this.binTU2 = new Vec3();\n\n    this.norImp = 0;\n    this.tanImp = 0;\n    this.binImp = 0;\n\n    this.norDen = 0;\n    this.tanDen = 0;\n    this.binDen = 0;\n\n    this.norTar = 0;\n\n    this.next = null;\n    this.last = false;\n\n}\n\n/**\n* ...\n* @author saharan\n*/\nfunction ContactConstraint ( manifold ){\n    \n    Constraint.call( this );\n    // The contact manifold of the constraint.\n    this.manifold = manifold;\n    // The coefficient of restitution of the constraint.\n    this.restitution=NaN;\n    // The coefficient of friction of the constraint.\n    this.friction=NaN;\n    this.p1=null;\n    this.p2=null;\n    this.lv1=null;\n    this.lv2=null;\n    this.av1=null;\n    this.av2=null;\n    this.i1=null;\n    this.i2=null;\n\n    //this.ii1 = null;\n    //this.ii2 = null;\n\n    this.tmp = new Vec3();\n    this.tmpC1 = new Vec3();\n    this.tmpC2 = new Vec3();\n\n    this.tmpP1 = new Vec3();\n    this.tmpP2 = new Vec3();\n\n    this.tmplv1 = new Vec3();\n    this.tmplv2 = new Vec3();\n    this.tmpav1 = new Vec3();\n    this.tmpav2 = new Vec3();\n\n    this.m1=NaN;\n    this.m2=NaN;\n    this.num=0;\n    \n    this.ps = manifold.points;\n    this.cs = new ContactPointDataBuffer();\n    this.cs.next = new ContactPointDataBuffer();\n    this.cs.next.next = new ContactPointDataBuffer();\n    this.cs.next.next.next = new ContactPointDataBuffer();\n}\n\nContactConstraint.prototype = Object.assign( Object.create( Constraint.prototype ), {\n\n    constructor: ContactConstraint,\n\n    // Attach the constraint to the bodies.\n    attach: function(){\n\n        this.p1=this.body1.position;\n        this.p2=this.body2.position;\n        this.lv1=this.body1.linearVelocity;\n        this.av1=this.body1.angularVelocity;\n        this.lv2=this.body2.linearVelocity;\n        this.av2=this.body2.angularVelocity;\n        this.i1=this.body1.inverseInertia;\n        this.i2=this.body2.inverseInertia;\n\n    },\n\n    // Detach the constraint from the bodies.\n    detach: function(){\n\n        this.p1=null;\n        this.p2=null;\n        this.lv1=null;\n        this.lv2=null;\n        this.av1=null;\n        this.av2=null;\n        this.i1=null;\n        this.i2=null;\n\n    },\n\n    preSolve: function( timeStep, invTimeStep ){\n\n        this.m1 = this.body1.inverseMass;\n        this.m2 = this.body2.inverseMass;\n\n        var m1m2 = this.m1 + this.m2;\n\n        this.num = this.manifold.numPoints;\n\n        var c = this.cs;\n        var p, rvn, len, norImp, norTar, sepV, i1, i2;\n\n        for( var i=0; i < this.num; i++ ){\n\n            p = this.ps[i];\n\n            this.tmpP1.sub( p.position, this.p1 );\n            this.tmpP2.sub( p.position, this.p2 );\n\n            this.tmpC1.crossVectors( this.av1, this.tmpP1 );\n            this.tmpC2.crossVectors( this.av2, this.tmpP2 );\n\n            c.norImp = p.normalImpulse;\n            c.tanImp = p.tangentImpulse;\n            c.binImp = p.binormalImpulse;\n\n            c.nor.copy( p.normal );\n\n            this.tmp.set(\n\n                ( this.lv2.x + this.tmpC2.x ) - ( this.lv1.x + this.tmpC1.x ),\n                ( this.lv2.y + this.tmpC2.y ) - ( this.lv1.y + this.tmpC1.y ),\n                ( this.lv2.z + this.tmpC2.z ) - ( this.lv1.z + this.tmpC1.z )\n\n            );\n\n            rvn = _Math.dotVectors( c.nor, this.tmp );\n\n            c.tan.set(\n                this.tmp.x - rvn * c.nor.x,\n                this.tmp.y - rvn * c.nor.y,\n                this.tmp.z - rvn * c.nor.z\n            );\n\n            len = _Math.dotVectors( c.tan, c.tan );\n\n            if( len <= 0.04 ) {\n                c.tan.tangent( c.nor );\n            }\n\n            c.tan.normalize();\n\n            c.bin.crossVectors( c.nor, c.tan );\n\n            c.norU1.scale( c.nor, this.m1 );\n            c.norU2.scale( c.nor, this.m2 );\n\n            c.tanU1.scale( c.tan, this.m1 );\n            c.tanU2.scale( c.tan, this.m2 );\n\n            c.binU1.scale( c.bin, this.m1 );\n            c.binU2.scale( c.bin, this.m2 );\n\n            c.norT1.crossVectors( this.tmpP1, c.nor );\n            c.tanT1.crossVectors( this.tmpP1, c.tan );\n            c.binT1.crossVectors( this.tmpP1, c.bin );\n\n            c.norT2.crossVectors( this.tmpP2, c.nor );\n            c.tanT2.crossVectors( this.tmpP2, c.tan );\n            c.binT2.crossVectors( this.tmpP2, c.bin );\n\n            i1 = this.i1;\n            i2 = this.i2;\n\n            c.norTU1.copy( c.norT1 ).applyMatrix3( i1, true );\n            c.tanTU1.copy( c.tanT1 ).applyMatrix3( i1, true );\n            c.binTU1.copy( c.binT1 ).applyMatrix3( i1, true );\n\n            c.norTU2.copy( c.norT2 ).applyMatrix3( i2, true );\n            c.tanTU2.copy( c.tanT2 ).applyMatrix3( i2, true );\n            c.binTU2.copy( c.binT2 ).applyMatrix3( i2, true );\n\n            /*c.norTU1.mulMat( this.i1, c.norT1 );\n            c.tanTU1.mulMat( this.i1, c.tanT1 );\n            c.binTU1.mulMat( this.i1, c.binT1 );\n\n            c.norTU2.mulMat( this.i2, c.norT2 );\n            c.tanTU2.mulMat( this.i2, c.tanT2 );\n            c.binTU2.mulMat( this.i2, c.binT2 );*/\n\n            this.tmpC1.crossVectors( c.norTU1, this.tmpP1 );\n            this.tmpC2.crossVectors( c.norTU2, this.tmpP2 );\n            this.tmp.add( this.tmpC1, this.tmpC2 );\n            c.norDen = 1 / ( m1m2 +_Math.dotVectors( c.nor, this.tmp ));\n\n            this.tmpC1.crossVectors( c.tanTU1, this.tmpP1 );\n            this.tmpC2.crossVectors( c.tanTU2, this.tmpP2 );\n            this.tmp.add( this.tmpC1, this.tmpC2 );\n            c.tanDen = 1 / ( m1m2 +_Math.dotVectors( c.tan, this.tmp ));\n\n            this.tmpC1.crossVectors( c.binTU1, this.tmpP1 );\n            this.tmpC2.crossVectors( c.binTU2, this.tmpP2 );\n            this.tmp.add( this.tmpC1, this.tmpC2 );\n            c.binDen = 1 / ( m1m2 +_Math.dotVectors( c.bin, this.tmp ));\n\n            if( p.warmStarted ){\n\n                norImp = p.normalImpulse;\n\n                this.lv1.addScaledVector( c.norU1, norImp );\n                this.av1.addScaledVector( c.norTU1, norImp );\n\n                this.lv2.subScaledVector( c.norU2, norImp );\n                this.av2.subScaledVector( c.norTU2, norImp );\n\n                c.norImp = norImp;\n                c.tanImp = 0;\n                c.binImp = 0;\n                rvn = 0; // disable bouncing\n\n            } else {\n\n                c.norImp=0;\n                c.tanImp=0;\n                c.binImp=0;\n\n            }\n\n\n            if(rvn>-1) rvn=0; // disable bouncing\n            \n            norTar = this.restitution*-rvn;\n            sepV = -(p.penetration+0.005)*invTimeStep*0.05; // allow 0.5cm error\n            if(norTar<sepV) norTar=sepV;\n            c.norTar = norTar;\n            c.last = i==this.num-1;\n            c = c.next;\n        }\n    },\n\n    solve: function(){\n\n        this.tmplv1.copy( this.lv1 );\n        this.tmplv2.copy( this.lv2 );\n        this.tmpav1.copy( this.av1 );\n        this.tmpav2.copy( this.av2 );\n\n        var oldImp1, newImp1, oldImp2, newImp2, rvn, norImp, tanImp, binImp, max, len;\n\n        var c = this.cs;\n\n        while(true){\n\n            norImp = c.norImp;\n            tanImp = c.tanImp;\n            binImp = c.binImp;\n            max = -norImp * this.friction;\n\n            this.tmp.sub( this.tmplv2, this.tmplv1 );\n\n            rvn = _Math.dotVectors( this.tmp, c.tan ) + _Math.dotVectors( this.tmpav2, c.tanT2 ) - _Math.dotVectors( this.tmpav1, c.tanT1 );\n        \n            oldImp1 = tanImp;\n            newImp1 = rvn*c.tanDen;\n            tanImp += newImp1;\n\n            rvn = _Math.dotVectors( this.tmp, c.bin ) + _Math.dotVectors( this.tmpav2, c.binT2 ) - _Math.dotVectors( this.tmpav1, c.binT1 );\n      \n            oldImp2 = binImp;\n            newImp2 = rvn*c.binDen;\n            binImp += newImp2;\n\n            // cone friction clamp\n            len = tanImp*tanImp + binImp*binImp;\n            if(len > max * max ){\n                len = max/_Math.sqrt(len);\n                tanImp *= len;\n                binImp *= len;\n            }\n\n            newImp1 = tanImp-oldImp1;\n            newImp2 = binImp-oldImp2;\n\n            //\n\n            this.tmp.set( \n                c.tanU1.x*newImp1 + c.binU1.x*newImp2,\n                c.tanU1.y*newImp1 + c.binU1.y*newImp2,\n                c.tanU1.z*newImp1 + c.binU1.z*newImp2\n            );\n\n            this.tmplv1.addEqual( this.tmp );\n\n            this.tmp.set(\n                c.tanTU1.x*newImp1 + c.binTU1.x*newImp2,\n                c.tanTU1.y*newImp1 + c.binTU1.y*newImp2,\n                c.tanTU1.z*newImp1 + c.binTU1.z*newImp2\n            );\n\n            this.tmpav1.addEqual( this.tmp );\n\n            this.tmp.set(\n                c.tanU2.x*newImp1 + c.binU2.x*newImp2,\n                c.tanU2.y*newImp1 + c.binU2.y*newImp2,\n                c.tanU2.z*newImp1 + c.binU2.z*newImp2\n            );\n\n            this.tmplv2.subEqual( this.tmp );\n\n            this.tmp.set(\n                c.tanTU2.x*newImp1 + c.binTU2.x*newImp2,\n                c.tanTU2.y*newImp1 + c.binTU2.y*newImp2,\n                c.tanTU2.z*newImp1 + c.binTU2.z*newImp2\n            );\n\n            this.tmpav2.subEqual( this.tmp );\n\n            // restitution part\n\n            this.tmp.sub( this.tmplv2, this.tmplv1 );\n\n            rvn = _Math.dotVectors( this.tmp, c.nor ) + _Math.dotVectors( this.tmpav2, c.norT2 ) - _Math.dotVectors( this.tmpav1, c.norT1 );\n\n            oldImp1 = norImp;\n            newImp1 = (rvn-c.norTar)*c.norDen;\n            norImp += newImp1;\n            if( norImp > 0 ) norImp = 0;\n\n            newImp1 = norImp - oldImp1;\n\n            this.tmplv1.addScaledVector( c.norU1, newImp1 );\n            this.tmpav1.addScaledVector( c.norTU1, newImp1 );\n            this.tmplv2.subScaledVector( c.norU2, newImp1 );\n            this.tmpav2.subScaledVector( c.norTU2, newImp1 );\n\n            c.norImp = norImp;\n            c.tanImp = tanImp;\n            c.binImp = binImp;\n\n            if(c.last)break;\n            c = c.next;\n        }\n\n        this.lv1.copy( this.tmplv1 );\n        this.lv2.copy( this.tmplv2 );\n        this.av1.copy( this.tmpav1 );\n        this.av2.copy( this.tmpav2 );\n\n    },\n\n    postSolve: function(){\n\n        var c = this.cs, p;\n        var i = this.num;\n        while(i--){\n        //for(var i=0;i<this.num;i++){\n            p = this.ps[i];\n            p.normal.copy( c.nor );\n            p.tangent.copy( c.tan );\n            p.binormal.copy( c.bin );\n\n            p.normalImpulse = c.norImp;\n            p.tangentImpulse = c.tanImp;\n            p.binormalImpulse = c.binImp;\n            p.normalDenominator = c.norDen;\n            p.tangentDenominator = c.tanDen;\n            p.binormalDenominator = c.binDen;\n            c=c.next;\n        }\n    }\n\n});\n\n/**\n* A contact is a pair of shapes whose axis-aligned bounding boxes are overlapping.\n* @author saharan\n*/\n\nfunction Contact(){\n\n    // The first shape.\n    this.shape1 = null;\n    // The second shape.\n    this.shape2 = null;\n    // The first rigid body.\n    this.body1 = null;\n    // The second rigid body.\n    this.body2 = null;\n    // The previous contact in the world.\n    this.prev = null;\n    // The next contact in the world.\n    this.next = null;\n    // Internal\n    this.persisting = false;\n    // Whether both the rigid bodies are sleeping or not.\n    this.sleeping = false;\n    // The collision detector between two shapes.\n    this.detector = null;\n    // The contact constraint of the contact.\n    this.constraint = null;\n    // Whether the shapes are touching or not.\n    this.touching = false;\n    // shapes is very close and touching \n    this.close = false;\n\n    this.dist = _Math.INF;\n\n    this.b1Link = new ContactLink( this );\n    this.b2Link = new ContactLink( this );\n    this.s1Link = new ContactLink( this );\n    this.s2Link = new ContactLink( this );\n\n    // The contact manifold of the contact.\n    this.manifold = new ContactManifold();\n\n    this.buffer = [\n\n        new ImpulseDataBuffer(),\n        new ImpulseDataBuffer(),\n        new ImpulseDataBuffer(),\n        new ImpulseDataBuffer()\n\n    ];\n\n    this.points = this.manifold.points;\n    this.constraint = new ContactConstraint( this.manifold );\n    \n}\n\nObject.assign( Contact.prototype, {\n\n    Contact: true,\n\n    mixRestitution: function ( restitution1, restitution2 ) {\n\n        return _Math.sqrt(restitution1*restitution2);\n\n    },\n    mixFriction: function ( friction1, friction2 ) {\n\n        return _Math.sqrt(friction1*friction2);\n\n    },\n\n    /**\n    * Update the contact manifold.\n    */\n    updateManifold: function () {\n\n        this.constraint.restitution =this.mixRestitution(this.shape1.restitution,this.shape2.restitution);\n        this.constraint.friction=this.mixFriction(this.shape1.friction,this.shape2.friction);\n        var numBuffers=this.manifold.numPoints;\n        var i = numBuffers;\n        while(i--){\n        //for(var i=0;i<numBuffers;i++){\n            var b = this.buffer[i];\n            var p = this.points[i];\n            b.lp1X=p.localPoint1.x;\n            b.lp1Y=p.localPoint1.y;\n            b.lp1Z=p.localPoint1.z;\n            b.lp2X=p.localPoint2.x;\n            b.lp2Y=p.localPoint2.y;\n            b.lp2Z=p.localPoint2.z;\n            b.impulse=p.normalImpulse;\n        }\n        this.manifold.numPoints=0;\n        this.detector.detectCollision(this.shape1,this.shape2,this.manifold);\n        var num=this.manifold.numPoints;\n        if(num==0){\n            this.touching = false;\n            this.close = false;\n            this.dist = _Math.INF;\n            return;\n        }\n\n        if( this.touching || this.dist < 0.001 ) this.close = true;\n        this.touching=true;\n        i = num;\n        while(i--){\n        //for(i=0; i<num; i++){\n            p=this.points[i];\n            var lp1x=p.localPoint1.x;\n            var lp1y=p.localPoint1.y;\n            var lp1z=p.localPoint1.z;\n            var lp2x=p.localPoint2.x;\n            var lp2y=p.localPoint2.y;\n            var lp2z=p.localPoint2.z;\n            var index=-1;\n            var minDistance=0.0004;\n            var j = numBuffers;\n            while(j--){\n            //for(var j=0;j<numBuffers;j++){\n                b=this.buffer[j];\n                var dx=b.lp1X-lp1x;\n                var dy=b.lp1Y-lp1y;\n                var dz=b.lp1Z-lp1z;\n                var distance1=dx*dx+dy*dy+dz*dz;\n                dx=b.lp2X-lp2x;\n                dy=b.lp2Y-lp2y;\n                dz=b.lp2Z-lp2z;\n                var distance2=dx*dx+dy*dy+dz*dz;\n                if(distance1<distance2){\n                    if(distance1<minDistance){\n                        minDistance=distance1;\n                        index=j;\n                    }\n                }else{\n                    if(distance2<minDistance){\n                        minDistance=distance2;\n                        index=j;\n                    }\n                }\n\n                if( minDistance < this.dist ) this.dist = minDistance;\n\n            }\n            if(index!=-1){\n                var tmp=this.buffer[index];\n                this.buffer[index]=this.buffer[--numBuffers];\n                this.buffer[numBuffers]=tmp;\n                p.normalImpulse=tmp.impulse;\n                p.warmStarted=true;\n            }else{\n                p.normalImpulse=0;\n                p.warmStarted=false;\n            }\n        }\n    },\n    /**\n    * Attach the contact to the shapes.\n    * @param   shape1\n    * @param   shape2\n    */\n    attach:function(shape1,shape2){\n        this.shape1=shape1;\n        this.shape2=shape2;\n        this.body1=shape1.parent;\n        this.body2=shape2.parent;\n\n        this.manifold.body1=this.body1;\n        this.manifold.body2=this.body2;\n        this.constraint.body1=this.body1;\n        this.constraint.body2=this.body2;\n        this.constraint.attach();\n\n        this.s1Link.shape=shape2;\n        this.s1Link.body=this.body2;\n        this.s2Link.shape=shape1;\n        this.s2Link.body=this.body1;\n\n        if(shape1.contactLink!=null)(this.s1Link.next=shape1.contactLink).prev=this.s1Link;\n        else this.s1Link.next=null;\n        shape1.contactLink=this.s1Link;\n        shape1.numContacts++;\n\n        if(shape2.contactLink!=null)(this.s2Link.next=shape2.contactLink).prev=this.s2Link;\n        else this.s2Link.next=null;\n        shape2.contactLink=this.s2Link;\n        shape2.numContacts++;\n\n        this.b1Link.shape=shape2;\n        this.b1Link.body=this.body2;\n        this.b2Link.shape=shape1;\n        this.b2Link.body=this.body1;\n\n        if(this.body1.contactLink!=null)(this.b1Link.next=this.body1.contactLink).prev=this.b1Link;\n        else this.b1Link.next=null;\n        this.body1.contactLink=this.b1Link;\n        this.body1.numContacts++;\n\n        if(this.body2.contactLink!=null)(this.b2Link.next=this.body2.contactLink).prev=this.b2Link;\n        else this.b2Link.next=null;\n        this.body2.contactLink=this.b2Link;\n        this.body2.numContacts++;\n\n        this.prev=null;\n        this.next=null;\n\n        this.persisting=true;\n        this.sleeping=this.body1.sleeping&&this.body2.sleeping;\n        this.manifold.numPoints=0;\n    },\n    /**\n    * Detach the contact from the shapes.\n    */\n    detach:function(){\n        var prev=this.s1Link.prev;\n        var next=this.s1Link.next;\n        if(prev!==null)prev.next=next;\n        if(next!==null)next.prev=prev;\n        if(this.shape1.contactLink==this.s1Link)this.shape1.contactLink=next;\n        this.s1Link.prev=null;\n        this.s1Link.next=null;\n        this.s1Link.shape=null;\n        this.s1Link.body=null;\n        this.shape1.numContacts--;\n\n        prev=this.s2Link.prev;\n        next=this.s2Link.next;\n        if(prev!==null)prev.next=next;\n        if(next!==null)next.prev=prev;\n        if(this.shape2.contactLink==this.s2Link)this.shape2.contactLink=next;\n        this.s2Link.prev=null;\n        this.s2Link.next=null;\n        this.s2Link.shape=null;\n        this.s2Link.body=null;\n        this.shape2.numContacts--;\n\n        prev=this.b1Link.prev;\n        next=this.b1Link.next;\n        if(prev!==null)prev.next=next;\n        if(next!==null)next.prev=prev;\n        if(this.body1.contactLink==this.b1Link)this.body1.contactLink=next;\n        this.b1Link.prev=null;\n        this.b1Link.next=null;\n        this.b1Link.shape=null;\n        this.b1Link.body=null;\n        this.body1.numContacts--;\n\n        prev=this.b2Link.prev;\n        next=this.b2Link.next;\n        if(prev!==null)prev.next=next;\n        if(next!==null)next.prev=prev;\n        if(this.body2.contactLink==this.b2Link)this.body2.contactLink=next;\n        this.b2Link.prev=null;\n        this.b2Link.next=null;\n        this.b2Link.shape=null;\n        this.b2Link.body=null;\n        this.body2.numContacts--;\n\n        this.manifold.body1=null;\n        this.manifold.body2=null;\n        this.constraint.body1=null;\n        this.constraint.body2=null;\n        this.constraint.detach();\n\n        this.shape1=null;\n        this.shape2=null;\n        this.body1=null;\n        this.body2=null;\n    }\n\n} );\n\n/**\r\n* The class of rigid body.\r\n* Rigid body has the shape of a single or multiple collision processing,\r\n* I can set the parameters individually.\r\n* @author saharan\r\n* @author lo-th\r\n*/\r\n\r\nfunction RigidBody ( Position, Rotation ) {\r\n\r\n    this.position = Position || new Vec3();\r\n    this.orientation = Rotation || new Quat();\r\n\r\n    this.scale = 1;\r\n    this.invScale = 1;\r\n\r\n    // possible link to three Mesh;\r\n    this.mesh = null;\r\n\r\n    this.id = NaN;\r\n    this.name = \"\";\r\n    // The maximum number of shapes that can be added to a one rigid.\r\n    //this.MAX_SHAPES = 64;//64;\r\n\r\n    this.prev = null;\r\n    this.next = null;\r\n\r\n    // I represent the kind of rigid body.\r\n    // Please do not change from the outside this variable.\r\n    // If you want to change the type of rigid body, always\r\n    // Please specify the type you want to set the arguments of setupMass method.\r\n    this.type = BODY_NULL;\r\n\r\n    this.massInfo = new MassInfo();\r\n\r\n    this.newPosition = new Vec3();\r\n    this.controlPos = false;\r\n    this.newOrientation = new Quat();\r\n    this.newRotation = new Vec3();\r\n    this.currentRotation = new Vec3();\r\n    this.controlRot = false;\r\n    this.controlRotInTime = false;\r\n\r\n    this.quaternion = new Quat();\r\n    this.pos = new Vec3();\r\n\r\n\r\n\r\n    // Is the translational velocity.\r\n    this.linearVelocity = new Vec3();\r\n    // Is the angular velocity.\r\n    this.angularVelocity = new Vec3();\r\n\r\n    //--------------------------------------------\r\n    //  Please do not change from the outside this variables.\r\n    //--------------------------------------------\r\n\r\n    // It is a world that rigid body has been added.\r\n    this.parent = null;\r\n    this.contactLink = null;\r\n    this.numContacts = 0;\r\n\r\n    // An array of shapes that are included in the rigid body.\r\n    this.shapes = null;\r\n    // The number of shapes that are included in the rigid body.\r\n    this.numShapes = 0;\r\n\r\n    // It is the link array of joint that is connected to the rigid body.\r\n    this.jointLink = null;\r\n    // The number of joints that are connected to the rigid body.\r\n    this.numJoints = 0;\r\n\r\n    // It is the world coordinate of the center of gravity in the sleep just before.\r\n    this.sleepPosition = new Vec3();\r\n    // It is a quaternion that represents the attitude of sleep just before.\r\n    this.sleepOrientation = new Quat();\r\n    // I will show this rigid body to determine whether it is a rigid body static.\r\n    this.isStatic = false;\r\n    // I indicates that this rigid body to determine whether it is a rigid body dynamic.\r\n    this.isDynamic = false;\r\n\r\n    this.isKinematic = false;\r\n\r\n    // It is a rotation matrix representing the orientation.\r\n    this.rotation = new Mat33();\r\n\r\n    //--------------------------------------------\r\n    // It will be recalculated automatically from the shape, which is included.\r\n    //--------------------------------------------\r\n\r\n    // This is the weight.\r\n    this.mass = 0;\r\n    // It is the reciprocal of the mass.\r\n    this.inverseMass = 0;\r\n    // It is the inverse of the inertia tensor in the world system.\r\n    this.inverseInertia = new Mat33();\r\n    // It is the inertia tensor in the initial state.\r\n    this.localInertia = new Mat33();\r\n    // It is the inverse of the inertia tensor in the initial state.\r\n    this.inverseLocalInertia = new Mat33();\r\n\r\n    this.tmpInertia = new Mat33();\r\n\r\n\r\n    // I indicates rigid body whether it has been added to the simulation Island.\r\n    this.addedToIsland = false;\r\n    // It shows how to sleep rigid body.\r\n    this.allowSleep = true;\r\n    // This is the time from when the rigid body at rest.\r\n    this.sleepTime = 0;\r\n    // I shows rigid body to determine whether it is a sleep state.\r\n    this.sleeping = false;\r\n\r\n}\r\n\r\nObject.assign( RigidBody.prototype, {\r\n\r\n    setParent: function ( world ) {\r\n\r\n        this.parent = world;\r\n        this.scale = this.parent.scale;\r\n        this.invScale = this.parent.invScale;\r\n        this.id = this.parent.numRigidBodies;\r\n        if( !this.name ) this.name = this.id;\r\n\r\n        this.updateMesh();\r\n\r\n    },\r\n\r\n    /**\r\n     * I'll add a shape to rigid body.\r\n     * If you add a shape, please call the setupMass method to step up to the start of the next.\r\n     * @param   shape shape to Add\r\n     */\r\n    addShape:function(shape){\r\n\r\n        if(shape.parent){\r\n\t\t\tprintError(\"RigidBody\", \"It is not possible that you add a shape which already has an associated body.\");\r\n\t\t}\r\n\r\n        if(this.shapes!=null)( this.shapes.prev = shape ).next = this.shapes;\r\n        this.shapes = shape;\r\n        shape.parent = this;\r\n        if(this.parent) this.parent.addShape( shape );\r\n        this.numShapes++;\r\n\r\n    },\r\n    /**\r\n     * I will delete the shape from the rigid body.\r\n     * If you delete a shape, please call the setupMass method to step up to the start of the next.\r\n     * @param shape {Shape} to delete\r\n     * @return void\r\n     */\r\n    removeShape:function(shape){\r\n\r\n        var remove = shape;\r\n        if(remove.parent!=this)return;\r\n        var prev=remove.prev;\r\n        var next=remove.next;\r\n        if(prev!=null) prev.next=next;\r\n        if(next!=null) next.prev=prev;\r\n        if(this.shapes==remove)this.shapes=next;\r\n        remove.prev=null;\r\n        remove.next=null;\r\n        remove.parent=null;\r\n        if(this.parent)this.parent.removeShape(remove);\r\n        this.numShapes--;\r\n\r\n    },\r\n\r\n    remove: function () {\r\n\r\n        this.dispose();\r\n\r\n    },\r\n\r\n    dispose: function () {\r\n\r\n        this.parent.removeRigidBody( this );\r\n\r\n    },\r\n\r\n    checkContact: function( name ) {\r\n\r\n        this.parent.checkContact( this.name, name );\r\n\r\n    },\r\n\r\n    /**\r\n     * Calulates mass datas(center of gravity, mass, moment inertia, etc...).\r\n     * If the parameter type is set to BODY_STATIC, the rigid body will be fixed to the space.\r\n     * If the parameter adjustPosition is set to true, the shapes' relative positions and\r\n     * the rigid body's position will be adjusted to the center of gravity.\r\n     * @param type\r\n     * @param adjustPosition\r\n     * @return void\r\n     */\r\n    setupMass: function ( type, AdjustPosition ) {\r\n\r\n        var adjustPosition = ( AdjustPosition !== undefined ) ? AdjustPosition : true;\r\n\r\n        this.type = type || BODY_STATIC;\r\n        this.isDynamic = this.type === BODY_DYNAMIC;\r\n        this.isStatic = this.type === BODY_STATIC;\r\n\r\n        this.mass = 0;\r\n        this.localInertia.set(0,0,0,0,0,0,0,0,0);\r\n\r\n\r\n        var tmpM = new Mat33();\r\n        var tmpV = new Vec3();\r\n\r\n        for( var shape = this.shapes; shape !== null; shape = shape.next ){\r\n\r\n            shape.calculateMassInfo( this.massInfo );\r\n            var shapeMass = this.massInfo.mass;\r\n            tmpV.addScaledVector(shape.relativePosition, shapeMass);\r\n            this.mass += shapeMass;\r\n            this.rotateInertia( shape.relativeRotation, this.massInfo.inertia, tmpM );\r\n            this.localInertia.add( tmpM );\r\n\r\n            // add offset inertia\r\n            this.localInertia.addOffset( shapeMass, shape.relativePosition );\r\n\r\n        }\r\n\r\n        this.inverseMass = 1 / this.mass;\r\n        tmpV.scaleEqual( this.inverseMass );\r\n\r\n        if( adjustPosition ){\r\n            this.position.add( tmpV );\r\n            for( shape=this.shapes; shape !== null; shape = shape.next ){\r\n                shape.relativePosition.subEqual(tmpV);\r\n            }\r\n\r\n            // subtract offset inertia\r\n            this.localInertia.subOffset( this.mass, tmpV );\r\n\r\n        }\r\n\r\n        this.inverseLocalInertia.invert( this.localInertia );\r\n\r\n        //}\r\n\r\n        if( this.type === BODY_STATIC ){\r\n            this.inverseMass = 0;\r\n            this.inverseLocalInertia.set(0,0,0,0,0,0,0,0,0);\r\n        }\r\n\r\n        this.syncShapes();\r\n        this.awake();\r\n\r\n    },\r\n    /**\r\n     * Awake the rigid body.\r\n     */\r\n    awake:function(){\r\n\r\n        if( !this.allowSleep || !this.sleeping ) return;\r\n        this.sleeping = false;\r\n        this.sleepTime = 0;\r\n        // awake connected constraints\r\n        var cs = this.contactLink;\r\n        while(cs != null){\r\n            cs.body.sleepTime = 0;\r\n            cs.body.sleeping = false;\r\n            cs = cs.next;\r\n        }\r\n        var js = this.jointLink;\r\n        while(js != null){\r\n            js.body.sleepTime = 0;\r\n            js.body.sleeping = false;\r\n            js = js.next;\r\n        }\r\n        for(var shape = this.shapes; shape!=null; shape = shape.next){\r\n            shape.updateProxy();\r\n        }\r\n\r\n    },\r\n    /**\r\n     * Sleep the rigid body.\r\n     */\r\n    sleep:function(){\r\n\r\n        if( !this.allowSleep || this.sleeping ) return;\r\n\r\n        this.linearVelocity.set(0,0,0);\r\n        this.angularVelocity.set(0,0,0);\r\n        this.sleepPosition.copy( this.position );\r\n        this.sleepOrientation.copy( this.orientation );\r\n\r\n        this.sleepTime = 0;\r\n        this.sleeping = true;\r\n        for( var shape = this.shapes; shape != null; shape = shape.next ) {\r\n            shape.updateProxy();\r\n        }\r\n    },\r\n\r\n    testWakeUp: function(){\r\n\r\n        if( this.linearVelocity.testZero() || this.angularVelocity.testZero() || this.position.testDiff( this.sleepPosition ) || this.orientation.testDiff( this.sleepOrientation )) this.awake(); // awake the body\r\n\r\n    },\r\n\r\n    /**\r\n     * Get whether the rigid body has not any connection with others.\r\n     * @return {void}\r\n     */\r\n    isLonely: function () {\r\n        return this.numJoints==0 && this.numContacts==0;\r\n    },\r\n\r\n    /**\r\n     * The time integration of the motion of a rigid body, you can update the information such as the shape.\r\n     * This method is invoked automatically when calling the step of the World,\r\n     * There is no need to call from outside usually.\r\n     * @param  timeStep time\r\n     * @return {void}\r\n     */\r\n\r\n    updatePosition: function ( timeStep ) {\r\n        switch(this.type){\r\n            case BODY_STATIC:\r\n                this.linearVelocity.set(0,0,0);\r\n                this.angularVelocity.set(0,0,0);\r\n\r\n                // ONLY FOR TEST\r\n                if(this.controlPos){\r\n                    this.position.copy(this.newPosition);\r\n                    this.controlPos = false;\r\n                }\r\n                if(this.controlRot){\r\n                    this.orientation.copy(this.newOrientation);\r\n                    this.controlRot = false;\r\n                }\r\n                /*this.linearVelocity.x=0;\r\n                this.linearVelocity.y=0;\r\n                this.linearVelocity.z=0;\r\n                this.angularVelocity.x=0;\r\n                this.angularVelocity.y=0;\r\n                this.angularVelocity.z=0;*/\r\n            break;\r\n            case BODY_DYNAMIC:\r\n\r\n                if( this.isKinematic ){\r\n\r\n                    this.linearVelocity.set(0,0,0);\r\n                    this.angularVelocity.set(0,0,0);\r\n\r\n                }\r\n\r\n                if(this.controlPos){\r\n\r\n                    this.linearVelocity.subVectors( this.newPosition, this.position ).multiplyScalar(1/timeStep);\r\n                    this.controlPos = false;\r\n\r\n                }\r\n                if(this.controlRot){\r\n\r\n                    this.angularVelocity.copy( this.getAxis() );\r\n                    this.orientation.copy( this.newOrientation );\r\n                    this.controlRot = false;\r\n\r\n                }\r\n\r\n                this.position.addScaledVector(this.linearVelocity, timeStep);\r\n                this.orientation.addTime(this.angularVelocity, timeStep);\r\n\r\n                this.updateMesh();\r\n\r\n            break;\r\n            default: printError(\"RigidBody\", \"Invalid type.\");\r\n        }\r\n\r\n        this.syncShapes();\r\n        this.updateMesh();\r\n\r\n    },\r\n\r\n    getAxis: function () {\r\n\r\n        return new Vec3( 0,1,0 ).applyMatrix3( this.inverseLocalInertia, true ).normalize();\r\n\r\n    },\r\n\r\n    rotateInertia: function ( rot, inertia, out ) {\r\n\r\n        this.tmpInertia.multiplyMatrices( rot, inertia );\r\n        out.multiplyMatrices( this.tmpInertia, rot, true );\r\n\r\n    },\r\n\r\n    syncShapes: function () {\r\n\r\n        this.rotation.setQuat( this.orientation );\r\n        this.rotateInertia( this.rotation, this.inverseLocalInertia, this.inverseInertia );\r\n        \r\n        for(var shape = this.shapes; shape!=null; shape = shape.next){\r\n\r\n            shape.position.copy( shape.relativePosition ).applyMatrix3( this.rotation, true ).add( this.position );\r\n            // add by QuaziKb\r\n            shape.rotation.multiplyMatrices( this.rotation, shape.relativeRotation );\r\n            shape.updateProxy();\r\n        }\r\n    },\r\n\r\n\r\n    //---------------------------------------------\r\n    // APPLY IMPULSE FORCE\r\n    //---------------------------------------------\r\n\r\n    applyImpulse: function(position, force){\r\n        this.linearVelocity.addScaledVector(force, this.inverseMass);\r\n        var rel = new Vec3().copy( position ).sub( this.position ).cross( force ).applyMatrix3( this.inverseInertia, true );\r\n        this.angularVelocity.add( rel );\r\n    },\r\n\r\n\r\n    //---------------------------------------------\r\n    // SET DYNAMIQUE POSITION AND ROTATION\r\n    //---------------------------------------------\r\n\r\n    setPosition: function(pos){\r\n        this.newPosition.copy( pos ).multiplyScalar( this.invScale );\r\n        this.controlPos = true;\r\n        if( !this.isKinematic ) this.isKinematic = true;\r\n    },\r\n\r\n    setQuaternion: function(q){\r\n        this.newOrientation.set(q.x, q.y, q.z, q.w);\r\n        this.controlRot = true;\r\n        if( !this.isKinematic ) this.isKinematic = true;\r\n    },\r\n\r\n    setRotation: function ( rot ) {\r\n\r\n        this.newOrientation = new Quat().setFromEuler( rot.x * _Math.degtorad, rot.y * _Math.degtorad, rot.y * _Math.degtorad );//this.rotationVectToQuad( rot );\r\n        this.controlRot = true;\r\n\r\n    },\r\n\r\n    //---------------------------------------------\r\n    // RESET DYNAMIQUE POSITION AND ROTATION\r\n    //---------------------------------------------\r\n\r\n    resetPosition:function(x,y,z){\r\n\r\n        this.linearVelocity.set( 0, 0, 0 );\r\n        this.angularVelocity.set( 0, 0, 0 );\r\n        this.position.set( x, y, z ).multiplyScalar( this.invScale );\r\n        //this.position.set( x*OIMO.WorldScale.invScale, y*OIMO.WorldScale.invScale, z*OIMO.WorldScale.invScale );\r\n        this.awake();\r\n    },\r\n\r\n    resetQuaternion:function( q ){\r\n\r\n        this.angularVelocity.set(0,0,0);\r\n        this.orientation = new Quat( q.x, q.y, q.z, q.w );\r\n        this.awake();\r\n\r\n    },\r\n\r\n    resetRotation:function(x,y,z){\r\n\r\n        this.angularVelocity.set(0,0,0);\r\n        this.orientation = new Quat().setFromEuler( x * _Math.degtorad, y * _Math.degtorad,  z * _Math.degtorad );//this.rotationVectToQuad( new Vec3(x,y,z) );\r\n        this.awake();\r\n\r\n    },\r\n\r\n    //---------------------------------------------\r\n    // GET POSITION AND ROTATION\r\n    //---------------------------------------------\r\n\r\n    getPosition:function () {\r\n\r\n        return this.pos;\r\n\r\n    },\r\n\r\n    getQuaternion: function () {\r\n\r\n        return this.quaternion;\r\n\r\n    },\r\n\r\n    //---------------------------------------------\r\n    // AUTO UPDATE THREE MESH\r\n    //---------------------------------------------\r\n\r\n    connectMesh: function ( mesh ) {\r\n\r\n        this.mesh = mesh;\r\n        this.updateMesh();\r\n\r\n    },\r\n\r\n    updateMesh: function(){\r\n\r\n        this.pos.scale( this.position, this.scale );\r\n        this.quaternion.copy( this.orientation );\r\n\r\n        if( this.mesh === null ) return;\r\n\r\n        this.mesh.position.copy( this.getPosition() );\r\n        this.mesh.quaternion.copy( this.getQuaternion() );\r\n\r\n    },\r\n\r\n} );\n\n/**\r\n* A pair of shapes that may collide.\r\n* @author saharan\r\n*/\r\nfunction Pair ( s1, s2 ){\r\n\r\n    // The first shape.\r\n    this.shape1 = s1 || null;\r\n    // The second shape.\r\n    this.shape2 = s2 || null;\r\n\r\n}\n\n/**\r\n* The broad-phase is used for collecting all possible pairs for collision.\r\n*/\r\n\r\n function BroadPhase(){\r\n\r\n    this.types = BR_NULL;\r\n    this.numPairChecks = 0;\r\n    this.numPairs = 0;\r\n    this.pairs = [];\r\n\r\n}\r\n\r\nObject.assign( BroadPhase.prototype, {\r\n\r\n    BroadPhase: true,\r\n\r\n    // Create a new proxy.\r\n    createProxy: function ( shape ) {\r\n\r\n        printError(\"BroadPhase\",\"Inheritance error.\");\r\n\r\n    },\r\n\r\n    // Add the proxy into the broad-phase.\r\n    addProxy: function ( proxy ) {\r\n\r\n        printError(\"BroadPhase\",\"Inheritance error.\");\r\n    },\r\n\r\n    // Remove the proxy from the broad-phase.\r\n    removeProxy: function ( proxy ) {\r\n\r\n        printError(\"BroadPhase\",\"Inheritance error.\");\r\n\r\n    },\r\n\r\n    // Returns whether the pair is available or not.\r\n    isAvailablePair: function ( s1, s2 ) {\r\n\r\n        var b1 = s1.parent;\r\n        var b2 = s2.parent;\r\n        if( b1 == b2 || // same parents\r\n            (!b1.isDynamic && !b2.isDynamic) || // static or kinematic object\r\n            (s1.belongsTo&s2.collidesWith)==0 ||\r\n            (s2.belongsTo&s1.collidesWith)==0 // collision filtering\r\n        ){ return false; }\r\n        var js;\r\n        if(b1.numJoints<b2.numJoints) js = b1.jointLink;\r\n        else js = b2.jointLink;\r\n        while(js!==null){\r\n           var joint = js.joint;\r\n           if( !joint.allowCollision && ((joint.body1==b1 && joint.body2==b2) || (joint.body1==b2 && joint.body2==b1)) ){ return false; }\r\n           js = js.next;\r\n        }\r\n\r\n        return true;\r\n\r\n    },\r\n\r\n    // Detect overlapping pairs.\r\n    detectPairs: function () {\r\n\r\n        // clear old\r\n        this.pairs = [];\r\n        this.numPairs = 0;\r\n        this.numPairChecks = 0;\r\n        this.collectPairs();\r\n\r\n    },\r\n\r\n    collectPairs: function () {\r\n\r\n        Error(\"BroadPhase\", \"Inheritance error.\");\r\n\r\n    },\r\n\r\n    addPair: function ( s1, s2 ) {\r\n\r\n        var pair = new Pair( s1, s2 );\r\n        this.pairs.push(pair);\r\n        this.numPairs++;\r\n\r\n    }\r\n\r\n});\n\nvar count$1 = 0;\r\nfunction ProxyIdCount() { return count$1++; }\r\n\r\n/**\r\n * A proxy is used for broad-phase collecting pairs that can be colliding.\r\n *\r\n * @author lo-th\r\n */\r\n\r\nfunction Proxy( shape ) {\r\n\r\n\t//The parent shape.\r\n    this.shape = shape;\r\n\r\n    //The axis-aligned bounding box.\r\n    this.aabb = shape.aabb;\r\n\r\n}\r\n\r\nObject.assign( Proxy.prototype, {\r\n\r\n    Proxy: true,\r\n\r\n\t// Update the proxy. Must be inherited by a child.\r\n\r\n    update: function(){\r\n\r\n        printError(\"Proxy\",\"Inheritance error.\");\r\n\r\n    }\r\n\r\n});\n\n/**\r\n* A basic implementation of proxies.\r\n*\r\n* @author saharan\r\n*/\r\n\r\nfunction BasicProxy ( shape ) {\r\n\r\n    Proxy.call( this, shape );\r\n\r\n    this.id = ProxyIdCount();\r\n\r\n}\r\n\r\nBasicProxy.prototype = Object.assign( Object.create( Proxy.prototype ), {\r\n\r\n    constructor: BasicProxy,\r\n\r\n    update: function () {\r\n\r\n    }\r\n\r\n});\n\n/**\r\n* A broad-phase algorithm with brute-force search.\r\n* This always checks for all possible pairs.\r\n*/\r\n\r\nfunction BruteForceBroadPhase(){\r\n\r\n    BroadPhase.call( this );\r\n    this.types = BR_BRUTE_FORCE;\r\n    //this.numProxies=0;\r\n    ///this.maxProxies = 256;\r\n    this.proxies = [];\r\n    //this.proxies.length = 256;\r\n\r\n}\r\n\r\n\r\nBruteForceBroadPhase.prototype = Object.assign( Object.create( BroadPhase.prototype ), {\r\n\r\n    constructor: BruteForceBroadPhase,\r\n\r\n    createProxy: function ( shape ) {\r\n\r\n        return new BasicProxy( shape );\r\n\r\n    },\r\n\r\n    addProxy: function ( proxy ) {\r\n\r\n        /*if(this.numProxies==this.maxProxies){\r\n            //this.maxProxies<<=1;\r\n            this.maxProxies*=2;\r\n            var newProxies=[];\r\n            newProxies.length = this.maxProxies;\r\n            var i = this.numProxies;\r\n            while(i--){\r\n            //for(var i=0, l=this.numProxies;i<l;i++){\r\n                newProxies[i]=this.proxies[i];\r\n            }\r\n            this.proxies=newProxies;\r\n        }*/\r\n        //this.proxies[this.numProxies++] = proxy;\r\n        this.proxies.push( proxy );\r\n        //this.numProxies++;\r\n\r\n    },\r\n\r\n    removeProxy: function ( proxy ) {\r\n\r\n        var n = this.proxies.indexOf( proxy );\r\n        if ( n > -1 ){\r\n            this.proxies.splice( n, 1 );\r\n            //this.numProxies--;\r\n        }\r\n\r\n        /*var i = this.numProxies;\r\n        while(i--){\r\n        //for(var i=0, l=this.numProxies;i<l;i++){\r\n            if(this.proxies[i] == proxy){\r\n                this.proxies[i] = this.proxies[--this.numProxies];\r\n                this.proxies[this.numProxies] = null;\r\n                return;\r\n            }\r\n        }*/\r\n\r\n    },\r\n\r\n    collectPairs: function () {\r\n\r\n        var i = 0, j, p1, p2;\r\n\r\n        var px = this.proxies;\r\n        var l = px.length;//this.numProxies;\r\n        //var ar1 = [];\r\n        //var ar2 = [];\r\n\r\n        //for( i = px.length ; i-- ; ar1[ i ] = px[ i ] ){};\r\n        //for( i = px.length ; i-- ; ar2[ i ] = px[ i ] ){};\r\n\r\n        //var ar1 = JSON.parse(JSON.stringify(this.proxies))\r\n        //var ar2 = JSON.parse(JSON.stringify(this.proxies))\r\n\r\n        this.numPairChecks = l*(l-1)>>1;\r\n        //this.numPairChecks=this.numProxies*(this.numProxies-1)*0.5;\r\n\r\n        while( i < l ){\r\n            p1 = px[i++];\r\n            j = i + 1;\r\n            while( j < l ){\r\n                p2 = px[j++];\r\n                if ( p1.aabb.intersectTest( p2.aabb ) || !this.isAvailablePair( p1.shape, p2.shape ) ) continue;\r\n                this.addPair( p1.shape, p2.shape );\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n});\n\n/**\r\n * A projection axis for sweep and prune broad-phase.\r\n * @author saharan\r\n */\r\n\r\nfunction SAPAxis (){\r\n\r\n    this.numElements = 0;\r\n    this.bufferSize = 256;\r\n    this.elements = [];\r\n    this.elements.length = this.bufferSize;\r\n    this.stack = new Float32Array( 64 );\r\n\r\n}\r\n\r\nObject.assign( SAPAxis.prototype, {\r\n\r\n    SAPAxis: true,\r\n\r\n    addElements: function ( min, max ) {\r\n\r\n        if(this.numElements+2>=this.bufferSize){\r\n            //this.bufferSize<<=1;\r\n            this.bufferSize*=2;\r\n            var newElements=[];\r\n            var i = this.numElements;\r\n            while(i--){\r\n            //for(var i=0, l=this.numElements; i<l; i++){\r\n                newElements[i] = this.elements[i];\r\n            }\r\n        }\r\n        this.elements[this.numElements++] = min;\r\n        this.elements[this.numElements++] = max;\r\n\r\n    },\r\n\r\n    removeElements: function ( min, max ) {\r\n\r\n        var minIndex=-1;\r\n        var maxIndex=-1;\r\n        for(var i=0, l=this.numElements; i<l; i++){\r\n            var e=this.elements[i];\r\n            if(e==min||e==max){\r\n                if(minIndex==-1){\r\n                    minIndex=i;\r\n                }else{\r\n                    maxIndex=i;\r\n                break;\r\n                }\r\n            }\r\n        }\r\n        for(i = minIndex+1, l = maxIndex; i < l; i++){\r\n            this.elements[i-1] = this.elements[i];\r\n        }\r\n        for(i = maxIndex+1, l = this.numElements; i < l; i++){\r\n            this.elements[i-2] = this.elements[i];\r\n        }\r\n\r\n        this.elements[--this.numElements] = null;\r\n        this.elements[--this.numElements] = null;\r\n\r\n    },\r\n\r\n    sort: function () {\r\n\r\n        var count = 0;\r\n        var threshold = 1;\r\n        while((this.numElements >> threshold) != 0 ) threshold++;\r\n        threshold = threshold * this.numElements >> 2;\r\n        count = 0;\r\n\r\n        var giveup = false;\r\n        var elements = this.elements;\r\n        for( var i = 1, l = this.numElements; i < l; i++){ // try insertion sort\r\n            var tmp=elements[i];\r\n            var pivot=tmp.value;\r\n            var tmp2=elements[i-1];\r\n            if(tmp2.value>pivot){\r\n                var j=i;\r\n                do{\r\n                    elements[j]=tmp2;\r\n                    if(--j==0)break;\r\n                    tmp2=elements[j-1];\r\n                }while(tmp2.value>pivot);\r\n                elements[j]=tmp;\r\n                count+=i-j;\r\n                if(count>threshold){\r\n                    giveup=true; // stop and use quick sort\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        if(!giveup)return;\r\n        count=2;var stack=this.stack;\r\n        stack[0]=0;\r\n        stack[1]=this.numElements-1;\r\n        while(count>0){\r\n            var right=stack[--count];\r\n            var left=stack[--count];\r\n            var diff=right-left;\r\n            if(diff>16){  // quick sort\r\n                //var mid=left+(diff>>1);\r\n                var mid = left + (_Math.floor(diff*0.5));\r\n                tmp = elements[mid];\r\n                elements[mid] = elements[right];\r\n                elements[right] = tmp;\r\n                pivot = tmp.value;\r\n                i = left-1;\r\n                j = right;\r\n                while( true ){\r\n                    var ei;\r\n                    var ej;\r\n                    do{ ei = elements[++i]; } while( ei.value < pivot);\r\n                    do{ ej = elements[--j]; } while( pivot < ej.value && j != left );\r\n                    if( i >= j ) break;\r\n                    elements[i] = ej;\r\n                    elements[j] = ei;\r\n                }\r\n\r\n                elements[right] = elements[i];\r\n                elements[i] = tmp;\r\n                if( i - left > right - i ) {\r\n                    stack[count++] = left;\r\n                    stack[count++] = i - 1;\r\n                    stack[count++] = i + 1;\r\n                    stack[count++] = right;\r\n                }else{\r\n                    stack[count++] = i + 1;\r\n                    stack[count++] = right;\r\n                    stack[count++] = left;\r\n                    stack[count++] = i - 1;\r\n                }\r\n            }else{\r\n                for( i = left + 1; i <= right; i++ ) {\r\n                    tmp = elements[i];\r\n                    pivot = tmp.value;\r\n                    tmp2 = elements[i-1];\r\n                    if( tmp2.value > pivot ) {\r\n                        j = i;\r\n                        do{\r\n                            elements[j] = tmp2;\r\n                            if( --j == 0 ) break;\r\n                            tmp2 = elements[j-1];\r\n                        }while( tmp2.value > pivot );\r\n                        elements[j] = tmp;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        \r\n    },\r\n\r\n    calculateTestCount: function () {\r\n\r\n        var num = 1;\r\n        var sum = 0;\r\n        for(var i = 1, l = this.numElements; i<l; i++){\r\n            if(this.elements[i].max){\r\n                num--;\r\n            }else{\r\n                sum += num;\r\n                num++;\r\n            }\r\n        }\r\n        return sum;\r\n\r\n    }\r\n\r\n});\n\n/**\r\n * An element of proxies.\r\n * @author saharan\r\n */\r\n\r\nfunction SAPElement ( proxy, max ) {\r\n\r\n    // The parent proxy\r\n    this.proxy = proxy;\r\n\t// The pair element.\r\n    this.pair = null;\r\n    // The minimum element on other axis.\r\n    this.min1 = null;\r\n    // The maximum element on other axis.\r\n    this.max1 = null;\r\n    // The minimum element on other axis.\r\n    this.min2 = null;\r\n    // The maximum element on other axis.\r\n    this.max2 = null;\r\n    // Whether the element has maximum value or not.\r\n    this.max = max;\r\n    // The value of the element.\r\n    this.value = 0;\r\n\r\n}\n\n/**\r\n * A proxy for sweep and prune broad-phase.\r\n * @author saharan\r\n * @author lo-th\r\n */\r\n\r\nfunction SAPProxy ( sap, shape ){\r\n\r\n    Proxy.call( this, shape );\r\n    // Type of the axis to which the proxy belongs to. [0:none, 1:dynamic, 2:static]\r\n    this.belongsTo = 0;\r\n    // The maximum elements on each axis.\r\n    this.max = [];\r\n    // The minimum elements on each axis.\r\n    this.min = [];\r\n    \r\n    this.sap = sap;\r\n    this.min[0] = new SAPElement( this, false );\r\n    this.max[0] = new SAPElement( this, true );\r\n    this.min[1] = new SAPElement( this, false );\r\n    this.max[1] = new SAPElement( this, true );\r\n    this.min[2] = new SAPElement( this, false );\r\n    this.max[2] = new SAPElement( this, true );\r\n    this.max[0].pair = this.min[0];\r\n    this.max[1].pair = this.min[1];\r\n    this.max[2].pair = this.min[2];\r\n    this.min[0].min1 = this.min[1];\r\n    this.min[0].max1 = this.max[1];\r\n    this.min[0].min2 = this.min[2];\r\n    this.min[0].max2 = this.max[2];\r\n    this.min[1].min1 = this.min[0];\r\n    this.min[1].max1 = this.max[0];\r\n    this.min[1].min2 = this.min[2];\r\n    this.min[1].max2 = this.max[2];\r\n    this.min[2].min1 = this.min[0];\r\n    this.min[2].max1 = this.max[0];\r\n    this.min[2].min2 = this.min[1];\r\n    this.min[2].max2 = this.max[1];\r\n\r\n}\r\n\r\nSAPProxy.prototype = Object.assign( Object.create( Proxy.prototype ), {\r\n\r\n    constructor: SAPProxy,\r\n\r\n\r\n    // Returns whether the proxy is dynamic or not.\r\n    isDynamic: function () {\r\n\r\n        var body = this.shape.parent;\r\n        return body.isDynamic && !body.sleeping;\r\n\r\n    },\r\n\r\n    update: function () {\r\n\r\n        var te = this.aabb.elements;\r\n        this.min[0].value = te[0];\r\n        this.min[1].value = te[1];\r\n        this.min[2].value = te[2];\r\n        this.max[0].value = te[3];\r\n        this.max[1].value = te[4];\r\n        this.max[2].value = te[5];\r\n\r\n        if( this.belongsTo == 1 && !this.isDynamic() || this.belongsTo == 2 && this.isDynamic() ){\r\n            this.sap.removeProxy(this);\r\n            this.sap.addProxy(this);\r\n        }\r\n\r\n    }\r\n\r\n});\n\n/**\r\n * A broad-phase collision detection algorithm using sweep and prune.\r\n * @author saharan\r\n * @author lo-th\r\n */\r\n\r\nfunction SAPBroadPhase () {\r\n\r\n    BroadPhase.call( this);\r\n    this.types = BR_SWEEP_AND_PRUNE;\r\n\r\n    this.numElementsD = 0;\r\n    this.numElementsS = 0;\r\n    // dynamic proxies\r\n    this.axesD = [\r\n       new SAPAxis(),\r\n       new SAPAxis(),\r\n       new SAPAxis()\r\n    ];\r\n    // static or sleeping proxies\r\n    this.axesS = [\r\n       new SAPAxis(),\r\n       new SAPAxis(),\r\n       new SAPAxis()\r\n    ];\r\n\r\n    this.index1 = 0;\r\n    this.index2 = 1;\r\n\r\n}\r\n\r\nSAPBroadPhase.prototype = Object.assign( Object.create( BroadPhase.prototype ), {\r\n\r\n    constructor: SAPBroadPhase,\r\n\r\n    createProxy: function ( shape ) {\r\n\r\n        return new SAPProxy( this, shape );\r\n\r\n    },\r\n\r\n    addProxy: function ( proxy ) {\r\n\r\n        var p = proxy;\r\n        if(p.isDynamic()){\r\n            this.axesD[0].addElements( p.min[0], p.max[0] );\r\n            this.axesD[1].addElements( p.min[1], p.max[1] );\r\n            this.axesD[2].addElements( p.min[2], p.max[2] );\r\n            p.belongsTo = 1;\r\n            this.numElementsD += 2;\r\n        } else {\r\n            this.axesS[0].addElements( p.min[0], p.max[0] );\r\n            this.axesS[1].addElements( p.min[1], p.max[1] );\r\n            this.axesS[2].addElements( p.min[2], p.max[2] );\r\n            p.belongsTo = 2;\r\n            this.numElementsS += 2;\r\n        }\r\n\r\n    },\r\n\r\n    removeProxy: function ( proxy ) {\r\n\r\n        var p = proxy;\r\n        if ( p.belongsTo == 0 ) return;\r\n\r\n        /*else if ( p.belongsTo == 1 ) {\r\n            this.axesD[0].removeElements( p.min[0], p.max[0] );\r\n            this.axesD[1].removeElements( p.min[1], p.max[1] );\r\n            this.axesD[2].removeElements( p.min[2], p.max[2] );\r\n            this.numElementsD -= 2;\r\n        } else if ( p.belongsTo == 2 ) {\r\n            this.axesS[0].removeElements( p.min[0], p.max[0] );\r\n            this.axesS[1].removeElements( p.min[1], p.max[1] );\r\n            this.axesS[2].removeElements( p.min[2], p.max[2] );\r\n            this.numElementsS -= 2;\r\n        }*/\r\n\r\n        switch( p.belongsTo ){\r\n            case 1:\r\n            this.axesD[0].removeElements( p.min[0], p.max[0] );\r\n            this.axesD[1].removeElements( p.min[1], p.max[1] );\r\n            this.axesD[2].removeElements( p.min[2], p.max[2] );\r\n            this.numElementsD -= 2;\r\n            break;\r\n            case 2:\r\n            this.axesS[0].removeElements( p.min[0], p.max[0] );\r\n            this.axesS[1].removeElements( p.min[1], p.max[1] );\r\n            this.axesS[2].removeElements( p.min[2], p.max[2] );\r\n            this.numElementsS -= 2;\r\n            break;\r\n        }\r\n\r\n        p.belongsTo = 0;\r\n\r\n    },\r\n\r\n    collectPairs: function () {\r\n\r\n        if( this.numElementsD == 0 ) return;\r\n\r\n        var axis1 = this.axesD[this.index1];\r\n        var axis2 = this.axesD[this.index2];\r\n\r\n        axis1.sort();\r\n        axis2.sort();\r\n\r\n        var count1 = axis1.calculateTestCount();\r\n        var count2 = axis2.calculateTestCount();\r\n        var elementsD;\r\n        var elementsS;\r\n        if( count1 <= count2 ){// select the best axis\r\n            axis2 = this.axesS[this.index1];\r\n            axis2.sort();\r\n            elementsD = axis1.elements;\r\n            elementsS = axis2.elements;\r\n        }else{\r\n            axis1 = this.axesS[this.index2];\r\n            axis1.sort();\r\n            elementsD = axis2.elements;\r\n            elementsS = axis1.elements;\r\n            this.index1 ^= this.index2;\r\n            this.index2 ^= this.index1;\r\n            this.index1 ^= this.index2;\r\n        }\r\n        var activeD;\r\n        var activeS;\r\n        var p = 0;\r\n        var q = 0;\r\n        while( p < this.numElementsD ){\r\n            var e1;\r\n            var dyn;\r\n            if (q == this.numElementsS ){\r\n                e1 = elementsD[p];\r\n                dyn = true;\r\n                p++;\r\n            }else{\r\n                var d = elementsD[p];\r\n                var s = elementsS[q];\r\n                if( d.value < s.value ){\r\n                    e1 = d;\r\n                    dyn = true;\r\n                    p++;\r\n                }else{\r\n                    e1 = s;\r\n                    dyn = false;\r\n                    q++;\r\n                }\r\n            }\r\n            if( !e1.max ){\r\n                var s1 = e1.proxy.shape;\r\n                var min1 = e1.min1.value;\r\n                var max1 = e1.max1.value;\r\n                var min2 = e1.min2.value;\r\n                var max2 = e1.max2.value;\r\n\r\n                for( var e2 = activeD; e2 != null; e2 = e2.pair ) {// test for dynamic\r\n                    var s2 = e2.proxy.shape;\r\n\r\n                    this.numPairChecks++;\r\n                    if( min1 > e2.max1.value || max1 < e2.min1.value || min2 > e2.max2.value || max2 < e2.min2.value || !this.isAvailablePair( s1, s2 ) ) continue;\r\n                    this.addPair( s1, s2 );\r\n                }\r\n                if( dyn ){\r\n                    for( e2 = activeS; e2 != null; e2 = e2.pair ) {// test for static\r\n                        s2 = e2.proxy.shape;\r\n\r\n                        this.numPairChecks++;\r\n\r\n                        if( min1 > e2.max1.value || max1 < e2.min1.value|| min2 > e2.max2.value || max2 < e2.min2.value || !this.isAvailablePair(s1,s2) ) continue;\r\n                        this.addPair( s1, s2 );\r\n                    }\r\n                    e1.pair = activeD;\r\n                    activeD = e1;\r\n                }else{\r\n                    e1.pair = activeS;\r\n                    activeS = e1;\r\n                }\r\n            }else{\r\n                var min = e1.pair;\r\n                if( dyn ){\r\n                    if( min == activeD ){\r\n                        activeD = activeD.pair;\r\n                        continue;\r\n                    }else{\r\n                        e1 = activeD;\r\n                    }\r\n                }else{\r\n                    if( min == activeS ){\r\n                        activeS = activeS.pair;\r\n                        continue;\r\n                    }else{\r\n                        e1 = activeS;\r\n                    }\r\n                }\r\n                do{\r\n                    e2 = e1.pair;\r\n                    if( e2 == min ){\r\n                        e1.pair = e2.pair;\r\n                        break;\r\n                    }\r\n                    e1 = e2;\r\n                }while( e1 != null );\r\n            }\r\n        }\r\n        this.index2 = (this.index1|this.index2)^3;\r\n        \r\n    }\r\n\r\n});\n\n/**\r\n* A node of the dynamic bounding volume tree.\r\n* @author saharan\r\n*/\r\n\r\nfunction DBVTNode(){\r\n    \r\n\t// The first child node of this node.\r\n    this.child1 = null;\r\n    // The second child node of this node.\r\n    this.child2 = null;\r\n    //  The parent node of this tree.\r\n    this.parent = null;\r\n    // The proxy of this node. This has no value if this node is not leaf.\r\n    this.proxy = null;\r\n    // The maximum distance from leaf nodes.\r\n    this.height = 0;\r\n    // The AABB of this node.\r\n    this.aabb = new AABB();\r\n\r\n}\n\n/**\r\n * A dynamic bounding volume tree for the broad-phase algorithm.\r\n *\r\n * @author saharan\r\n * @author lo-th\r\n */\r\n\r\nfunction DBVT(){\r\n\r\n    // The root of the tree.\r\n    this.root = null;\r\n    this.freeNodes = [];\r\n    this.freeNodes.length = 16384;\r\n    this.numFreeNodes = 0;\r\n    this.aabb = new AABB();\r\n\r\n}\r\n\r\nObject.assign( DBVT.prototype, {\r\n\r\n    DBVT: true,\r\n\r\n    moveLeaf: function( leaf ) {\r\n\r\n        this.deleteLeaf( leaf );\r\n        this.insertLeaf( leaf );\r\n    \r\n    },\r\n\r\n    insertLeaf: function ( leaf ) {\r\n\r\n        if(this.root == null){\r\n            this.root = leaf;\r\n            return;\r\n        }\r\n        var lb = leaf.aabb;\r\n        var sibling = this.root;\r\n        var oldArea;\r\n        var newArea;\r\n        while(sibling.proxy == null){ // descend the node to search the best pair\r\n            var c1 = sibling.child1;\r\n            var c2 = sibling.child2;\r\n            var b = sibling.aabb;\r\n            var c1b = c1.aabb;\r\n            var c2b = c2.aabb;\r\n            oldArea = b.surfaceArea();\r\n            this.aabb.combine(lb,b);\r\n            newArea = this.aabb.surfaceArea();\r\n            var creatingCost = newArea*2;\r\n            var incrementalCost = (newArea-oldArea)*2; // cost of creating a new pair with the node\r\n            var discendingCost1 = incrementalCost;\r\n            this.aabb.combine(lb,c1b);\r\n            if(c1.proxy!=null){\r\n                // leaf cost = area(combined aabb)\r\n                discendingCost1+=this.aabb.surfaceArea();\r\n            }else{\r\n                // node cost = area(combined aabb) - area(old aabb)\r\n                discendingCost1+=this.aabb.surfaceArea()-c1b.surfaceArea();\r\n            }\r\n            var discendingCost2=incrementalCost;\r\n            this.aabb.combine(lb,c2b);\r\n            if(c2.proxy!=null){\r\n                // leaf cost = area(combined aabb)\r\n                discendingCost2+=this.aabb.surfaceArea();\r\n            }else{\r\n                // node cost = area(combined aabb) - area(old aabb)\r\n                discendingCost2+=this.aabb.surfaceArea()-c2b.surfaceArea();\r\n            }\r\n            if(discendingCost1<discendingCost2){\r\n                if(creatingCost<discendingCost1){\r\n                    break;// stop descending\r\n                }else{\r\n                    sibling = c1;// descend into first child\r\n                }\r\n            }else{\r\n                if(creatingCost<discendingCost2){\r\n                    break;// stop descending\r\n                }else{\r\n                    sibling = c2;// descend into second child\r\n                }\r\n            }\r\n        }\r\n        var oldParent = sibling.parent;\r\n        var newParent;\r\n        if(this.numFreeNodes>0){\r\n            newParent = this.freeNodes[--this.numFreeNodes];\r\n        }else{\r\n            newParent = new DBVTNode();\r\n        }\r\n\r\n        newParent.parent = oldParent;\r\n        newParent.child1 = leaf;\r\n        newParent.child2 = sibling;\r\n        newParent.aabb.combine(leaf.aabb,sibling.aabb);\r\n        newParent.height = sibling.height+1;\r\n        sibling.parent = newParent;\r\n        leaf.parent = newParent;\r\n        if(sibling == this.root){\r\n            // replace root\r\n            this.root = newParent;\r\n        }else{\r\n            // replace child\r\n            if(oldParent.child1 == sibling){\r\n                oldParent.child1 = newParent;\r\n            }else{\r\n                oldParent.child2 = newParent;\r\n            }\r\n        }\r\n        // update whole tree\r\n        do{\r\n            newParent = this.balance(newParent);\r\n            this.fix(newParent);\r\n            newParent = newParent.parent;\r\n        }while(newParent != null);\r\n    },\r\n\r\n    getBalance: function( node ) {\r\n\r\n        if(node.proxy!=null)return 0;\r\n        return node.child1.height-node.child2.height;\r\n\r\n    },\r\n\r\n    deleteLeaf: function( leaf ) {\r\n\r\n        if(leaf == this.root){\r\n            this.root = null;\r\n            return;\r\n        }\r\n        var parent = leaf.parent;\r\n        var sibling;\r\n        if(parent.child1==leaf){\r\n            sibling=parent.child2;\r\n        }else{\r\n            sibling=parent.child1;\r\n        }\r\n        if(parent==this.root){\r\n            this.root=sibling;\r\n            sibling.parent=null;\r\n            return;\r\n        }\r\n        var grandParent = parent.parent;\r\n        sibling.parent = grandParent;\r\n        if(grandParent.child1 == parent ) {\r\n            grandParent.child1 = sibling;\r\n        }else{\r\n            grandParent.child2 = sibling;\r\n        }\r\n        if(this.numFreeNodes<16384){\r\n            this.freeNodes[this.numFreeNodes++] = parent;\r\n        }\r\n        do{\r\n            grandParent = this.balance(grandParent);\r\n            this.fix(grandParent);\r\n            grandParent = grandParent.parent;\r\n        }while( grandParent != null );\r\n    \r\n    },\r\n\r\n    balance: function( node ) {\r\n\r\n        var nh = node.height;\r\n        if(nh<2){\r\n            return node;\r\n        }\r\n        var p = node.parent;\r\n        var l = node.child1;\r\n        var r = node.child2;\r\n        var lh = l.height;\r\n        var rh = r.height;\r\n        var balance = lh-rh;\r\n        var t;// for bit operation\r\n\r\n        //          [ N ]\r\n        //         /     \\\r\n        //    [ L ]       [ R ]\r\n        //     / \\         / \\\r\n        // [L-L] [L-R] [R-L] [R-R]\r\n\r\n        // Is the tree balanced?\r\n        if(balance>1){\r\n            var ll = l.child1;\r\n            var lr = l.child2;\r\n            var llh = ll.height;\r\n            var lrh = lr.height;\r\n\r\n            // Is L-L higher than L-R?\r\n            if(llh>lrh){\r\n                // set N to L-R\r\n                l.child2 = node;\r\n                node.parent = l;\r\n\r\n                //          [ L ]\r\n                //         /     \\\r\n                //    [L-L]       [ N ]\r\n                //     / \\         / \\\r\n                // [...] [...] [ L ] [ R ]\r\n                \r\n                // set L-R\r\n                node.child1 = lr;\r\n                lr.parent = node;\r\n\r\n                //          [ L ]\r\n                //         /     \\\r\n                //    [L-L]       [ N ]\r\n                //     / \\         / \\\r\n                // [...] [...] [L-R] [ R ]\r\n                \r\n                // fix bounds and heights\r\n                node.aabb.combine( lr.aabb, r.aabb );\r\n                t = lrh-rh;\r\n                node.height=lrh-(t&t>>31)+1;\r\n                l.aabb.combine(ll.aabb,node.aabb);\r\n                t=llh-nh;\r\n                l.height=llh-(t&t>>31)+1;\r\n            }else{\r\n                // set N to L-L\r\n                l.child1=node;\r\n                node.parent=l;\r\n\r\n                //          [ L ]\r\n                //         /     \\\r\n                //    [ N ]       [L-R]\r\n                //     / \\         / \\\r\n                // [ L ] [ R ] [...] [...]\r\n                \r\n                // set L-L\r\n                node.child1 = ll;\r\n                ll.parent = node;\r\n\r\n                //          [ L ]\r\n                //         /     \\\r\n                //    [ N ]       [L-R]\r\n                //     / \\         / \\\r\n                // [L-L] [ R ] [...] [...]\r\n                \r\n                // fix bounds and heights\r\n                node.aabb.combine(ll.aabb,r.aabb);\r\n                t = llh - rh;\r\n                node.height=llh-(t&t>>31)+1;\r\n\r\n                l.aabb.combine(node.aabb,lr.aabb);\r\n                t=nh-lrh;\r\n                l.height=nh-(t&t>>31)+1;\r\n            }\r\n            // set new parent of L\r\n            if(p!=null){\r\n                if(p.child1==node){\r\n                    p.child1=l;\r\n                }else{\r\n                    p.child2=l;\r\n                }\r\n            }else{\r\n                this.root=l;\r\n            }\r\n            l.parent=p;\r\n            return l;\r\n        }else if(balance<-1){\r\n            var rl = r.child1;\r\n            var rr = r.child2;\r\n            var rlh = rl.height;\r\n            var rrh = rr.height;\r\n\r\n            // Is R-L higher than R-R?\r\n            if( rlh > rrh ) {\r\n                // set N to R-R\r\n                r.child2 = node;\r\n                node.parent = r;\r\n\r\n                //          [ R ]\r\n                //         /     \\\r\n                //    [R-L]       [ N ]\r\n                //     / \\         / \\\r\n                // [...] [...] [ L ] [ R ]\r\n                \r\n                // set R-R\r\n                node.child2 = rr;\r\n                rr.parent = node;\r\n\r\n                //          [ R ]\r\n                //         /     \\\r\n                //    [R-L]       [ N ]\r\n                //     / \\         / \\\r\n                // [...] [...] [ L ] [R-R]\r\n                \r\n                // fix bounds and heights\r\n                node.aabb.combine(l.aabb,rr.aabb);\r\n                t = lh-rrh;\r\n                node.height = lh-(t&t>>31)+1;\r\n                r.aabb.combine(rl.aabb,node.aabb);\r\n                t = rlh-nh;\r\n                r.height = rlh-(t&t>>31)+1;\r\n            }else{\r\n                // set N to R-L\r\n                r.child1 = node;\r\n                node.parent = r;\r\n                //          [ R ]\r\n                //         /     \\\r\n                //    [ N ]       [R-R]\r\n                //     / \\         / \\\r\n                // [ L ] [ R ] [...] [...]\r\n                \r\n                // set R-L\r\n                node.child2 = rl;\r\n                rl.parent = node;\r\n\r\n                //          [ R ]\r\n                //         /     \\\r\n                //    [ N ]       [R-R]\r\n                //     / \\         / \\\r\n                // [ L ] [R-L] [...] [...]\r\n                \r\n                // fix bounds and heights\r\n                node.aabb.combine(l.aabb,rl.aabb);\r\n                t=lh-rlh;\r\n                node.height=lh-(t&t>>31)+1;\r\n                r.aabb.combine(node.aabb,rr.aabb);\r\n                t=nh-rrh;\r\n                r.height=nh-(t&t>>31)+1;\r\n            }\r\n            // set new parent of R\r\n            if(p!=null){\r\n                if(p.child1==node){\r\n                    p.child1=r;\r\n                }else{\r\n                    p.child2=r;\r\n                }\r\n            }else{\r\n                this.root=r;\r\n            }\r\n            r.parent=p;\r\n            return r;\r\n        }\r\n        return node;\r\n    },\r\n\r\n    fix: function ( node ) {\r\n\r\n        var c1 = node.child1;\r\n        var c2 = node.child2;\r\n        node.aabb.combine( c1.aabb, c2.aabb );\r\n        node.height = c1.height < c2.height ? c2.height+1 : c1.height+1; \r\n\r\n    }\r\n    \r\n});\n\n/**\r\n* A proxy for dynamic bounding volume tree broad-phase.\r\n* @author saharan\r\n*/\r\n\r\nfunction DBVTProxy ( shape ) {\r\n\r\n    Proxy.call( this, shape);\r\n    // The leaf of the proxy.\r\n    this.leaf = new DBVTNode();\r\n    this.leaf.proxy = this;\r\n\r\n}\r\n\r\nDBVTProxy.prototype = Object.assign( Object.create( Proxy.prototype ), {\r\n\r\n    constructor: DBVTProxy,\r\n\r\n    update: function () {\r\n\r\n    }\r\n\r\n});\n\n/**\r\n * A broad-phase algorithm using dynamic bounding volume tree.\r\n *\r\n * @author saharan\r\n * @author lo-th\r\n */\r\n\r\nfunction DBVTBroadPhase(){\r\n\r\n    BroadPhase.call( this );\r\n\r\n    this.types = BR_BOUNDING_VOLUME_TREE;\r\n\r\n    this.tree = new DBVT();\r\n    this.stack = [];\r\n    this.leaves = [];\r\n    this.numLeaves = 0;\r\n\r\n}\r\n\r\nDBVTBroadPhase.prototype = Object.assign( Object.create( BroadPhase.prototype ), {\r\n\r\n    constructor: DBVTBroadPhase,\r\n\r\n    createProxy: function ( shape ) {\r\n\r\n        return new DBVTProxy( shape );\r\n\r\n    },\r\n\r\n    addProxy: function ( proxy ) {\r\n\r\n        this.tree.insertLeaf( proxy.leaf );\r\n        this.leaves.push( proxy.leaf );\r\n        this.numLeaves++;\r\n\r\n    },\r\n\r\n    removeProxy: function ( proxy ) {\r\n\r\n        this.tree.deleteLeaf( proxy.leaf );\r\n        var n = this.leaves.indexOf( proxy.leaf );\r\n        if ( n > -1 ) {\r\n            this.leaves.splice(n,1);\r\n            this.numLeaves--;\r\n        }\r\n\r\n    },\r\n\r\n    collectPairs: function () {\r\n\r\n        if ( this.numLeaves < 2 ) return;\r\n\r\n        var leaf, margin = 0.1, i = this.numLeaves;\r\n\r\n        while(i--){\r\n\r\n            leaf = this.leaves[i];\r\n\r\n            if ( leaf.proxy.aabb.intersectTestTwo( leaf.aabb ) ){\r\n\r\n                leaf.aabb.copy( leaf.proxy.aabb, margin );\r\n                this.tree.deleteLeaf( leaf );\r\n                this.tree.insertLeaf( leaf );\r\n                this.collide( leaf, this.tree.root );\r\n\r\n            }\r\n        }\r\n\r\n    },\r\n\r\n    collide: function ( node1, node2 ) {\r\n\r\n        var stackCount = 2;\r\n        var s1, s2, n1, n2, l1, l2;\r\n        this.stack[0] = node1;\r\n        this.stack[1] = node2;\r\n\r\n        while( stackCount > 0 ){\r\n\r\n            n1 = this.stack[--stackCount];\r\n            n2 = this.stack[--stackCount];\r\n            l1 = n1.proxy != null;\r\n            l2 = n2.proxy != null;\r\n            \r\n            this.numPairChecks++;\r\n\r\n            if( l1 && l2 ){\r\n                s1 = n1.proxy.shape;\r\n                s2 = n2.proxy.shape;\r\n                if ( s1 == s2 || s1.aabb.intersectTest( s2.aabb ) || !this.isAvailablePair( s1, s2 ) ) continue;\r\n\r\n                this.addPair(s1,s2);\r\n\r\n            }else{\r\n\r\n                if ( n1.aabb.intersectTest( n2.aabb ) ) continue;\r\n                \r\n                /*if(stackCount+4>=this.maxStack){// expand the stack\r\n                    //this.maxStack<<=1;\r\n                    this.maxStack*=2;\r\n                    var newStack = [];// vector\r\n                    newStack.length = this.maxStack;\r\n                    for(var i=0;i<stackCount;i++){\r\n                        newStack[i] = this.stack[i];\r\n                    }\r\n                    this.stack = newStack;\r\n                }*/\r\n\r\n                if( l2 || !l1 && (n1.aabb.surfaceArea() > n2.aabb.surfaceArea()) ){\r\n                    this.stack[stackCount++] = n1.child1;\r\n                    this.stack[stackCount++] = n2;\r\n                    this.stack[stackCount++] = n1.child2;\r\n                    this.stack[stackCount++] = n2;\r\n                }else{\r\n                    this.stack[stackCount++] = n1;\r\n                    this.stack[stackCount++] = n2.child1;\r\n                    this.stack[stackCount++] = n1;\r\n                    this.stack[stackCount++] = n2.child2;\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n});\n\nfunction CollisionDetector (){\r\n\r\n    this.flip = false;\r\n\r\n}\r\n\r\nObject.assign( CollisionDetector.prototype, {\r\n\r\n    CollisionDetector: true,\r\n\r\n    detectCollision: function ( shape1, shape2, manifold ) {\r\n\r\n        printError(\"CollisionDetector\", \"Inheritance error.\");\r\n\r\n    }\r\n\r\n} );\n\n/**\r\n * A collision detector which detects collisions between two boxes.\r\n * @author saharan\r\n */\r\nfunction BoxBoxCollisionDetector() {\r\n\r\n    CollisionDetector.call( this );\r\n    this.clipVertices1 = new Float32Array( 24 ); // 8 vertices x,y,z\r\n    this.clipVertices2 = new Float32Array( 24 );\r\n    this.used = new Float32Array( 8 );\r\n    \r\n    this.INF = 1/0;\r\n\r\n}\r\n\r\nBoxBoxCollisionDetector.prototype = Object.assign( Object.create( CollisionDetector.prototype ), {\r\n\r\n    constructor: BoxBoxCollisionDetector,\r\n\r\n    detectCollision: function ( shape1, shape2, manifold ) {\r\n        // What you are doing \r\n        //  I to prepare a separate axis of the fifteen \r\n        //-Six in each of three normal vectors of the xyz direction of the box both \r\n        //  Remaining nine 3x3 a vector perpendicular to the side of the box 2 and the side of the box 1 \r\n        //  Calculate the depth to the separation axis \r\n\r\n        // Calculates the distance using the inner product and put the amount of embedment \r\n        //  However a vertical separation axis and side to weight a little to avoid vibration \r\n        // And end when there is a separate axis that is remote even one \r\n        //  I look for separation axis with little to dent most \r\n        // Men and if separation axis of the first six - end collision \r\n        // Heng If it separate axis of nine other - side collision \r\n        // Heng - case of a side collision \r\n        //  Find points of two sides on which you made the separation axis \r\n\r\n        // Calculates the point of closest approach of a straight line consisting of separate axis points obtained, and the collision point \r\n        //-Surface - the case of the plane crash \r\n        //-Box A, box B and the other a box of better made a separate axis \r\n        //  The surface A and the plane that made the separation axis of the box A, and B to the surface the face of the box B close in the opposite direction to the most isolated axis \r\n\r\n        // When viewed from the front surface A, and the cut part exceeding the area of the surface A is a surface B \r\n        //-Plane B becomes the 3-8 triangle, I a candidate for the collision point the vertex of surface B \r\n        //  If more than one candidate 5 exists, scraping up to four \r\n\r\n        // For potential collision points of all, to examine the distance between the surface A \r\n        //  If you were on the inside surface of A, and the collision point\r\n\r\n        var b1;\r\n        var b2;\r\n        if(shape1.id<shape2.id){\r\n            b1=(shape1);\r\n            b2=(shape2);\r\n        }else{\r\n            b1=(shape2);\r\n            b2=(shape1);\r\n        }\r\n        var V1 = b1.elements;\r\n        var V2 = b2.elements;\r\n\r\n        var D1 = b1.dimentions;\r\n        var D2 = b2.dimentions;\r\n\r\n        var p1=b1.position;\r\n        var p2=b2.position;\r\n        var p1x=p1.x;\r\n        var p1y=p1.y;\r\n        var p1z=p1.z;\r\n        var p2x=p2.x;\r\n        var p2y=p2.y;\r\n        var p2z=p2.z;\r\n        // diff\r\n        var dx=p2x-p1x;\r\n        var dy=p2y-p1y;\r\n        var dz=p2z-p1z;\r\n        // distance\r\n        var w1=b1.halfWidth;\r\n        var h1=b1.halfHeight;\r\n        var d1=b1.halfDepth;\r\n        var w2=b2.halfWidth;\r\n        var h2=b2.halfHeight;\r\n        var d2=b2.halfDepth;\r\n        // direction\r\n\r\n        // ----------------------------\r\n        // 15 separating axes\r\n        // 1~6: face\r\n        // 7~f: edge\r\n        // http://marupeke296.com/COL_3D_No13_OBBvsOBB.html\r\n        // ----------------------------\r\n        \r\n        var a1x=D1[0];\r\n        var a1y=D1[1];\r\n        var a1z=D1[2];\r\n        var a2x=D1[3];\r\n        var a2y=D1[4];\r\n        var a2z=D1[5];\r\n        var a3x=D1[6];\r\n        var a3y=D1[7];\r\n        var a3z=D1[8];\r\n        var d1x=D1[9];\r\n        var d1y=D1[10];\r\n        var d1z=D1[11];\r\n        var d2x=D1[12];\r\n        var d2y=D1[13];\r\n        var d2z=D1[14];\r\n        var d3x=D1[15];\r\n        var d3y=D1[16];\r\n        var d3z=D1[17];\r\n\r\n        var a4x=D2[0];\r\n        var a4y=D2[1];\r\n        var a4z=D2[2];\r\n        var a5x=D2[3];\r\n        var a5y=D2[4];\r\n        var a5z=D2[5];\r\n        var a6x=D2[6];\r\n        var a6y=D2[7];\r\n        var a6z=D2[8];\r\n        var d4x=D2[9];\r\n        var d4y=D2[10];\r\n        var d4z=D2[11];\r\n        var d5x=D2[12];\r\n        var d5y=D2[13];\r\n        var d5z=D2[14];\r\n        var d6x=D2[15];\r\n        var d6y=D2[16];\r\n        var d6z=D2[17];\r\n        \r\n        var a7x=a1y*a4z-a1z*a4y;\r\n        var a7y=a1z*a4x-a1x*a4z;\r\n        var a7z=a1x*a4y-a1y*a4x;\r\n        var a8x=a1y*a5z-a1z*a5y;\r\n        var a8y=a1z*a5x-a1x*a5z;\r\n        var a8z=a1x*a5y-a1y*a5x;\r\n        var a9x=a1y*a6z-a1z*a6y;\r\n        var a9y=a1z*a6x-a1x*a6z;\r\n        var a9z=a1x*a6y-a1y*a6x;\r\n        var aax=a2y*a4z-a2z*a4y;\r\n        var aay=a2z*a4x-a2x*a4z;\r\n        var aaz=a2x*a4y-a2y*a4x;\r\n        var abx=a2y*a5z-a2z*a5y;\r\n        var aby=a2z*a5x-a2x*a5z;\r\n        var abz=a2x*a5y-a2y*a5x;\r\n        var acx=a2y*a6z-a2z*a6y;\r\n        var acy=a2z*a6x-a2x*a6z;\r\n        var acz=a2x*a6y-a2y*a6x;\r\n        var adx=a3y*a4z-a3z*a4y;\r\n        var ady=a3z*a4x-a3x*a4z;\r\n        var adz=a3x*a4y-a3y*a4x;\r\n        var aex=a3y*a5z-a3z*a5y;\r\n        var aey=a3z*a5x-a3x*a5z;\r\n        var aez=a3x*a5y-a3y*a5x;\r\n        var afx=a3y*a6z-a3z*a6y;\r\n        var afy=a3z*a6x-a3x*a6z;\r\n        var afz=a3x*a6y-a3y*a6x;\r\n        // right or left flags\r\n        var right1;\r\n        var right2;\r\n        var right3;\r\n        var right4;\r\n        var right5;\r\n        var right6;\r\n        var right7;\r\n        var right8;\r\n        var right9;\r\n        var righta;\r\n        var rightb;\r\n        var rightc;\r\n        var rightd;\r\n        var righte;\r\n        var rightf;\r\n        // overlapping distances\r\n        var overlap1;\r\n        var overlap2;\r\n        var overlap3;\r\n        var overlap4;\r\n        var overlap5;\r\n        var overlap6;\r\n        var overlap7;\r\n        var overlap8;\r\n        var overlap9;\r\n        var overlapa;\r\n        var overlapb;\r\n        var overlapc;\r\n        var overlapd;\r\n        var overlape;\r\n        var overlapf;\r\n        // invalid flags\r\n        var invalid7=false;\r\n        var invalid8=false;\r\n        var invalid9=false;\r\n        var invalida=false;\r\n        var invalidb=false;\r\n        var invalidc=false;\r\n        var invalidd=false;\r\n        var invalide=false;\r\n        var invalidf=false;\r\n        // temporary variables\r\n        var len;\r\n        var len1;\r\n        var len2;\r\n        var dot1;\r\n        var dot2;\r\n        var dot3;\r\n        // try axis 1\r\n        len=a1x*dx+a1y*dy+a1z*dz;\r\n        right1=len>0;\r\n        if(!right1)len=-len;\r\n        len1=w1;\r\n        dot1=a1x*a4x+a1y*a4y+a1z*a4z;\r\n        dot2=a1x*a5x+a1y*a5y+a1z*a5z;\r\n        dot3=a1x*a6x+a1y*a6y+a1z*a6z;\r\n        if(dot1<0)dot1=-dot1;\r\n        if(dot2<0)dot2=-dot2;\r\n        if(dot3<0)dot3=-dot3;\r\n        len2=dot1*w2+dot2*h2+dot3*d2;\r\n        overlap1=len-len1-len2;\r\n        if(overlap1>0)return;\r\n        // try axis 2\r\n        len=a2x*dx+a2y*dy+a2z*dz;\r\n        right2=len>0;\r\n        if(!right2)len=-len;\r\n        len1=h1;\r\n        dot1=a2x*a4x+a2y*a4y+a2z*a4z;\r\n        dot2=a2x*a5x+a2y*a5y+a2z*a5z;\r\n        dot3=a2x*a6x+a2y*a6y+a2z*a6z;\r\n        if(dot1<0)dot1=-dot1;\r\n        if(dot2<0)dot2=-dot2;\r\n        if(dot3<0)dot3=-dot3;\r\n        len2=dot1*w2+dot2*h2+dot3*d2;\r\n        overlap2=len-len1-len2;\r\n        if(overlap2>0)return;\r\n        // try axis 3\r\n        len=a3x*dx+a3y*dy+a3z*dz;\r\n        right3=len>0;\r\n        if(!right3)len=-len;\r\n        len1=d1;\r\n        dot1=a3x*a4x+a3y*a4y+a3z*a4z;\r\n        dot2=a3x*a5x+a3y*a5y+a3z*a5z;\r\n        dot3=a3x*a6x+a3y*a6y+a3z*a6z;\r\n        if(dot1<0)dot1=-dot1;\r\n        if(dot2<0)dot2=-dot2;\r\n        if(dot3<0)dot3=-dot3;\r\n        len2=dot1*w2+dot2*h2+dot3*d2;\r\n        overlap3=len-len1-len2;\r\n        if(overlap3>0)return;\r\n        // try axis 4\r\n        len=a4x*dx+a4y*dy+a4z*dz;\r\n        right4=len>0;\r\n        if(!right4)len=-len;\r\n        dot1=a4x*a1x+a4y*a1y+a4z*a1z;\r\n        dot2=a4x*a2x+a4y*a2y+a4z*a2z;\r\n        dot3=a4x*a3x+a4y*a3y+a4z*a3z;\r\n        if(dot1<0)dot1=-dot1;\r\n        if(dot2<0)dot2=-dot2;\r\n        if(dot3<0)dot3=-dot3;\r\n        len1=dot1*w1+dot2*h1+dot3*d1;\r\n        len2=w2;\r\n        overlap4=(len-len1-len2)*1.0;\r\n        if(overlap4>0)return;\r\n        // try axis 5\r\n        len=a5x*dx+a5y*dy+a5z*dz;\r\n        right5=len>0;\r\n        if(!right5)len=-len;\r\n        dot1=a5x*a1x+a5y*a1y+a5z*a1z;\r\n        dot2=a5x*a2x+a5y*a2y+a5z*a2z;\r\n        dot3=a5x*a3x+a5y*a3y+a5z*a3z;\r\n        if(dot1<0)dot1=-dot1;\r\n        if(dot2<0)dot2=-dot2;\r\n        if(dot3<0)dot3=-dot3;\r\n        len1=dot1*w1+dot2*h1+dot3*d1;\r\n        len2=h2;\r\n        overlap5=(len-len1-len2)*1.0;\r\n        if(overlap5>0)return;\r\n        // try axis 6\r\n        len=a6x*dx+a6y*dy+a6z*dz;\r\n        right6=len>0;\r\n        if(!right6)len=-len;\r\n        dot1=a6x*a1x+a6y*a1y+a6z*a1z;\r\n        dot2=a6x*a2x+a6y*a2y+a6z*a2z;\r\n        dot3=a6x*a3x+a6y*a3y+a6z*a3z;\r\n        if(dot1<0)dot1=-dot1;\r\n        if(dot2<0)dot2=-dot2;\r\n        if(dot3<0)dot3=-dot3;\r\n        len1=dot1*w1+dot2*h1+dot3*d1;\r\n        len2=d2;\r\n        overlap6=(len-len1-len2)*1.0;\r\n        if(overlap6>0)return;\r\n        // try axis 7\r\n        len=a7x*a7x+a7y*a7y+a7z*a7z;\r\n        if(len>1e-5){\r\n            len=1/_Math.sqrt(len);\r\n            a7x*=len;\r\n            a7y*=len;\r\n            a7z*=len;\r\n            len=a7x*dx+a7y*dy+a7z*dz;\r\n            right7=len>0;\r\n            if(!right7)len=-len;\r\n            dot1=a7x*a2x+a7y*a2y+a7z*a2z;\r\n            dot2=a7x*a3x+a7y*a3y+a7z*a3z;\r\n            if(dot1<0)dot1=-dot1;\r\n            if(dot2<0)dot2=-dot2;\r\n            len1=dot1*h1+dot2*d1;\r\n            dot1=a7x*a5x+a7y*a5y+a7z*a5z;\r\n            dot2=a7x*a6x+a7y*a6y+a7z*a6z;\r\n            if(dot1<0)dot1=-dot1;\r\n            if(dot2<0)dot2=-dot2;\r\n            len2=dot1*h2+dot2*d2;\r\n            overlap7=len-len1-len2;\r\n            if(overlap7>0)return;\r\n        }else{\r\n            right7=false;\r\n            overlap7=0;\r\n            invalid7=true;\r\n        }\r\n        // try axis 8\r\n        len=a8x*a8x+a8y*a8y+a8z*a8z;\r\n        if(len>1e-5){\r\n            len=1/_Math.sqrt(len);\r\n            a8x*=len;\r\n            a8y*=len;\r\n            a8z*=len;\r\n            len=a8x*dx+a8y*dy+a8z*dz;\r\n            right8=len>0;\r\n            if(!right8)len=-len;\r\n            dot1=a8x*a2x+a8y*a2y+a8z*a2z;\r\n            dot2=a8x*a3x+a8y*a3y+a8z*a3z;\r\n            if(dot1<0)dot1=-dot1;\r\n            if(dot2<0)dot2=-dot2;\r\n            len1=dot1*h1+dot2*d1;\r\n            dot1=a8x*a4x+a8y*a4y+a8z*a4z;\r\n            dot2=a8x*a6x+a8y*a6y+a8z*a6z;\r\n            if(dot1<0)dot1=-dot1;\r\n            if(dot2<0)dot2=-dot2;\r\n            len2=dot1*w2+dot2*d2;\r\n            overlap8=len-len1-len2;\r\n            if(overlap8>0)return;\r\n        }else{\r\n            right8=false;\r\n            overlap8=0;\r\n            invalid8=true;\r\n        }\r\n        // try axis 9\r\n        len=a9x*a9x+a9y*a9y+a9z*a9z;\r\n        if(len>1e-5){\r\n            len=1/_Math.sqrt(len);\r\n            a9x*=len;\r\n            a9y*=len;\r\n            a9z*=len;\r\n            len=a9x*dx+a9y*dy+a9z*dz;\r\n            right9=len>0;\r\n            if(!right9)len=-len;\r\n            dot1=a9x*a2x+a9y*a2y+a9z*a2z;\r\n            dot2=a9x*a3x+a9y*a3y+a9z*a3z;\r\n            if(dot1<0)dot1=-dot1;\r\n            if(dot2<0)dot2=-dot2;\r\n            len1=dot1*h1+dot2*d1;\r\n            dot1=a9x*a4x+a9y*a4y+a9z*a4z;\r\n            dot2=a9x*a5x+a9y*a5y+a9z*a5z;\r\n            if(dot1<0)dot1=-dot1;\r\n            if(dot2<0)dot2=-dot2;\r\n            len2=dot1*w2+dot2*h2;\r\n            overlap9=len-len1-len2;\r\n            if(overlap9>0)return;\r\n        }else{\r\n            right9=false;\r\n            overlap9=0;\r\n            invalid9=true;\r\n        }\r\n        // try axis 10\r\n        len=aax*aax+aay*aay+aaz*aaz;\r\n        if(len>1e-5){\r\n            len=1/_Math.sqrt(len);\r\n            aax*=len;\r\n            aay*=len;\r\n            aaz*=len;\r\n            len=aax*dx+aay*dy+aaz*dz;\r\n            righta=len>0;\r\n            if(!righta)len=-len;\r\n            dot1=aax*a1x+aay*a1y+aaz*a1z;\r\n            dot2=aax*a3x+aay*a3y+aaz*a3z;\r\n            if(dot1<0)dot1=-dot1;\r\n            if(dot2<0)dot2=-dot2;\r\n            len1=dot1*w1+dot2*d1;\r\n            dot1=aax*a5x+aay*a5y+aaz*a5z;\r\n            dot2=aax*a6x+aay*a6y+aaz*a6z;\r\n            if(dot1<0)dot1=-dot1;\r\n            if(dot2<0)dot2=-dot2;\r\n            len2=dot1*h2+dot2*d2;\r\n            overlapa=len-len1-len2;\r\n            if(overlapa>0)return;\r\n        }else{\r\n            righta=false;\r\n            overlapa=0;\r\n            invalida=true;\r\n        }\r\n        // try axis 11\r\n        len=abx*abx+aby*aby+abz*abz;\r\n        if(len>1e-5){\r\n            len=1/_Math.sqrt(len);\r\n            abx*=len;\r\n            aby*=len;\r\n            abz*=len;\r\n            len=abx*dx+aby*dy+abz*dz;\r\n            rightb=len>0;\r\n            if(!rightb)len=-len;\r\n            dot1=abx*a1x+aby*a1y+abz*a1z;\r\n            dot2=abx*a3x+aby*a3y+abz*a3z;\r\n            if(dot1<0)dot1=-dot1;\r\n            if(dot2<0)dot2=-dot2;\r\n            len1=dot1*w1+dot2*d1;\r\n            dot1=abx*a4x+aby*a4y+abz*a4z;\r\n            dot2=abx*a6x+aby*a6y+abz*a6z;\r\n            if(dot1<0)dot1=-dot1;\r\n            if(dot2<0)dot2=-dot2;\r\n            len2=dot1*w2+dot2*d2;\r\n            overlapb=len-len1-len2;\r\n            if(overlapb>0)return;\r\n        }else{\r\n            rightb=false;\r\n            overlapb=0;\r\n            invalidb=true;\r\n        }\r\n        // try axis 12\r\n        len=acx*acx+acy*acy+acz*acz;\r\n        if(len>1e-5){\r\n            len=1/_Math.sqrt(len);\r\n            acx*=len;\r\n            acy*=len;\r\n            acz*=len;\r\n            len=acx*dx+acy*dy+acz*dz;\r\n            rightc=len>0;\r\n            if(!rightc)len=-len;\r\n            dot1=acx*a1x+acy*a1y+acz*a1z;\r\n            dot2=acx*a3x+acy*a3y+acz*a3z;\r\n            if(dot1<0)dot1=-dot1;\r\n            if(dot2<0)dot2=-dot2;\r\n            len1=dot1*w1+dot2*d1;\r\n            dot1=acx*a4x+acy*a4y+acz*a4z;\r\n            dot2=acx*a5x+acy*a5y+acz*a5z;\r\n            if(dot1<0)dot1=-dot1;\r\n            if(dot2<0)dot2=-dot2;\r\n            len2=dot1*w2+dot2*h2;\r\n            overlapc=len-len1-len2;\r\n            if(overlapc>0)return;\r\n        }else{\r\n            rightc=false;\r\n            overlapc=0;\r\n            invalidc=true;\r\n        }\r\n        // try axis 13\r\n        len=adx*adx+ady*ady+adz*adz;\r\n        if(len>1e-5){\r\n            len=1/_Math.sqrt(len);\r\n            adx*=len;\r\n            ady*=len;\r\n            adz*=len;\r\n            len=adx*dx+ady*dy+adz*dz;\r\n            rightd=len>0;\r\n            if(!rightd)len=-len;\r\n            dot1=adx*a1x+ady*a1y+adz*a1z;\r\n            dot2=adx*a2x+ady*a2y+adz*a2z;\r\n            if(dot1<0)dot1=-dot1;\r\n            if(dot2<0)dot2=-dot2;\r\n            len1=dot1*w1+dot2*h1;\r\n            dot1=adx*a5x+ady*a5y+adz*a5z;\r\n            dot2=adx*a6x+ady*a6y+adz*a6z;\r\n            if(dot1<0)dot1=-dot1;\r\n            if(dot2<0)dot2=-dot2;\r\n            len2=dot1*h2+dot2*d2;\r\n            overlapd=len-len1-len2;\r\n            if(overlapd>0)return;\r\n        }else{\r\n            rightd=false;\r\n            overlapd=0;\r\n            invalidd=true;\r\n        }\r\n        // try axis 14\r\n        len=aex*aex+aey*aey+aez*aez;\r\n        if(len>1e-5){\r\n            len=1/_Math.sqrt(len);\r\n            aex*=len;\r\n            aey*=len;\r\n            aez*=len;\r\n            len=aex*dx+aey*dy+aez*dz;\r\n            righte=len>0;\r\n            if(!righte)len=-len;\r\n            dot1=aex*a1x+aey*a1y+aez*a1z;\r\n            dot2=aex*a2x+aey*a2y+aez*a2z;\r\n            if(dot1<0)dot1=-dot1;\r\n            if(dot2<0)dot2=-dot2;\r\n            len1=dot1*w1+dot2*h1;\r\n            dot1=aex*a4x+aey*a4y+aez*a4z;\r\n            dot2=aex*a6x+aey*a6y+aez*a6z;\r\n            if(dot1<0)dot1=-dot1;\r\n            if(dot2<0)dot2=-dot2;\r\n            len2=dot1*w2+dot2*d2;\r\n            overlape=len-len1-len2;\r\n            if(overlape>0)return;\r\n        }else{\r\n            righte=false;\r\n            overlape=0;\r\n            invalide=true;\r\n        }\r\n        // try axis 15\r\n        len=afx*afx+afy*afy+afz*afz;\r\n        if(len>1e-5){\r\n            len=1/_Math.sqrt(len);\r\n            afx*=len;\r\n            afy*=len;\r\n            afz*=len;\r\n            len=afx*dx+afy*dy+afz*dz;\r\n            rightf=len>0;\r\n            if(!rightf)len=-len;\r\n            dot1=afx*a1x+afy*a1y+afz*a1z;\r\n            dot2=afx*a2x+afy*a2y+afz*a2z;\r\n            if(dot1<0)dot1=-dot1;\r\n            if(dot2<0)dot2=-dot2;\r\n            len1=dot1*w1+dot2*h1;\r\n            dot1=afx*a4x+afy*a4y+afz*a4z;\r\n            dot2=afx*a5x+afy*a5y+afz*a5z;\r\n            if(dot1<0)dot1=-dot1;\r\n            if(dot2<0)dot2=-dot2;\r\n            len2=dot1*w2+dot2*h2;\r\n            overlapf=len-len1-len2;\r\n            if(overlapf>0)return;\r\n        }else{\r\n            rightf=false;\r\n            overlapf=0;\r\n            invalidf=true;\r\n        }\r\n        // boxes are overlapping\r\n        var depth=overlap1;\r\n        var depth2=overlap1;\r\n        var minIndex=0;\r\n        var right=right1;\r\n        if(overlap2>depth2){\r\n            depth=overlap2;\r\n            depth2=overlap2;\r\n            minIndex=1;\r\n            right=right2;\r\n        }\r\n        if(overlap3>depth2){\r\n            depth=overlap3;\r\n            depth2=overlap3;\r\n            minIndex=2;\r\n            right=right3;\r\n        }\r\n        if(overlap4>depth2){\r\n            depth=overlap4;\r\n            depth2=overlap4;\r\n            minIndex=3;\r\n            right=right4;\r\n        }\r\n        if(overlap5>depth2){\r\n            depth=overlap5;\r\n            depth2=overlap5;\r\n            minIndex=4;\r\n            right=right5;\r\n        }\r\n        if(overlap6>depth2){\r\n            depth=overlap6;\r\n            depth2=overlap6;\r\n            minIndex=5;\r\n            right=right6;\r\n        }\r\n        if(overlap7-0.01>depth2&&!invalid7){\r\n            depth=overlap7;\r\n            depth2=overlap7-0.01;\r\n            minIndex=6;\r\n            right=right7;\r\n        }\r\n        if(overlap8-0.01>depth2&&!invalid8){\r\n            depth=overlap8;\r\n            depth2=overlap8-0.01;\r\n            minIndex=7;\r\n            right=right8;\r\n        }\r\n        if(overlap9-0.01>depth2&&!invalid9){\r\n            depth=overlap9;\r\n            depth2=overlap9-0.01;\r\n            minIndex=8;\r\n            right=right9;\r\n        }\r\n        if(overlapa-0.01>depth2&&!invalida){\r\n            depth=overlapa;\r\n            depth2=overlapa-0.01;\r\n            minIndex=9;\r\n            right=righta;\r\n        }\r\n        if(overlapb-0.01>depth2&&!invalidb){\r\n            depth=overlapb;\r\n            depth2=overlapb-0.01;\r\n            minIndex=10;\r\n            right=rightb;\r\n        }\r\n        if(overlapc-0.01>depth2&&!invalidc){\r\n            depth=overlapc;\r\n            depth2=overlapc-0.01;\r\n            minIndex=11;\r\n            right=rightc;\r\n        }\r\n        if(overlapd-0.01>depth2&&!invalidd){\r\n            depth=overlapd;\r\n            depth2=overlapd-0.01;\r\n            minIndex=12;\r\n            right=rightd;\r\n        }\r\n        if(overlape-0.01>depth2&&!invalide){\r\n            depth=overlape;\r\n            depth2=overlape-0.01;\r\n            minIndex=13;\r\n            right=righte;\r\n        }\r\n        if(overlapf-0.01>depth2&&!invalidf){\r\n            depth=overlapf;\r\n            minIndex=14;\r\n            right=rightf;\r\n        }\r\n        // normal\r\n        var nx=0;\r\n        var ny=0;\r\n        var nz=0;\r\n        // edge line or face side normal\r\n        var n1x=0;\r\n        var n1y=0;\r\n        var n1z=0;\r\n        var n2x=0;\r\n        var n2y=0;\r\n        var n2z=0;\r\n        // center of current face\r\n        var cx=0;\r\n        var cy=0;\r\n        var cz=0;\r\n        // face side\r\n        var s1x=0;\r\n        var s1y=0;\r\n        var s1z=0;\r\n        var s2x=0;\r\n        var s2y=0;\r\n        var s2z=0;\r\n        // swap b1 b2\r\n        var swap=false;\r\n\r\n        //_______________________________________\r\n\r\n        if(minIndex==0){// b1.x * b2\r\n            if(right){\r\n                cx=p1x+d1x; cy=p1y+d1y;  cz=p1z+d1z;\r\n                nx=a1x; ny=a1y; nz=a1z;\r\n            }else{\r\n                cx=p1x-d1x; cy=p1y-d1y; cz=p1z-d1z;\r\n                nx=-a1x; ny=-a1y; nz=-a1z;\r\n            }\r\n            s1x=d2x; s1y=d2y; s1z=d2z;\r\n            n1x=-a2x; n1y=-a2y; n1z=-a2z;\r\n            s2x=d3x; s2y=d3y; s2z=d3z;\r\n            n2x=-a3x; n2y=-a3y; n2z=-a3z;\r\n        }\r\n        else if(minIndex==1){// b1.y * b2\r\n            if(right){\r\n                cx=p1x+d2x; cy=p1y+d2y; cz=p1z+d2z;\r\n                nx=a2x; ny=a2y; nz=a2z;\r\n            }else{\r\n                cx=p1x-d2x; cy=p1y-d2y; cz=p1z-d2z;\r\n                nx=-a2x; ny=-a2y; nz=-a2z;\r\n            }\r\n            s1x=d1x; s1y=d1y; s1z=d1z;\r\n            n1x=-a1x; n1y=-a1y; n1z=-a1z;\r\n            s2x=d3x; s2y=d3y; s2z=d3z;\r\n            n2x=-a3x; n2y=-a3y; n2z=-a3z;\r\n        }\r\n        else if(minIndex==2){// b1.z * b2\r\n            if(right){\r\n                cx=p1x+d3x; cy=p1y+d3y; cz=p1z+d3z;\r\n                nx=a3x; ny=a3y; nz=a3z;\r\n            }else{\r\n                cx=p1x-d3x; cy=p1y-d3y; cz=p1z-d3z;\r\n                nx=-a3x; ny=-a3y; nz=-a3z;\r\n            }\r\n            s1x=d1x; s1y=d1y; s1z=d1z;\r\n            n1x=-a1x; n1y=-a1y; n1z=-a1z;\r\n            s2x=d2x; s2y=d2y; s2z=d2z;\r\n            n2x=-a2x; n2y=-a2y; n2z=-a2z;\r\n        }\r\n        else if(minIndex==3){// b2.x * b1\r\n            swap=true;\r\n            if(!right){\r\n                cx=p2x+d4x; cy=p2y+d4y; cz=p2z+d4z;\r\n                nx=a4x; ny=a4y; nz=a4z;\r\n            }else{\r\n                cx=p2x-d4x; cy=p2y-d4y; cz=p2z-d4z;\r\n                nx=-a4x; ny=-a4y; nz=-a4z;\r\n            }\r\n            s1x=d5x; s1y=d5y; s1z=d5z;\r\n            n1x=-a5x; n1y=-a5y; n1z=-a5z;\r\n            s2x=d6x; s2y=d6y; s2z=d6z;\r\n            n2x=-a6x; n2y=-a6y; n2z=-a6z;\r\n        }\r\n        else if(minIndex==4){// b2.y * b1\r\n            swap=true;\r\n            if(!right){\r\n                cx=p2x+d5x; cy=p2y+d5y; cz=p2z+d5z;\r\n                nx=a5x; ny=a5y; nz=a5z;\r\n            }else{\r\n                cx=p2x-d5x; cy=p2y-d5y; cz=p2z-d5z;\r\n                nx=-a5x; ny=-a5y; nz=-a5z;\r\n            }\r\n            s1x=d4x; s1y=d4y; s1z=d4z;\r\n            n1x=-a4x; n1y=-a4y; n1z=-a4z;\r\n            s2x=d6x; s2y=d6y; s2z=d6z;\r\n            n2x=-a6x; n2y=-a6y; n2z=-a6z;\r\n        }\r\n        else if(minIndex==5){// b2.z * b1\r\n            swap=true;\r\n            if(!right){\r\n                cx=p2x+d6x; cy=p2y+d6y; cz=p2z+d6z;\r\n                nx=a6x; ny=a6y; nz=a6z;\r\n            }else{\r\n                cx=p2x-d6x; cy=p2y-d6y; cz=p2z-d6z;\r\n                nx=-a6x; ny=-a6y; nz=-a6z;\r\n            }\r\n            s1x=d4x; s1y=d4y; s1z=d4z;\r\n            n1x=-a4x; n1y=-a4y; n1z=-a4z;\r\n            s2x=d5x; s2y=d5y; s2z=d5z;\r\n            n2x=-a5x; n2y=-a5y; n2z=-a5z;\r\n        }\r\n        else if(minIndex==6){// b1.x * b2.x\r\n            nx=a7x; ny=a7y; nz=a7z;\r\n            n1x=a1x; n1y=a1y; n1z=a1z;\r\n            n2x=a4x; n2y=a4y; n2z=a4z;\r\n        }\r\n        else if(minIndex==7){// b1.x * b2.y\r\n            nx=a8x; ny=a8y; nz=a8z;\r\n            n1x=a1x; n1y=a1y; n1z=a1z;\r\n            n2x=a5x; n2y=a5y; n2z=a5z;\r\n        }\r\n        else if(minIndex==8){// b1.x * b2.z\r\n            nx=a9x; ny=a9y; nz=a9z;\r\n            n1x=a1x; n1y=a1y; n1z=a1z;\r\n            n2x=a6x; n2y=a6y; n2z=a6z;\r\n        }\r\n        else if(minIndex==9){// b1.y * b2.x\r\n            nx=aax; ny=aay; nz=aaz;\r\n            n1x=a2x; n1y=a2y; n1z=a2z;\r\n            n2x=a4x; n2y=a4y; n2z=a4z;\r\n        }\r\n        else if(minIndex==10){// b1.y * b2.y\r\n            nx=abx; ny=aby; nz=abz;\r\n            n1x=a2x; n1y=a2y; n1z=a2z;\r\n            n2x=a5x; n2y=a5y; n2z=a5z;\r\n        }\r\n        else if(minIndex==11){// b1.y * b2.z\r\n            nx=acx; ny=acy; nz=acz;\r\n            n1x=a2x; n1y=a2y; n1z=a2z;\r\n            n2x=a6x; n2y=a6y; n2z=a6z;\r\n        }\r\n        else if(minIndex==12){// b1.z * b2.x\r\n            nx=adx;  ny=ady; nz=adz;\r\n            n1x=a3x; n1y=a3y; n1z=a3z;\r\n            n2x=a4x; n2y=a4y; n2z=a4z;\r\n        }\r\n        else if(minIndex==13){// b1.z * b2.y\r\n            nx=aex; ny=aey; nz=aez;\r\n            n1x=a3x; n1y=a3y; n1z=a3z;\r\n            n2x=a5x; n2y=a5y; n2z=a5z;\r\n        }\r\n        else if(minIndex==14){// b1.z * b2.z\r\n            nx=afx; ny=afy; nz=afz;\r\n            n1x=a3x; n1y=a3y; n1z=a3z;\r\n            n2x=a6x; n2y=a6y; n2z=a6z;\r\n        }\r\n\r\n        //__________________________________________\r\n\r\n        //var v;\r\n        if(minIndex>5){\r\n            if(!right){\r\n                nx=-nx; ny=-ny; nz=-nz;\r\n            }\r\n            var distance;\r\n            var maxDistance;\r\n            var vx;\r\n            var vy;\r\n            var vz;\r\n            var v1x;\r\n            var v1y;\r\n            var v1z;\r\n            var v2x;\r\n            var v2y;\r\n            var v2z;\r\n            //vertex1;\r\n            v1x=V1[0]; v1y=V1[1]; v1z=V1[2];\r\n            maxDistance=nx*v1x+ny*v1y+nz*v1z;\r\n            //vertex2;\r\n            vx=V1[3]; vy=V1[4]; vz=V1[5];\r\n            distance=nx*vx+ny*vy+nz*vz;\r\n            if(distance>maxDistance){\r\n                maxDistance=distance;\r\n                v1x=vx; v1y=vy; v1z=vz;\r\n            }\r\n            //vertex3;\r\n            vx=V1[6]; vy=V1[7]; vz=V1[8];\r\n            distance=nx*vx+ny*vy+nz*vz;\r\n            if(distance>maxDistance){\r\n                maxDistance=distance;\r\n                v1x=vx; v1y=vy; v1z=vz;\r\n            }\r\n            //vertex4;\r\n            vx=V1[9]; vy=V1[10]; vz=V1[11];\r\n            distance=nx*vx+ny*vy+nz*vz;\r\n            if(distance>maxDistance){\r\n                maxDistance=distance;\r\n                v1x=vx; v1y=vy; v1z=vz;\r\n            }\r\n            //vertex5;\r\n            vx=V1[12]; vy=V1[13]; vz=V1[14];\r\n            distance=nx*vx+ny*vy+nz*vz;\r\n            if(distance>maxDistance){\r\n                maxDistance=distance;\r\n                v1x=vx; v1y=vy; v1z=vz;\r\n            }\r\n            //vertex6;\r\n            vx=V1[15]; vy=V1[16]; vz=V1[17];\r\n            distance=nx*vx+ny*vy+nz*vz;\r\n            if(distance>maxDistance){\r\n                maxDistance=distance;\r\n                v1x=vx; v1y=vy; v1z=vz;\r\n            }\r\n            //vertex7;\r\n            vx=V1[18]; vy=V1[19]; vz=V1[20];\r\n            distance=nx*vx+ny*vy+nz*vz;\r\n            if(distance>maxDistance){\r\n                maxDistance=distance;\r\n                v1x=vx; v1y=vy; v1z=vz;\r\n            }\r\n            //vertex8;\r\n            vx=V1[21]; vy=V1[22]; vz=V1[23];\r\n            distance=nx*vx+ny*vy+nz*vz;\r\n            if(distance>maxDistance){\r\n                maxDistance=distance;\r\n                v1x=vx; v1y=vy; v1z=vz;\r\n            }\r\n            //vertex1;\r\n            v2x=V2[0]; v2y=V2[1]; v2z=V2[2];\r\n            maxDistance=nx*v2x+ny*v2y+nz*v2z;\r\n            //vertex2;\r\n            vx=V2[3]; vy=V2[4]; vz=V2[5];\r\n            distance=nx*vx+ny*vy+nz*vz;\r\n            if(distance<maxDistance){\r\n                maxDistance=distance;\r\n                v2x=vx; v2y=vy; v2z=vz;\r\n            }\r\n            //vertex3;\r\n            vx=V2[6]; vy=V2[7]; vz=V2[8];\r\n            distance=nx*vx+ny*vy+nz*vz;\r\n            if(distance<maxDistance){\r\n                maxDistance=distance;\r\n                v2x=vx; v2y=vy; v2z=vz;\r\n            }\r\n            //vertex4;\r\n            vx=V2[9]; vy=V2[10]; vz=V2[11];\r\n            distance=nx*vx+ny*vy+nz*vz;\r\n            if(distance<maxDistance){\r\n                maxDistance=distance;\r\n                v2x=vx; v2y=vy; v2z=vz;\r\n            }\r\n            //vertex5;\r\n            vx=V2[12]; vy=V2[13]; vz=V2[14];\r\n            distance=nx*vx+ny*vy+nz*vz;\r\n            if(distance<maxDistance){\r\n                maxDistance=distance;\r\n                v2x=vx; v2y=vy; v2z=vz;\r\n            }\r\n            //vertex6;\r\n            vx=V2[15]; vy=V2[16]; vz=V2[17];\r\n            distance=nx*vx+ny*vy+nz*vz;\r\n            if(distance<maxDistance){\r\n                maxDistance=distance;\r\n                v2x=vx; v2y=vy; v2z=vz;\r\n            }\r\n            //vertex7;\r\n            vx=V2[18]; vy=V2[19]; vz=V2[20];\r\n            distance=nx*vx+ny*vy+nz*vz;\r\n            if(distance<maxDistance){\r\n                maxDistance=distance;\r\n                v2x=vx; v2y=vy; v2z=vz;\r\n            }\r\n            //vertex8;\r\n            vx=V2[21]; vy=V2[22]; vz=V2[23];\r\n            distance=nx*vx+ny*vy+nz*vz;\r\n            if(distance<maxDistance){\r\n                maxDistance=distance;\r\n                v2x=vx; v2y=vy; v2z=vz;\r\n            }\r\n            vx=v2x-v1x; vy=v2y-v1y; vz=v2z-v1z;\r\n            dot1=n1x*n2x+n1y*n2y+n1z*n2z;\r\n            var t=(vx*(n1x-n2x*dot1)+vy*(n1y-n2y*dot1)+vz*(n1z-n2z*dot1))/(1-dot1*dot1);\r\n            manifold.addPoint(v1x+n1x*t+nx*depth*0.5,v1y+n1y*t+ny*depth*0.5,v1z+n1z*t+nz*depth*0.5,nx,ny,nz,depth,false);\r\n            return;\r\n        }\r\n        // now detect face-face collision...\r\n        // target quad\r\n        var q1x;\r\n        var q1y;\r\n        var q1z;\r\n        var q2x;\r\n        var q2y;\r\n        var q2z;\r\n        var q3x;\r\n        var q3y;\r\n        var q3z;\r\n        var q4x;\r\n        var q4y;\r\n        var q4z;\r\n        // search support face and vertex\r\n        var minDot=1;\r\n        var dot=0;\r\n        var minDotIndex=0;\r\n        if(swap){\r\n            dot=a1x*nx+a1y*ny+a1z*nz;\r\n            if(dot<minDot){\r\n                minDot=dot;\r\n                minDotIndex=0;\r\n            }\r\n            if(-dot<minDot){\r\n                minDot=-dot;\r\n                minDotIndex=1;\r\n            }\r\n            dot=a2x*nx+a2y*ny+a2z*nz;\r\n            if(dot<minDot){\r\n                minDot=dot;\r\n                minDotIndex=2;\r\n            }\r\n            if(-dot<minDot){\r\n                minDot=-dot;\r\n                minDotIndex=3;\r\n            }\r\n            dot=a3x*nx+a3y*ny+a3z*nz;\r\n            if(dot<minDot){\r\n                minDot=dot;\r\n                minDotIndex=4;\r\n            }\r\n            if(-dot<minDot){\r\n                minDot=-dot;\r\n                minDotIndex=5;\r\n            }\r\n\r\n            if(minDotIndex==0){// x+ face\r\n                q1x=V1[0]; q1y=V1[1]; q1z=V1[2];//vertex1\r\n                q2x=V1[6]; q2y=V1[7]; q2z=V1[8];//vertex3\r\n                q3x=V1[9]; q3y=V1[10]; q3z=V1[11];//vertex4\r\n                q4x=V1[3]; q4y=V1[4]; q4z=V1[5];//vertex2\r\n            }\r\n            else if(minDotIndex==1){// x- face\r\n                q1x=V1[15]; q1y=V1[16]; q1z=V1[17];//vertex6\r\n                q2x=V1[21]; q2y=V1[22]; q2z=V1[23];//vertex8\r\n                q3x=V1[18]; q3y=V1[19]; q3z=V1[20];//vertex7\r\n                q4x=V1[12]; q4y=V1[13]; q4z=V1[14];//vertex5\r\n            }\r\n            else if(minDotIndex==2){// y+ face\r\n                q1x=V1[12]; q1y=V1[13]; q1z=V1[14];//vertex5\r\n                q2x=V1[0]; q2y=V1[1]; q2z=V1[2];//vertex1\r\n                q3x=V1[3]; q3y=V1[4]; q3z=V1[5];//vertex2\r\n                q4x=V1[15]; q4y=V1[16]; q4z=V1[17];//vertex6\r\n            }\r\n            else if(minDotIndex==3){// y- face\r\n                q1x=V1[21]; q1y=V1[22]; q1z=V1[23];//vertex8\r\n                q2x=V1[9]; q2y=V1[10]; q2z=V1[11];//vertex4\r\n                q3x=V1[6]; q3y=V1[7]; q3z=V1[8];//vertex3\r\n                q4x=V1[18]; q4y=V1[19]; q4z=V1[20];//vertex7\r\n            }\r\n            else if(minDotIndex==4){// z+ face\r\n                q1x=V1[12]; q1y=V1[13]; q1z=V1[14];//vertex5\r\n                q2x=V1[18]; q2y=V1[19]; q2z=V1[20];//vertex7\r\n                q3x=V1[6]; q3y=V1[7]; q3z=V1[8];//vertex3\r\n                q4x=V1[0]; q4y=V1[1]; q4z=V1[2];//vertex1\r\n            }\r\n            else if(minDotIndex==5){// z- face\r\n                q1x=V1[3]; q1y=V1[4]; q1z=V1[5];//vertex2\r\n                //2x=V1[6]; q2y=V1[7]; q2z=V1[8];//vertex4 !!!\r\n                q2x=V2[9]; q2y=V2[10]; q2z=V2[11];//vertex4\r\n                q3x=V1[21]; q3y=V1[22]; q3z=V1[23];//vertex8\r\n                q4x=V1[15]; q4y=V1[16]; q4z=V1[17];//vertex6\r\n            }\r\n\r\n        }else{\r\n            dot=a4x*nx+a4y*ny+a4z*nz;\r\n            if(dot<minDot){\r\n                minDot=dot;\r\n                minDotIndex=0;\r\n            }\r\n            if(-dot<minDot){\r\n                minDot=-dot;\r\n                minDotIndex=1;\r\n            }\r\n            dot=a5x*nx+a5y*ny+a5z*nz;\r\n            if(dot<minDot){\r\n                minDot=dot;\r\n                minDotIndex=2;\r\n            }\r\n            if(-dot<minDot){\r\n                minDot=-dot;\r\n                minDotIndex=3;\r\n            }\r\n            dot=a6x*nx+a6y*ny+a6z*nz;\r\n            if(dot<minDot){\r\n                minDot=dot;\r\n                minDotIndex=4;\r\n            }\r\n            if(-dot<minDot){\r\n                minDot=-dot;\r\n                minDotIndex=5;\r\n            }\r\n\r\n            //______________________________________________________\r\n\r\n            if(minDotIndex==0){// x+ face\r\n                q1x=V2[0]; q1y=V2[1]; q1z=V2[2];//vertex1\r\n                q2x=V2[6]; q2y=V2[7]; q2z=V2[8];//vertex3\r\n                q3x=V2[9]; q3y=V2[10]; q3z=V2[11];//vertex4\r\n                q4x=V2[3]; q4y=V2[4]; q4z=V2[5];//vertex2\r\n            }\r\n            else if(minDotIndex==1){// x- face\r\n                q1x=V2[15]; q1y=V2[16]; q1z=V2[17];//vertex6\r\n                q2x=V2[21]; q2y=V2[22]; q2z=V2[23]; //vertex8\r\n                q3x=V2[18]; q3y=V2[19]; q3z=V2[20];//vertex7\r\n                q4x=V2[12]; q4y=V2[13]; q4z=V2[14];//vertex5\r\n            }\r\n            else if(minDotIndex==2){// y+ face\r\n                q1x=V2[12]; q1y=V2[13]; q1z=V2[14];//vertex5\r\n                q2x=V2[0]; q2y=V2[1]; q2z=V2[2];//vertex1\r\n                q3x=V2[3]; q3y=V2[4]; q3z=V2[5];//vertex2\r\n                q4x=V2[15]; q4y=V2[16]; q4z=V2[17];//vertex6\r\n            }\r\n            else if(minDotIndex==3){// y- face\r\n                q1x=V2[21]; q1y=V2[22]; q1z=V2[23];//vertex8\r\n                q2x=V2[9]; q2y=V2[10]; q2z=V2[11];//vertex4\r\n                q3x=V2[6]; q3y=V2[7]; q3z=V2[8];//vertex3\r\n                q4x=V2[18]; q4y=V2[19]; q4z=V2[20];//vertex7\r\n            }\r\n            else if(minDotIndex==4){// z+ face\r\n                q1x=V2[12]; q1y=V2[13]; q1z=V2[14];//vertex5\r\n                q2x=V2[18]; q2y=V2[19]; q2z=V2[20];//vertex7\r\n                q3x=V2[6]; q3y=V2[7]; q3z=V2[8];//vertex3\r\n                q4x=V2[0]; q4y=V2[1]; q4z=V2[2];//vertex1\r\n            }\r\n            else if(minDotIndex==5){// z- face\r\n                q1x=V2[3]; q1y=V2[4]; q1z=V2[5];//vertex2\r\n                q2x=V2[9]; q2y=V2[10]; q2z=V2[11];//vertex4\r\n                q3x=V2[21]; q3y=V2[22]; q3z=V2[23];//vertex8\r\n                q4x=V2[15]; q4y=V2[16]; q4z=V2[17];//vertex6\r\n            }\r\n      \r\n        }\r\n        // clip vertices\r\n        var numClipVertices;\r\n        var numAddedClipVertices;\r\n        var index;\r\n        var x1;\r\n        var y1;\r\n        var z1;\r\n        var x2;\r\n        var y2;\r\n        var z2;\r\n        this.clipVertices1[0]=q1x;\r\n        this.clipVertices1[1]=q1y;\r\n        this.clipVertices1[2]=q1z;\r\n        this.clipVertices1[3]=q2x;\r\n        this.clipVertices1[4]=q2y;\r\n        this.clipVertices1[5]=q2z;\r\n        this.clipVertices1[6]=q3x;\r\n        this.clipVertices1[7]=q3y;\r\n        this.clipVertices1[8]=q3z;\r\n        this.clipVertices1[9]=q4x;\r\n        this.clipVertices1[10]=q4y;\r\n        this.clipVertices1[11]=q4z;\r\n        numAddedClipVertices=0;\r\n        x1=this.clipVertices1[9];\r\n        y1=this.clipVertices1[10];\r\n        z1=this.clipVertices1[11];\r\n        dot1=(x1-cx-s1x)*n1x+(y1-cy-s1y)*n1y+(z1-cz-s1z)*n1z;\r\n\r\n        //var i = 4;\r\n        //while(i--){\r\n        for(var i=0;i<4;i++){\r\n            index=i*3;\r\n            x2=this.clipVertices1[index];\r\n            y2=this.clipVertices1[index+1];\r\n            z2=this.clipVertices1[index+2];\r\n            dot2=(x2-cx-s1x)*n1x+(y2-cy-s1y)*n1y+(z2-cz-s1z)*n1z;\r\n            if(dot1>0){\r\n                if(dot2>0){\r\n                    index=numAddedClipVertices*3;\r\n                    numAddedClipVertices++;\r\n                    this.clipVertices2[index]=x2;\r\n                    this.clipVertices2[index+1]=y2;\r\n                    this.clipVertices2[index+2]=z2;\r\n                }else{\r\n                    index=numAddedClipVertices*3;\r\n                    numAddedClipVertices++;\r\n                    t=dot1/(dot1-dot2);\r\n                    this.clipVertices2[index]=x1+(x2-x1)*t;\r\n                    this.clipVertices2[index+1]=y1+(y2-y1)*t;\r\n                    this.clipVertices2[index+2]=z1+(z2-z1)*t;\r\n                }\r\n            }else{\r\n                if(dot2>0){\r\n                    index=numAddedClipVertices*3;\r\n                    numAddedClipVertices++;\r\n                    t=dot1/(dot1-dot2);\r\n                    this.clipVertices2[index]=x1+(x2-x1)*t;\r\n                    this.clipVertices2[index+1]=y1+(y2-y1)*t;\r\n                    this.clipVertices2[index+2]=z1+(z2-z1)*t;\r\n                    index=numAddedClipVertices*3;\r\n                    numAddedClipVertices++;\r\n                    this.clipVertices2[index]=x2;\r\n                    this.clipVertices2[index+1]=y2;\r\n                    this.clipVertices2[index+2]=z2;\r\n                }\r\n            }\r\n            x1=x2;\r\n            y1=y2;\r\n            z1=z2;\r\n            dot1=dot2;\r\n        }\r\n\r\n        numClipVertices=numAddedClipVertices;\r\n        if(numClipVertices==0)return;\r\n        numAddedClipVertices=0;\r\n        index=(numClipVertices-1)*3;\r\n        x1=this.clipVertices2[index];\r\n        y1=this.clipVertices2[index+1];\r\n        z1=this.clipVertices2[index+2];\r\n        dot1=(x1-cx-s2x)*n2x+(y1-cy-s2y)*n2y+(z1-cz-s2z)*n2z;\r\n\r\n        //i = numClipVertices;\r\n        //while(i--){\r\n        for(i=0;i<numClipVertices;i++){\r\n            index=i*3;\r\n            x2=this.clipVertices2[index];\r\n            y2=this.clipVertices2[index+1];\r\n            z2=this.clipVertices2[index+2];\r\n            dot2=(x2-cx-s2x)*n2x+(y2-cy-s2y)*n2y+(z2-cz-s2z)*n2z;\r\n            if(dot1>0){\r\n                if(dot2>0){\r\n                    index=numAddedClipVertices*3;\r\n                    numAddedClipVertices++;\r\n                    this.clipVertices1[index]=x2;\r\n                    this.clipVertices1[index+1]=y2;\r\n                    this.clipVertices1[index+2]=z2;\r\n                }else{\r\n                    index=numAddedClipVertices*3;\r\n                    numAddedClipVertices++;\r\n                    t=dot1/(dot1-dot2);\r\n                    this.clipVertices1[index]=x1+(x2-x1)*t;\r\n                    this.clipVertices1[index+1]=y1+(y2-y1)*t;\r\n                    this.clipVertices1[index+2]=z1+(z2-z1)*t;\r\n                }\r\n            }else{\r\n                if(dot2>0){\r\n                    index=numAddedClipVertices*3;\r\n                    numAddedClipVertices++;\r\n                    t=dot1/(dot1-dot2);\r\n                    this.clipVertices1[index]=x1+(x2-x1)*t;\r\n                    this.clipVertices1[index+1]=y1+(y2-y1)*t;\r\n                    this.clipVertices1[index+2]=z1+(z2-z1)*t;\r\n                    index=numAddedClipVertices*3;\r\n                    numAddedClipVertices++;\r\n                    this.clipVertices1[index]=x2;\r\n                    this.clipVertices1[index+1]=y2;\r\n                    this.clipVertices1[index+2]=z2;\r\n                }\r\n            }\r\n            x1=x2;\r\n            y1=y2;\r\n            z1=z2;\r\n            dot1=dot2;\r\n        }\r\n\r\n        numClipVertices=numAddedClipVertices;\r\n        if(numClipVertices==0)return;\r\n        numAddedClipVertices=0;\r\n        index=(numClipVertices-1)*3;\r\n        x1=this.clipVertices1[index];\r\n        y1=this.clipVertices1[index+1];\r\n        z1=this.clipVertices1[index+2];\r\n        dot1=(x1-cx+s1x)*-n1x+(y1-cy+s1y)*-n1y+(z1-cz+s1z)*-n1z;\r\n\r\n        //i = numClipVertices;\r\n        //while(i--){\r\n        for(i=0;i<numClipVertices;i++){\r\n            index=i*3;\r\n            x2=this.clipVertices1[index];\r\n            y2=this.clipVertices1[index+1];\r\n            z2=this.clipVertices1[index+2];\r\n            dot2=(x2-cx+s1x)*-n1x+(y2-cy+s1y)*-n1y+(z2-cz+s1z)*-n1z;\r\n            if(dot1>0){\r\n                if(dot2>0){\r\n                    index=numAddedClipVertices*3;\r\n                    numAddedClipVertices++;\r\n                    this.clipVertices2[index]=x2;\r\n                    this.clipVertices2[index+1]=y2;\r\n                    this.clipVertices2[index+2]=z2;\r\n                }else{\r\n                    index=numAddedClipVertices*3;\r\n                    numAddedClipVertices++;\r\n                    t=dot1/(dot1-dot2);\r\n                    this.clipVertices2[index]=x1+(x2-x1)*t;\r\n                    this.clipVertices2[index+1]=y1+(y2-y1)*t;\r\n                    this.clipVertices2[index+2]=z1+(z2-z1)*t;\r\n                }\r\n            }else{\r\n                if(dot2>0){\r\n                    index=numAddedClipVertices*3;\r\n                    numAddedClipVertices++;\r\n                    t=dot1/(dot1-dot2);\r\n                    this.clipVertices2[index]=x1+(x2-x1)*t;\r\n                    this.clipVertices2[index+1]=y1+(y2-y1)*t;\r\n                    this.clipVertices2[index+2]=z1+(z2-z1)*t;\r\n                    index=numAddedClipVertices*3;\r\n                    numAddedClipVertices++;\r\n                    this.clipVertices2[index]=x2;\r\n                    this.clipVertices2[index+1]=y2;\r\n                    this.clipVertices2[index+2]=z2;\r\n                }\r\n            }\r\n            x1=x2;\r\n            y1=y2;\r\n            z1=z2;\r\n            dot1=dot2;\r\n        }\r\n\r\n        numClipVertices=numAddedClipVertices;\r\n        if(numClipVertices==0)return;\r\n        numAddedClipVertices=0;\r\n        index=(numClipVertices-1)*3;\r\n        x1=this.clipVertices2[index];\r\n        y1=this.clipVertices2[index+1];\r\n        z1=this.clipVertices2[index+2];\r\n        dot1=(x1-cx+s2x)*-n2x+(y1-cy+s2y)*-n2y+(z1-cz+s2z)*-n2z;\r\n\r\n        //i = numClipVertices;\r\n        //while(i--){\r\n        for(i=0;i<numClipVertices;i++){\r\n            index=i*3;\r\n            x2=this.clipVertices2[index];\r\n            y2=this.clipVertices2[index+1];\r\n            z2=this.clipVertices2[index+2];\r\n            dot2=(x2-cx+s2x)*-n2x+(y2-cy+s2y)*-n2y+(z2-cz+s2z)*-n2z;\r\n            if(dot1>0){\r\n                if(dot2>0){\r\n                    index=numAddedClipVertices*3;\r\n                    numAddedClipVertices++;\r\n                    this.clipVertices1[index]=x2;\r\n                    this.clipVertices1[index+1]=y2;\r\n                    this.clipVertices1[index+2]=z2;\r\n                }else{\r\n                    index=numAddedClipVertices*3;\r\n                    numAddedClipVertices++;\r\n                    t=dot1/(dot1-dot2);\r\n                    this.clipVertices1[index]=x1+(x2-x1)*t;\r\n                    this.clipVertices1[index+1]=y1+(y2-y1)*t;\r\n                    this.clipVertices1[index+2]=z1+(z2-z1)*t;\r\n                }\r\n            }else{\r\n                if(dot2>0){\r\n                    index=numAddedClipVertices*3;\r\n                    numAddedClipVertices++;\r\n                    t=dot1/(dot1-dot2);\r\n                    this.clipVertices1[index]=x1+(x2-x1)*t;\r\n                    this.clipVertices1[index+1]=y1+(y2-y1)*t;\r\n                    this.clipVertices1[index+2]=z1+(z2-z1)*t;\r\n                    index=numAddedClipVertices*3;\r\n                    numAddedClipVertices++;\r\n                    this.clipVertices1[index]=x2;\r\n                    this.clipVertices1[index+1]=y2;\r\n                    this.clipVertices1[index+2]=z2;\r\n                }\r\n            }\r\n            x1=x2;\r\n            y1=y2;\r\n            z1=z2;\r\n            dot1=dot2;\r\n        }\r\n\r\n        numClipVertices=numAddedClipVertices;\r\n        if(swap){\r\n            var tb=b1;\r\n            b1=b2;\r\n            b2=tb;\r\n        }\r\n        if(numClipVertices==0)return;\r\n        var flipped=b1!=shape1;\r\n        if(numClipVertices>4){\r\n            x1=(q1x+q2x+q3x+q4x)*0.25;\r\n            y1=(q1y+q2y+q3y+q4y)*0.25;\r\n            z1=(q1z+q2z+q3z+q4z)*0.25;\r\n            n1x=q1x-x1;\r\n            n1y=q1y-y1;\r\n            n1z=q1z-z1;\r\n            n2x=q2x-x1;\r\n            n2y=q2y-y1;\r\n            n2z=q2z-z1;\r\n            var index1=0;\r\n            var index2=0;\r\n            var index3=0;\r\n            var index4=0;\r\n            var maxDot=-this.INF;\r\n            minDot=this.INF;\r\n\r\n            //i = numClipVertices;\r\n            //while(i--){\r\n            for(i=0;i<numClipVertices;i++){\r\n                this.used[i]=false;\r\n                index=i*3;\r\n                x1=this.clipVertices1[index];\r\n                y1=this.clipVertices1[index+1];\r\n                z1=this.clipVertices1[index+2];\r\n                dot=x1*n1x+y1*n1y+z1*n1z;\r\n                if(dot<minDot){\r\n                    minDot=dot;\r\n                    index1=i;\r\n                }\r\n                if(dot>maxDot){\r\n                    maxDot=dot;\r\n                    index3=i;\r\n                }\r\n            }\r\n\r\n            this.used[index1]=true;\r\n            this.used[index3]=true;\r\n            maxDot=-this.INF;\r\n            minDot=this.INF;\r\n\r\n            //i = numClipVertices;\r\n            //while(i--){\r\n            for(i=0;i<numClipVertices;i++){\r\n                if(this.used[i])continue;\r\n                index=i*3;\r\n                x1=this.clipVertices1[index];\r\n                y1=this.clipVertices1[index+1];\r\n                z1=this.clipVertices1[index+2];\r\n                dot=x1*n2x+y1*n2y+z1*n2z;\r\n                if(dot<minDot){\r\n                    minDot=dot;\r\n                    index2=i;\r\n                }\r\n                if(dot>maxDot){\r\n                    maxDot=dot;\r\n                    index4=i;\r\n                }\r\n            }\r\n\r\n            index=index1*3;\r\n            x1=this.clipVertices1[index];\r\n            y1=this.clipVertices1[index+1];\r\n            z1=this.clipVertices1[index+2];\r\n            dot=(x1-cx)*nx+(y1-cy)*ny+(z1-cz)*nz;\r\n            if(dot<0) manifold.addPoint(x1,y1,z1,nx,ny,nz,dot,flipped);\r\n            \r\n            index=index2*3;\r\n            x1=this.clipVertices1[index];\r\n            y1=this.clipVertices1[index+1];\r\n            z1=this.clipVertices1[index+2];\r\n            dot=(x1-cx)*nx+(y1-cy)*ny+(z1-cz)*nz;\r\n            if(dot<0) manifold.addPoint(x1,y1,z1,nx,ny,nz,dot,flipped);\r\n            \r\n            index=index3*3;\r\n            x1=this.clipVertices1[index];\r\n            y1=this.clipVertices1[index+1];\r\n            z1=this.clipVertices1[index+2];\r\n            dot=(x1-cx)*nx+(y1-cy)*ny+(z1-cz)*nz;\r\n            if(dot<0) manifold.addPoint(x1,y1,z1,nx,ny,nz,dot,flipped);\r\n            \r\n            index=index4*3;\r\n            x1=this.clipVertices1[index];\r\n            y1=this.clipVertices1[index+1];\r\n            z1=this.clipVertices1[index+2];\r\n            dot=(x1-cx)*nx+(y1-cy)*ny+(z1-cz)*nz;\r\n            if(dot<0) manifold.addPoint(x1,y1,z1,nx,ny,nz,dot,flipped);\r\n            \r\n        }else{\r\n            //i = numClipVertices;\r\n            //while(i--){\r\n            for(i=0;i<numClipVertices;i++){\r\n                index=i*3;\r\n                x1=this.clipVertices1[index];\r\n                y1=this.clipVertices1[index+1];\r\n                z1=this.clipVertices1[index+2];\r\n                dot=(x1-cx)*nx+(y1-cy)*ny+(z1-cz)*nz;\r\n                if(dot<0)manifold.addPoint(x1,y1,z1,nx,ny,nz,dot,flipped);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n});\n\nfunction BoxCylinderCollisionDetector (flip){\r\n\r\n    CollisionDetector.call( this );\r\n    this.flip = flip;\r\n\r\n}\r\n\r\nBoxCylinderCollisionDetector.prototype = Object.assign( Object.create( CollisionDetector.prototype ), {\r\n\r\n    constructor: BoxCylinderCollisionDetector,\r\n\r\n    getSep: function ( c1, c2, sep, pos, dep ) {\r\n\r\n        var t1x;\r\n        var t1y;\r\n        var t1z;\r\n        var t2x;\r\n        var t2y;\r\n        var t2z;\r\n        var sup=new Vec3();\r\n        var len;\r\n        var p1x;\r\n        var p1y;\r\n        var p1z;\r\n        var p2x;\r\n        var p2y;\r\n        var p2z;\r\n        var v01x=c1.position.x;\r\n        var v01y=c1.position.y;\r\n        var v01z=c1.position.z;\r\n        var v02x=c2.position.x;\r\n        var v02y=c2.position.y;\r\n        var v02z=c2.position.z;\r\n        var v0x=v02x-v01x;\r\n        var v0y=v02y-v01y;\r\n        var v0z=v02z-v01z;\r\n        if(v0x*v0x+v0y*v0y+v0z*v0z==0)v0y=0.001;\r\n        var nx=-v0x;\r\n        var ny=-v0y;\r\n        var nz=-v0z;\r\n        this.supportPointB(c1,-nx,-ny,-nz,sup);\r\n        var v11x=sup.x;\r\n        var v11y=sup.y;\r\n        var v11z=sup.z;\r\n        this.supportPointC(c2,nx,ny,nz,sup);\r\n        var v12x=sup.x;\r\n        var v12y=sup.y;\r\n        var v12z=sup.z;\r\n        var v1x=v12x-v11x;\r\n        var v1y=v12y-v11y;\r\n        var v1z=v12z-v11z;\r\n        if(v1x*nx+v1y*ny+v1z*nz<=0){\r\n        return false;\r\n        }\r\n        nx=v1y*v0z-v1z*v0y;\r\n        ny=v1z*v0x-v1x*v0z;\r\n        nz=v1x*v0y-v1y*v0x;\r\n        if(nx*nx+ny*ny+nz*nz==0){\r\n        sep.set( v1x-v0x, v1y-v0y, v1z-v0z ).normalize();\r\n        pos.set( (v11x+v12x)*0.5, (v11y+v12y)*0.5, (v11z+v12z)*0.5 );\r\n        return true;\r\n        }\r\n        this.supportPointB(c1,-nx,-ny,-nz,sup);\r\n        var v21x=sup.x;\r\n        var v21y=sup.y;\r\n        var v21z=sup.z;\r\n        this.supportPointC(c2,nx,ny,nz,sup);\r\n        var v22x=sup.x;\r\n        var v22y=sup.y;\r\n        var v22z=sup.z;\r\n        var v2x=v22x-v21x;\r\n        var v2y=v22y-v21y;\r\n        var v2z=v22z-v21z;\r\n        if(v2x*nx+v2y*ny+v2z*nz<=0){\r\n        return false;\r\n        }\r\n        t1x=v1x-v0x;\r\n        t1y=v1y-v0y;\r\n        t1z=v1z-v0z;\r\n        t2x=v2x-v0x;\r\n        t2y=v2y-v0y;\r\n        t2z=v2z-v0z;\r\n        nx=t1y*t2z-t1z*t2y;\r\n        ny=t1z*t2x-t1x*t2z;\r\n        nz=t1x*t2y-t1y*t2x;\r\n        if(nx*v0x+ny*v0y+nz*v0z>0){\r\n        t1x=v1x;\r\n        t1y=v1y;\r\n        t1z=v1z;\r\n        v1x=v2x;\r\n        v1y=v2y;\r\n        v1z=v2z;\r\n        v2x=t1x;\r\n        v2y=t1y;\r\n        v2z=t1z;\r\n        t1x=v11x;\r\n        t1y=v11y;\r\n        t1z=v11z;\r\n        v11x=v21x;\r\n        v11y=v21y;\r\n        v11z=v21z;\r\n        v21x=t1x;\r\n        v21y=t1y;\r\n        v21z=t1z;\r\n        t1x=v12x;\r\n        t1y=v12y;\r\n        t1z=v12z;\r\n        v12x=v22x;\r\n        v12y=v22y;\r\n        v12z=v22z;\r\n        v22x=t1x;\r\n        v22y=t1y;\r\n        v22z=t1z;\r\n        nx=-nx;\r\n        ny=-ny;\r\n        nz=-nz;\r\n        }\r\n        var iterations=0;\r\n        while(true){\r\n        if(++iterations>100){\r\n        return false;\r\n        }\r\n        this.supportPointB(c1,-nx,-ny,-nz,sup);\r\n        var v31x=sup.x;\r\n        var v31y=sup.y;\r\n        var v31z=sup.z;\r\n        this.supportPointC(c2,nx,ny,nz,sup);\r\n        var v32x=sup.x;\r\n        var v32y=sup.y;\r\n        var v32z=sup.z;\r\n        var v3x=v32x-v31x;\r\n        var v3y=v32y-v31y;\r\n        var v3z=v32z-v31z;\r\n        if(v3x*nx+v3y*ny+v3z*nz<=0){\r\n        return false;\r\n        }\r\n        if((v1y*v3z-v1z*v3y)*v0x+(v1z*v3x-v1x*v3z)*v0y+(v1x*v3y-v1y*v3x)*v0z<0){\r\n        v2x=v3x;\r\n        v2y=v3y;\r\n        v2z=v3z;\r\n        v21x=v31x;\r\n        v21y=v31y;\r\n        v21z=v31z;\r\n        v22x=v32x;\r\n        v22y=v32y;\r\n        v22z=v32z;\r\n        t1x=v1x-v0x;\r\n        t1y=v1y-v0y;\r\n        t1z=v1z-v0z;\r\n        t2x=v3x-v0x;\r\n        t2y=v3y-v0y;\r\n        t2z=v3z-v0z;\r\n        nx=t1y*t2z-t1z*t2y;\r\n        ny=t1z*t2x-t1x*t2z;\r\n        nz=t1x*t2y-t1y*t2x;\r\n        continue;\r\n        }\r\n        if((v3y*v2z-v3z*v2y)*v0x+(v3z*v2x-v3x*v2z)*v0y+(v3x*v2y-v3y*v2x)*v0z<0){\r\n        v1x=v3x;\r\n        v1y=v3y;\r\n        v1z=v3z;\r\n        v11x=v31x;\r\n        v11y=v31y;\r\n        v11z=v31z;\r\n        v12x=v32x;\r\n        v12y=v32y;\r\n        v12z=v32z;\r\n        t1x=v3x-v0x;\r\n        t1y=v3y-v0y;\r\n        t1z=v3z-v0z;\r\n        t2x=v2x-v0x;\r\n        t2y=v2y-v0y;\r\n        t2z=v2z-v0z;\r\n        nx=t1y*t2z-t1z*t2y;\r\n        ny=t1z*t2x-t1x*t2z;\r\n        nz=t1x*t2y-t1y*t2x;\r\n        continue;\r\n        }\r\n        var hit=false;\r\n        while(true){\r\n        t1x=v2x-v1x;\r\n        t1y=v2y-v1y;\r\n        t1z=v2z-v1z;\r\n        t2x=v3x-v1x;\r\n        t2y=v3y-v1y;\r\n        t2z=v3z-v1z;\r\n        nx=t1y*t2z-t1z*t2y;\r\n        ny=t1z*t2x-t1x*t2z;\r\n        nz=t1x*t2y-t1y*t2x;\r\n        len=1/_Math.sqrt(nx*nx+ny*ny+nz*nz);\r\n        nx*=len;\r\n        ny*=len;\r\n        nz*=len;\r\n        if(nx*v1x+ny*v1y+nz*v1z>=0&&!hit){\r\n        var b0=(v1y*v2z-v1z*v2y)*v3x+(v1z*v2x-v1x*v2z)*v3y+(v1x*v2y-v1y*v2x)*v3z;\r\n        var b1=(v3y*v2z-v3z*v2y)*v0x+(v3z*v2x-v3x*v2z)*v0y+(v3x*v2y-v3y*v2x)*v0z;\r\n        var b2=(v0y*v1z-v0z*v1y)*v3x+(v0z*v1x-v0x*v1z)*v3y+(v0x*v1y-v0y*v1x)*v3z;\r\n        var b3=(v2y*v1z-v2z*v1y)*v0x+(v2z*v1x-v2x*v1z)*v0y+(v2x*v1y-v2y*v1x)*v0z;\r\n        var sum=b0+b1+b2+b3;\r\n        if(sum<=0){\r\n        b0=0;\r\n        b1=(v2y*v3z-v2z*v3y)*nx+(v2z*v3x-v2x*v3z)*ny+(v2x*v3y-v2y*v3x)*nz;\r\n        b2=(v3y*v2z-v3z*v2y)*nx+(v3z*v2x-v3x*v2z)*ny+(v3x*v2y-v3y*v2x)*nz;\r\n        b3=(v1y*v2z-v1z*v2y)*nx+(v1z*v2x-v1x*v2z)*ny+(v1x*v2y-v1y*v2x)*nz;\r\n        sum=b1+b2+b3;\r\n        }\r\n        var inv=1/sum;\r\n        p1x=(v01x*b0+v11x*b1+v21x*b2+v31x*b3)*inv;\r\n        p1y=(v01y*b0+v11y*b1+v21y*b2+v31y*b3)*inv;\r\n        p1z=(v01z*b0+v11z*b1+v21z*b2+v31z*b3)*inv;\r\n        p2x=(v02x*b0+v12x*b1+v22x*b2+v32x*b3)*inv;\r\n        p2y=(v02y*b0+v12y*b1+v22y*b2+v32y*b3)*inv;\r\n        p2z=(v02z*b0+v12z*b1+v22z*b2+v32z*b3)*inv;\r\n        hit=true;\r\n        }\r\n        this.supportPointB(c1,-nx,-ny,-nz,sup);\r\n        var v41x=sup.x;\r\n        var v41y=sup.y;\r\n        var v41z=sup.z;\r\n        this.supportPointC(c2,nx,ny,nz,sup);\r\n        var v42x=sup.x;\r\n        var v42y=sup.y;\r\n        var v42z=sup.z;\r\n        var v4x=v42x-v41x;\r\n        var v4y=v42y-v41y;\r\n        var v4z=v42z-v41z;\r\n        var separation=-(v4x*nx+v4y*ny+v4z*nz);\r\n        if((v4x-v3x)*nx+(v4y-v3y)*ny+(v4z-v3z)*nz<=0.01||separation>=0){\r\n        if(hit){\r\n        sep.set( -nx, -ny, -nz );\r\n        pos.set( (p1x+p2x)*0.5, (p1y+p2y)*0.5, (p1z+p2z)*0.5 );\r\n        dep.x=separation;\r\n        return true;\r\n        }\r\n        return false;\r\n        }\r\n        if(\r\n        (v4y*v1z-v4z*v1y)*v0x+\r\n        (v4z*v1x-v4x*v1z)*v0y+\r\n        (v4x*v1y-v4y*v1x)*v0z<0\r\n        ){\r\n        if(\r\n        (v4y*v2z-v4z*v2y)*v0x+\r\n        (v4z*v2x-v4x*v2z)*v0y+\r\n        (v4x*v2y-v4y*v2x)*v0z<0\r\n        ){\r\n        v1x=v4x;\r\n        v1y=v4y;\r\n        v1z=v4z;\r\n        v11x=v41x;\r\n        v11y=v41y;\r\n        v11z=v41z;\r\n        v12x=v42x;\r\n        v12y=v42y;\r\n        v12z=v42z;\r\n        }else{\r\n        v3x=v4x;\r\n        v3y=v4y;\r\n        v3z=v4z;\r\n        v31x=v41x;\r\n        v31y=v41y;\r\n        v31z=v41z;\r\n        v32x=v42x;\r\n        v32y=v42y;\r\n        v32z=v42z;\r\n        }\r\n        }else{\r\n        if(\r\n        (v4y*v3z-v4z*v3y)*v0x+\r\n        (v4z*v3x-v4x*v3z)*v0y+\r\n        (v4x*v3y-v4y*v3x)*v0z<0\r\n        ){\r\n        v2x=v4x;\r\n        v2y=v4y;\r\n        v2z=v4z;\r\n        v21x=v41x;\r\n        v21y=v41y;\r\n        v21z=v41z;\r\n        v22x=v42x;\r\n        v22y=v42y;\r\n        v22z=v42z;\r\n        }else{\r\n        v1x=v4x;\r\n        v1y=v4y;\r\n        v1z=v4z;\r\n        v11x=v41x;\r\n        v11y=v41y;\r\n        v11z=v41z;\r\n        v12x=v42x;\r\n        v12y=v42y;\r\n        v12z=v42z;\r\n    }\r\n    }\r\n    }\r\n    }\r\n    //return false;\r\n    },\r\n\r\n    supportPointB: function( c, dx, dy, dz, out ) {\r\n\r\n        var rot=c.rotation.elements;\r\n        var ldx=rot[0]*dx+rot[3]*dy+rot[6]*dz;\r\n        var ldy=rot[1]*dx+rot[4]*dy+rot[7]*dz;\r\n        var ldz=rot[2]*dx+rot[5]*dy+rot[8]*dz;\r\n        var w=c.halfWidth;\r\n        var h=c.halfHeight;\r\n        var d=c.halfDepth;\r\n        var ox;\r\n        var oy;\r\n        var oz;\r\n        if(ldx<0)ox=-w;\r\n        else ox=w;\r\n        if(ldy<0)oy=-h;\r\n        else oy=h;\r\n        if(ldz<0)oz=-d;\r\n        else oz=d;\r\n        ldx=rot[0]*ox+rot[1]*oy+rot[2]*oz+c.position.x;\r\n        ldy=rot[3]*ox+rot[4]*oy+rot[5]*oz+c.position.y;\r\n        ldz=rot[6]*ox+rot[7]*oy+rot[8]*oz+c.position.z;\r\n        out.set( ldx, ldy, ldz );\r\n\r\n    },\r\n\r\n    supportPointC: function ( c, dx, dy, dz, out ) {\r\n\r\n        var rot=c.rotation.elements;\r\n        var ldx=rot[0]*dx+rot[3]*dy+rot[6]*dz;\r\n        var ldy=rot[1]*dx+rot[4]*dy+rot[7]*dz;\r\n        var ldz=rot[2]*dx+rot[5]*dy+rot[8]*dz;\r\n        var radx=ldx;\r\n        var radz=ldz;\r\n        var len=radx*radx+radz*radz;\r\n        var rad=c.radius;\r\n        var hh=c.halfHeight;\r\n        var ox;\r\n        var oy;\r\n        var oz;\r\n        if(len==0){\r\n        if(ldy<0){\r\n        ox=rad;\r\n        oy=-hh;\r\n        oz=0;\r\n        }else{\r\n        ox=rad;\r\n        oy=hh;\r\n        oz=0;\r\n        }\r\n        }else{\r\n        len=c.radius/_Math.sqrt(len);\r\n        if(ldy<0){\r\n        ox=radx*len;\r\n        oy=-hh;\r\n        oz=radz*len;\r\n        }else{\r\n        ox=radx*len;\r\n        oy=hh;\r\n        oz=radz*len;\r\n        }\r\n        }\r\n        ldx=rot[0]*ox+rot[1]*oy+rot[2]*oz+c.position.x;\r\n        ldy=rot[3]*ox+rot[4]*oy+rot[5]*oz+c.position.y;\r\n        ldz=rot[6]*ox+rot[7]*oy+rot[8]*oz+c.position.z;\r\n        out.set( ldx, ldy, ldz );\r\n\r\n    },\r\n\r\n    detectCollision: function( shape1, shape2, manifold ) {\r\n\r\n        var b;\r\n        var c;\r\n        if(this.flip){\r\n        b=shape2;\r\n        c=shape1;\r\n        }else{\r\n        b=shape1;\r\n        c=shape2;\r\n        }\r\n        var sep=new Vec3();\r\n        var pos=new Vec3();\r\n        var dep=new Vec3();\r\n\r\n        if(!this.getSep(b,c,sep,pos,dep))return;\r\n        var pbx=b.position.x;\r\n        var pby=b.position.y;\r\n        var pbz=b.position.z;\r\n        var pcx=c.position.x;\r\n        var pcy=c.position.y;\r\n        var pcz=c.position.z;\r\n        var bw=b.halfWidth;\r\n        var bh=b.halfHeight;\r\n        var bd=b.halfDepth;\r\n        var ch=c.halfHeight;\r\n        var r=c.radius;\r\n\r\n        var D = b.dimentions;\r\n\r\n        var nwx=D[0];//b.normalDirectionWidth.x;\r\n        var nwy=D[1];//b.normalDirectionWidth.y;\r\n        var nwz=D[2];//b.normalDirectionWidth.z;\r\n        var nhx=D[3];//b.normalDirectionHeight.x;\r\n        var nhy=D[4];//b.normalDirectionHeight.y;\r\n        var nhz=D[5];//b.normalDirectionHeight.z;\r\n        var ndx=D[6];//b.normalDirectionDepth.x;\r\n        var ndy=D[7];//b.normalDirectionDepth.y;\r\n        var ndz=D[8];//b.normalDirectionDepth.z;\r\n\r\n        var dwx=D[9];//b.halfDirectionWidth.x;\r\n        var dwy=D[10];//b.halfDirectionWidth.y;\r\n        var dwz=D[11];//b.halfDirectionWidth.z;\r\n        var dhx=D[12];//b.halfDirectionHeight.x;\r\n        var dhy=D[13];//b.halfDirectionHeight.y;\r\n        var dhz=D[14];//b.halfDirectionHeight.z;\r\n        var ddx=D[15];//b.halfDirectionDepth.x;\r\n        var ddy=D[16];//b.halfDirectionDepth.y;\r\n        var ddz=D[17];//b.halfDirectionDepth.z;\r\n\r\n        var ncx=c.normalDirection.x;\r\n        var ncy=c.normalDirection.y;\r\n        var ncz=c.normalDirection.z;\r\n        var dcx=c.halfDirection.x;\r\n        var dcy=c.halfDirection.y;\r\n        var dcz=c.halfDirection.z;\r\n        var nx=sep.x;\r\n        var ny=sep.y;\r\n        var nz=sep.z;\r\n        var dotw=nx*nwx+ny*nwy+nz*nwz;\r\n        var doth=nx*nhx+ny*nhy+nz*nhz;\r\n        var dotd=nx*ndx+ny*ndy+nz*ndz;\r\n        var dotc=nx*ncx+ny*ncy+nz*ncz;\r\n        var right1=dotw>0;\r\n        var right2=doth>0;\r\n        var right3=dotd>0;\r\n        var right4=dotc>0;\r\n        if(!right1)dotw=-dotw;\r\n        if(!right2)doth=-doth;\r\n        if(!right3)dotd=-dotd;\r\n        if(!right4)dotc=-dotc;\r\n        var state=0;\r\n        if(dotc>0.999){\r\n        if(dotw>0.999){\r\n        if(dotw>dotc)state=1;\r\n        else state=4;\r\n        }else if(doth>0.999){\r\n        if(doth>dotc)state=2;\r\n        else state=4;\r\n        }else if(dotd>0.999){\r\n        if(dotd>dotc)state=3;\r\n        else state=4;\r\n        }else state=4;\r\n        }else{\r\n        if(dotw>0.999)state=1;\r\n        else if(doth>0.999)state=2;\r\n        else if(dotd>0.999)state=3;\r\n        }\r\n        var cbx;\r\n        var cby;\r\n        var cbz;\r\n        var ccx;\r\n        var ccy;\r\n        var ccz;\r\n        var r00;\r\n        var r01;\r\n        var r02;\r\n        var r10;\r\n        var r11;\r\n        var r12;\r\n        var r20;\r\n        var r21;\r\n        var r22;\r\n        var px;\r\n        var py;\r\n        var pz;\r\n        var pd;\r\n        var dot;\r\n        var len;\r\n        var tx;\r\n        var ty;\r\n        var tz;\r\n        var td;\r\n        var dx;\r\n        var dy;\r\n        var dz;\r\n        var d1x;\r\n        var d1y;\r\n        var d1z;\r\n        var d2x;\r\n        var d2y;\r\n        var d2z;\r\n        var sx;\r\n        var sy;\r\n        var sz;\r\n        var sd;\r\n        var ex;\r\n        var ey;\r\n        var ez;\r\n        var ed;\r\n        var dot1;\r\n        var dot2;\r\n        var t1;\r\n        var dir1x;\r\n        var dir1y;\r\n        var dir1z;\r\n        var dir2x;\r\n        var dir2y;\r\n        var dir2z;\r\n        var dir1l;\r\n        var dir2l;\r\n        if(state==0){\r\n        //manifold.addPoint(pos.x,pos.y,pos.z,nx,ny,nz,dep.x,b,c,0,0,false);\r\n        manifold.addPoint(pos.x,pos.y,pos.z,nx,ny,nz,dep.x,this.flip);\r\n        }else if(state==4){\r\n        if(right4){\r\n        ccx=pcx-dcx;\r\n        ccy=pcy-dcy;\r\n        ccz=pcz-dcz;\r\n        nx=-ncx;\r\n        ny=-ncy;\r\n        nz=-ncz;\r\n        }else{\r\n        ccx=pcx+dcx;\r\n        ccy=pcy+dcy;\r\n        ccz=pcz+dcz;\r\n        nx=ncx;\r\n        ny=ncy;\r\n        nz=ncz;\r\n        }\r\n        var v1x;\r\n        var v1y;\r\n        var v1z;\r\n        var v2x;\r\n        var v2y;\r\n        var v2z;\r\n        var v3x;\r\n        var v3y;\r\n        var v3z;\r\n        var v4x;\r\n        var v4y;\r\n        var v4z;\r\n        \r\n        dot=1;\r\n        state=0;\r\n        dot1=nwx*nx+nwy*ny+nwz*nz;\r\n        if(dot1<dot){\r\n        dot=dot1;\r\n        state=0;\r\n        }\r\n        if(-dot1<dot){\r\n        dot=-dot1;\r\n        state=1;\r\n        }\r\n        dot1=nhx*nx+nhy*ny+nhz*nz;\r\n        if(dot1<dot){\r\n        dot=dot1;\r\n        state=2;\r\n        }\r\n        if(-dot1<dot){\r\n        dot=-dot1;\r\n        state=3;\r\n        }\r\n        dot1=ndx*nx+ndy*ny+ndz*nz;\r\n        if(dot1<dot){\r\n        dot=dot1;\r\n        state=4;\r\n        }\r\n        if(-dot1<dot){\r\n        dot=-dot1;\r\n        state=5;\r\n        }\r\n        var v = b.elements;\r\n        switch(state){\r\n        case 0:\r\n        //v=b.vertex1;\r\n        v1x=v[0];//v.x;\r\n        v1y=v[1];//v.y;\r\n        v1z=v[2];//v.z;\r\n        //v=b.vertex3;\r\n        v2x=v[6];//v.x;\r\n        v2y=v[7];//v.y;\r\n        v2z=v[8];//v.z;\r\n        //v=b.vertex4;\r\n        v3x=v[9];//v.x;\r\n        v3y=v[10];//v.y;\r\n        v3z=v[11];//v.z;\r\n        //v=b.vertex2;\r\n        v4x=v[3];//v.x;\r\n        v4y=v[4];//v.y;\r\n        v4z=v[5];//v.z;\r\n        break;\r\n        case 1:\r\n        //v=b.vertex6;\r\n        v1x=v[15];//v.x;\r\n        v1y=v[16];//v.y;\r\n        v1z=v[17];//v.z;\r\n        //v=b.vertex8;\r\n        v2x=v[21];//v.x;\r\n        v2y=v[22];//v.y;\r\n        v2z=v[23];//v.z;\r\n        //v=b.vertex7;\r\n        v3x=v[18];//v.x;\r\n        v3y=v[19];//v.y;\r\n        v3z=v[20];//v.z;\r\n        //v=b.vertex5;\r\n        v4x=v[12];//v.x;\r\n        v4y=v[13];//v.y;\r\n        v4z=v[14];//v.z;\r\n        break;\r\n        case 2:\r\n        //v=b.vertex5;\r\n        v1x=v[12];//v.x;\r\n        v1y=v[13];//v.y;\r\n        v1z=v[14];//v.z;\r\n        //v=b.vertex1;\r\n        v2x=v[0];//v.x;\r\n        v2y=v[1];//v.y;\r\n        v2z=v[2];//v.z;\r\n        //v=b.vertex2;\r\n        v3x=v[3];//v.x;\r\n        v3y=v[4];//v.y;\r\n        v3z=v[5];//v.z;\r\n        //v=b.vertex6;\r\n        v4x=v[15];//v.x;\r\n        v4y=v[16];//v.y;\r\n        v4z=v[17];//v.z;\r\n        break;\r\n        case 3:\r\n        //v=b.vertex8;\r\n        v1x=v[21];//v.x;\r\n        v1y=v[22];//v.y;\r\n        v1z=v[23];//v.z;\r\n        //v=b.vertex4;\r\n        v2x=v[9];//v.x;\r\n        v2y=v[10];//v.y;\r\n        v2z=v[11];//v.z;\r\n        //v=b.vertex3;\r\n        v3x=v[6];//v.x;\r\n        v3y=v[7];//v.y;\r\n        v3z=v[8];//v.z;\r\n        //v=b.vertex7;\r\n        v4x=v[18];//v.x;\r\n        v4y=v[19];//v.y;\r\n        v4z=v[20];//v.z;\r\n        break;\r\n        case 4:\r\n        //v=b.vertex5;\r\n        v1x=v[12];//v.x;\r\n        v1y=v[13];//v.y;\r\n        v1z=v[14];//v.z;\r\n        //v=b.vertex7;\r\n        v2x=v[18];//v.x;\r\n        v2y=v[19];//v.y;\r\n        v2z=v[20];//v.z;\r\n        //v=b.vertex3;\r\n        v3x=v[6];//v.x;\r\n        v3y=v[7];//v.y;\r\n        v3z=v[8];//v.z;\r\n        //v=b.vertex1;\r\n        v4x=v[0];//v.x;\r\n        v4y=v[1];//v.y;\r\n        v4z=v[2];//v.z;\r\n        break;\r\n        case 5:\r\n        //v=b.vertex2;\r\n        v1x=v[3];//v.x;\r\n        v1y=v[4];//v.y;\r\n        v1z=v[5];//v.z;\r\n        //v=b.vertex4;\r\n        v2x=v[9];//v.x;\r\n        v2y=v[10];//v.y;\r\n        v2z=v[11];//v.z;\r\n        //v=b.vertex8;\r\n        v3x=v[21];//v.x;\r\n        v3y=v[22];//v.y;\r\n        v3z=v[23];//v.z;\r\n        //v=b.vertex6;\r\n        v4x=v[15];//v.x;\r\n        v4y=v[16];//v.y;\r\n        v4z=v[17];//v.z;\r\n        break;\r\n        }\r\n        pd=nx*(v1x-ccx)+ny*(v1y-ccy)+nz*(v1z-ccz);\r\n        if(pd<=0)manifold.addPoint(v1x,v1y,v1z,-nx,-ny,-nz,pd,this.flip);\r\n        pd=nx*(v2x-ccx)+ny*(v2y-ccy)+nz*(v2z-ccz);\r\n        if(pd<=0)manifold.addPoint(v2x,v2y,v2z,-nx,-ny,-nz,pd,this.flip);\r\n        pd=nx*(v3x-ccx)+ny*(v3y-ccy)+nz*(v3z-ccz);\r\n        if(pd<=0)manifold.addPoint(v3x,v3y,v3z,-nx,-ny,-nz,pd,this.flip);\r\n        pd=nx*(v4x-ccx)+ny*(v4y-ccy)+nz*(v4z-ccz);\r\n        if(pd<=0)manifold.addPoint(v4x,v4y,v4z,-nx,-ny,-nz,pd,this.flip);\r\n        }else{\r\n        switch(state){\r\n        case 1:\r\n        if(right1){\r\n        cbx=pbx+dwx;\r\n        cby=pby+dwy;\r\n        cbz=pbz+dwz;\r\n        nx=nwx;\r\n        ny=nwy;\r\n        nz=nwz;\r\n        }else{\r\n        cbx=pbx-dwx;\r\n        cby=pby-dwy;\r\n        cbz=pbz-dwz;\r\n        nx=-nwx;\r\n        ny=-nwy;\r\n        nz=-nwz;\r\n        }\r\n        dir1x=nhx;\r\n        dir1y=nhy;\r\n        dir1z=nhz;\r\n        dir1l=bh;\r\n        dir2x=ndx;\r\n        dir2y=ndy;\r\n        dir2z=ndz;\r\n        dir2l=bd;\r\n        break;\r\n        case 2:\r\n        if(right2){\r\n        cbx=pbx+dhx;\r\n        cby=pby+dhy;\r\n        cbz=pbz+dhz;\r\n        nx=nhx;\r\n        ny=nhy;\r\n        nz=nhz;\r\n        }else{\r\n        cbx=pbx-dhx;\r\n        cby=pby-dhy;\r\n        cbz=pbz-dhz;\r\n        nx=-nhx;\r\n        ny=-nhy;\r\n        nz=-nhz;\r\n        }\r\n        dir1x=nwx;\r\n        dir1y=nwy;\r\n        dir1z=nwz;\r\n        dir1l=bw;\r\n        dir2x=ndx;\r\n        dir2y=ndy;\r\n        dir2z=ndz;\r\n        dir2l=bd;\r\n        break;\r\n        case 3:\r\n        if(right3){\r\n        cbx=pbx+ddx;\r\n        cby=pby+ddy;\r\n        cbz=pbz+ddz;\r\n        nx=ndx;\r\n        ny=ndy;\r\n        nz=ndz;\r\n        }else{\r\n        cbx=pbx-ddx;\r\n        cby=pby-ddy;\r\n        cbz=pbz-ddz;\r\n        nx=-ndx;\r\n        ny=-ndy;\r\n        nz=-ndz;\r\n        }\r\n        dir1x=nwx;\r\n        dir1y=nwy;\r\n        dir1z=nwz;\r\n        dir1l=bw;\r\n        dir2x=nhx;\r\n        dir2y=nhy;\r\n        dir2z=nhz;\r\n        dir2l=bh;\r\n        break;\r\n        }\r\n        dot=nx*ncx+ny*ncy+nz*ncz;\r\n        if(dot<0)len=ch;\r\n        else len=-ch;\r\n        ccx=pcx+len*ncx;\r\n        ccy=pcy+len*ncy;\r\n        ccz=pcz+len*ncz;\r\n        if(dotc>=0.999999){\r\n        tx=-ny;\r\n        ty=nz;\r\n        tz=nx;\r\n        }else{\r\n        tx=nx;\r\n        ty=ny;\r\n        tz=nz;\r\n        }\r\n        len=tx*ncx+ty*ncy+tz*ncz;\r\n        dx=len*ncx-tx;\r\n        dy=len*ncy-ty;\r\n        dz=len*ncz-tz;\r\n        len=_Math.sqrt(dx*dx+dy*dy+dz*dz);\r\n        if(len==0)return;\r\n        len=r/len;\r\n        dx*=len;\r\n        dy*=len;\r\n        dz*=len;\r\n        tx=ccx+dx;\r\n        ty=ccy+dy;\r\n        tz=ccz+dz;\r\n        if(dot<-0.96||dot>0.96){\r\n        r00=ncx*ncx*1.5-0.5;\r\n        r01=ncx*ncy*1.5-ncz*0.866025403;\r\n        r02=ncx*ncz*1.5+ncy*0.866025403;\r\n        r10=ncy*ncx*1.5+ncz*0.866025403;\r\n        r11=ncy*ncy*1.5-0.5;\r\n        r12=ncy*ncz*1.5-ncx*0.866025403;\r\n        r20=ncz*ncx*1.5-ncy*0.866025403;\r\n        r21=ncz*ncy*1.5+ncx*0.866025403;\r\n        r22=ncz*ncz*1.5-0.5;\r\n        px=tx;\r\n        py=ty;\r\n        pz=tz;\r\n        pd=nx*(px-cbx)+ny*(py-cby)+nz*(pz-cbz);\r\n        tx=px-pd*nx-cbx;\r\n        ty=py-pd*ny-cby;\r\n        tz=pz-pd*nz-cbz;\r\n        sd=dir1x*tx+dir1y*ty+dir1z*tz;\r\n        ed=dir2x*tx+dir2y*ty+dir2z*tz;\r\n        if(sd<-dir1l)sd=-dir1l;\r\n        else if(sd>dir1l)sd=dir1l;\r\n        if(ed<-dir2l)ed=-dir2l;\r\n        else if(ed>dir2l)ed=dir2l;\r\n        tx=sd*dir1x+ed*dir2x;\r\n        ty=sd*dir1y+ed*dir2y;\r\n        tz=sd*dir1z+ed*dir2z;\r\n        px=cbx+tx;\r\n        py=cby+ty;\r\n        pz=cbz+tz;\r\n        manifold.addPoint(px,py,pz,nx,ny,nz,pd,this.flip);\r\n        px=dx*r00+dy*r01+dz*r02;\r\n        py=dx*r10+dy*r11+dz*r12;\r\n        pz=dx*r20+dy*r21+dz*r22;\r\n        px=(dx=px)+ccx;\r\n        py=(dy=py)+ccy;\r\n        pz=(dz=pz)+ccz;\r\n        pd=nx*(px-cbx)+ny*(py-cby)+nz*(pz-cbz);\r\n        if(pd<=0){\r\n        tx=px-pd*nx-cbx;\r\n        ty=py-pd*ny-cby;\r\n        tz=pz-pd*nz-cbz;\r\n        sd=dir1x*tx+dir1y*ty+dir1z*tz;\r\n        ed=dir2x*tx+dir2y*ty+dir2z*tz;\r\n        if(sd<-dir1l)sd=-dir1l;\r\n        else if(sd>dir1l)sd=dir1l;\r\n        if(ed<-dir2l)ed=-dir2l;\r\n        else if(ed>dir2l)ed=dir2l;\r\n        tx=sd*dir1x+ed*dir2x;\r\n        ty=sd*dir1y+ed*dir2y;\r\n        tz=sd*dir1z+ed*dir2z;\r\n        px=cbx+tx;\r\n        py=cby+ty;\r\n        pz=cbz+tz;\r\n        //manifold.addPoint(px,py,pz,nx,ny,nz,pd,b,c,2,0,false);\r\n        manifold.addPoint(px,py,pz,nx,ny,nz,pd,this.flip);\r\n        }\r\n        px=dx*r00+dy*r01+dz*r02;\r\n        py=dx*r10+dy*r11+dz*r12;\r\n        pz=dx*r20+dy*r21+dz*r22;\r\n        px=(dx=px)+ccx;\r\n        py=(dy=py)+ccy;\r\n        pz=(dz=pz)+ccz;\r\n        pd=nx*(px-cbx)+ny*(py-cby)+nz*(pz-cbz);\r\n        if(pd<=0){\r\n        tx=px-pd*nx-cbx;\r\n        ty=py-pd*ny-cby;\r\n        tz=pz-pd*nz-cbz;\r\n        sd=dir1x*tx+dir1y*ty+dir1z*tz;\r\n        ed=dir2x*tx+dir2y*ty+dir2z*tz;\r\n        if(sd<-dir1l)sd=-dir1l;\r\n        else if(sd>dir1l)sd=dir1l;\r\n        if(ed<-dir2l)ed=-dir2l;\r\n        else if(ed>dir2l)ed=dir2l;\r\n        tx=sd*dir1x+ed*dir2x;\r\n        ty=sd*dir1y+ed*dir2y;\r\n        tz=sd*dir1z+ed*dir2z;\r\n        px=cbx+tx;\r\n        py=cby+ty;\r\n        pz=cbz+tz;\r\n        //manifold.addPoint(px,py,pz,nx,ny,nz,pd,b,c,3,0,false);\r\n        manifold.addPoint(px,py,pz,nx,ny,nz,pd,this.flip);\r\n        }\r\n        }else{\r\n        sx=tx;\r\n        sy=ty;\r\n        sz=tz;\r\n        sd=nx*(sx-cbx)+ny*(sy-cby)+nz*(sz-cbz);\r\n        sx-=sd*nx;\r\n        sy-=sd*ny;\r\n        sz-=sd*nz;\r\n        if(dot>0){\r\n        ex=tx+dcx*2;\r\n        ey=ty+dcy*2;\r\n        ez=tz+dcz*2;\r\n        }else{\r\n        ex=tx-dcx*2;\r\n        ey=ty-dcy*2;\r\n        ez=tz-dcz*2;\r\n        }\r\n        ed=nx*(ex-cbx)+ny*(ey-cby)+nz*(ez-cbz);\r\n        ex-=ed*nx;\r\n        ey-=ed*ny;\r\n        ez-=ed*nz;\r\n        d1x=sx-cbx;\r\n        d1y=sy-cby;\r\n        d1z=sz-cbz;\r\n        d2x=ex-cbx;\r\n        d2y=ey-cby;\r\n        d2z=ez-cbz;\r\n        tx=ex-sx;\r\n        ty=ey-sy;\r\n        tz=ez-sz;\r\n        td=ed-sd;\r\n        dotw=d1x*dir1x+d1y*dir1y+d1z*dir1z;\r\n        doth=d2x*dir1x+d2y*dir1y+d2z*dir1z;\r\n        dot1=dotw-dir1l;\r\n        dot2=doth-dir1l;\r\n        if(dot1>0){\r\n        if(dot2>0)return;\r\n        t1=dot1/(dot1-dot2);\r\n        sx=sx+tx*t1;\r\n        sy=sy+ty*t1;\r\n        sz=sz+tz*t1;\r\n        sd=sd+td*t1;\r\n        d1x=sx-cbx;\r\n        d1y=sy-cby;\r\n        d1z=sz-cbz;\r\n        dotw=d1x*dir1x+d1y*dir1y+d1z*dir1z;\r\n        tx=ex-sx;\r\n        ty=ey-sy;\r\n        tz=ez-sz;\r\n        td=ed-sd;\r\n        }else if(dot2>0){\r\n        t1=dot1/(dot1-dot2);\r\n        ex=sx+tx*t1;\r\n        ey=sy+ty*t1;\r\n        ez=sz+tz*t1;\r\n        ed=sd+td*t1;\r\n        d2x=ex-cbx;\r\n        d2y=ey-cby;\r\n        d2z=ez-cbz;\r\n        doth=d2x*dir1x+d2y*dir1y+d2z*dir1z;\r\n        tx=ex-sx;\r\n        ty=ey-sy;\r\n        tz=ez-sz;\r\n        td=ed-sd;\r\n        }\r\n        dot1=dotw+dir1l;\r\n        dot2=doth+dir1l;\r\n        if(dot1<0){\r\n        if(dot2<0)return;\r\n        t1=dot1/(dot1-dot2);\r\n        sx=sx+tx*t1;\r\n        sy=sy+ty*t1;\r\n        sz=sz+tz*t1;\r\n        sd=sd+td*t1;\r\n        d1x=sx-cbx;\r\n        d1y=sy-cby;\r\n        d1z=sz-cbz;\r\n        tx=ex-sx;\r\n        ty=ey-sy;\r\n        tz=ez-sz;\r\n        td=ed-sd;\r\n        }else if(dot2<0){\r\n        t1=dot1/(dot1-dot2);\r\n        ex=sx+tx*t1;\r\n        ey=sy+ty*t1;\r\n        ez=sz+tz*t1;\r\n        ed=sd+td*t1;\r\n        d2x=ex-cbx;\r\n        d2y=ey-cby;\r\n        d2z=ez-cbz;\r\n        tx=ex-sx;\r\n        ty=ey-sy;\r\n        tz=ez-sz;\r\n        td=ed-sd;\r\n        }\r\n        dotw=d1x*dir2x+d1y*dir2y+d1z*dir2z;\r\n        doth=d2x*dir2x+d2y*dir2y+d2z*dir2z;\r\n        dot1=dotw-dir2l;\r\n        dot2=doth-dir2l;\r\n        if(dot1>0){\r\n        if(dot2>0)return;\r\n        t1=dot1/(dot1-dot2);\r\n        sx=sx+tx*t1;\r\n        sy=sy+ty*t1;\r\n        sz=sz+tz*t1;\r\n        sd=sd+td*t1;\r\n        d1x=sx-cbx;\r\n        d1y=sy-cby;\r\n        d1z=sz-cbz;\r\n        dotw=d1x*dir2x+d1y*dir2y+d1z*dir2z;\r\n        tx=ex-sx;\r\n        ty=ey-sy;\r\n        tz=ez-sz;\r\n        td=ed-sd;\r\n        }else if(dot2>0){\r\n        t1=dot1/(dot1-dot2);\r\n        ex=sx+tx*t1;\r\n        ey=sy+ty*t1;\r\n        ez=sz+tz*t1;\r\n        ed=sd+td*t1;\r\n        d2x=ex-cbx;\r\n        d2y=ey-cby;\r\n        d2z=ez-cbz;\r\n        doth=d2x*dir2x+d2y*dir2y+d2z*dir2z;\r\n        tx=ex-sx;\r\n        ty=ey-sy;\r\n        tz=ez-sz;\r\n        td=ed-sd;\r\n        }\r\n        dot1=dotw+dir2l;\r\n        dot2=doth+dir2l;\r\n        if(dot1<0){\r\n        if(dot2<0)return;\r\n        t1=dot1/(dot1-dot2);\r\n        sx=sx+tx*t1;\r\n        sy=sy+ty*t1;\r\n        sz=sz+tz*t1;\r\n        sd=sd+td*t1;\r\n        }else if(dot2<0){\r\n        t1=dot1/(dot1-dot2);\r\n        ex=sx+tx*t1;\r\n        ey=sy+ty*t1;\r\n        ez=sz+tz*t1;\r\n        ed=sd+td*t1;\r\n        }\r\n        if(sd<0){\r\n        //manifold.addPoint(sx,sy,sz,nx,ny,nz,sd,b,c,1,0,false);\r\n        manifold.addPoint(sx,sy,sz,nx,ny,nz,sd,this.flip);\r\n        }\r\n        if(ed<0){\r\n        //manifold.addPoint(ex,ey,ez,nx,ny,nz,ed,b,c,4,0,false);\r\n        manifold.addPoint(ex,ey,ez,nx,ny,nz,ed,this.flip);\r\n        }\r\n        }\r\n        }\r\n\r\n    }\r\n\r\n    });\n\nfunction CylinderCylinderCollisionDetector() {\r\n    \r\n    CollisionDetector.call( this );\r\n\r\n}\r\n\r\nCylinderCylinderCollisionDetector.prototype = Object.assign( Object.create( CollisionDetector.prototype ), {\r\n\r\n    constructor: CylinderCylinderCollisionDetector,\r\n\r\n\r\n    getSep: function ( c1, c2, sep, pos, dep ) {\r\n\r\n        var t1x;\r\n        var t1y;\r\n        var t1z;\r\n        var t2x;\r\n        var t2y;\r\n        var t2z;\r\n        var sup=new Vec3();\r\n        var len;\r\n        var p1x;\r\n        var p1y;\r\n        var p1z;\r\n        var p2x;\r\n        var p2y;\r\n        var p2z;\r\n        var v01x=c1.position.x;\r\n        var v01y=c1.position.y;\r\n        var v01z=c1.position.z;\r\n        var v02x=c2.position.x;\r\n        var v02y=c2.position.y;\r\n        var v02z=c2.position.z;\r\n        var v0x=v02x-v01x;\r\n        var v0y=v02y-v01y;\r\n        var v0z=v02z-v01z;\r\n        if(v0x*v0x+v0y*v0y+v0z*v0z==0)v0y=0.001;\r\n        var nx=-v0x;\r\n        var ny=-v0y;\r\n        var nz=-v0z;\r\n        this.supportPoint(c1,-nx,-ny,-nz,sup);\r\n        var v11x=sup.x;\r\n        var v11y=sup.y;\r\n        var v11z=sup.z;\r\n        this.supportPoint(c2,nx,ny,nz,sup);\r\n        var v12x=sup.x;\r\n        var v12y=sup.y;\r\n        var v12z=sup.z;\r\n        var v1x=v12x-v11x;\r\n        var v1y=v12y-v11y;\r\n        var v1z=v12z-v11z;\r\n        if(v1x*nx+v1y*ny+v1z*nz<=0){\r\n        return false;\r\n        }\r\n        nx=v1y*v0z-v1z*v0y;\r\n        ny=v1z*v0x-v1x*v0z;\r\n        nz=v1x*v0y-v1y*v0x;\r\n        if(nx*nx+ny*ny+nz*nz==0){\r\n        sep.set( v1x-v0x, v1y-v0y, v1z-v0z ).normalize();\r\n        pos.set( (v11x+v12x)*0.5, (v11y+v12y)*0.5, (v11z+v12z)*0.5 );\r\n        return true;\r\n        }\r\n        this.supportPoint(c1,-nx,-ny,-nz,sup);\r\n        var v21x=sup.x;\r\n        var v21y=sup.y;\r\n        var v21z=sup.z;\r\n        this.supportPoint(c2,nx,ny,nz,sup);\r\n        var v22x=sup.x;\r\n        var v22y=sup.y;\r\n        var v22z=sup.z;\r\n        var v2x=v22x-v21x;\r\n        var v2y=v22y-v21y;\r\n        var v2z=v22z-v21z;\r\n        if(v2x*nx+v2y*ny+v2z*nz<=0){\r\n        return false;\r\n        }\r\n        t1x=v1x-v0x;\r\n        t1y=v1y-v0y;\r\n        t1z=v1z-v0z;\r\n        t2x=v2x-v0x;\r\n        t2y=v2y-v0y;\r\n        t2z=v2z-v0z;\r\n        nx=t1y*t2z-t1z*t2y;\r\n        ny=t1z*t2x-t1x*t2z;\r\n        nz=t1x*t2y-t1y*t2x;\r\n        if(nx*v0x+ny*v0y+nz*v0z>0){\r\n        t1x=v1x;\r\n        t1y=v1y;\r\n        t1z=v1z;\r\n        v1x=v2x;\r\n        v1y=v2y;\r\n        v1z=v2z;\r\n        v2x=t1x;\r\n        v2y=t1y;\r\n        v2z=t1z;\r\n        t1x=v11x;\r\n        t1y=v11y;\r\n        t1z=v11z;\r\n        v11x=v21x;\r\n        v11y=v21y;\r\n        v11z=v21z;\r\n        v21x=t1x;\r\n        v21y=t1y;\r\n        v21z=t1z;\r\n        t1x=v12x;\r\n        t1y=v12y;\r\n        t1z=v12z;\r\n        v12x=v22x;\r\n        v12y=v22y;\r\n        v12z=v22z;\r\n        v22x=t1x;\r\n        v22y=t1y;\r\n        v22z=t1z;\r\n        nx=-nx;\r\n        ny=-ny;\r\n        nz=-nz;\r\n        }\r\n        var iterations=0;\r\n        while(true){\r\n        if(++iterations>100){\r\n        return false;\r\n        }\r\n        this.supportPoint(c1,-nx,-ny,-nz,sup);\r\n        var v31x=sup.x;\r\n        var v31y=sup.y;\r\n        var v31z=sup.z;\r\n        this.supportPoint(c2,nx,ny,nz,sup);\r\n        var v32x=sup.x;\r\n        var v32y=sup.y;\r\n        var v32z=sup.z;\r\n        var v3x=v32x-v31x;\r\n        var v3y=v32y-v31y;\r\n        var v3z=v32z-v31z;\r\n        if(v3x*nx+v3y*ny+v3z*nz<=0){\r\n        return false;\r\n        }\r\n        if((v1y*v3z-v1z*v3y)*v0x+(v1z*v3x-v1x*v3z)*v0y+(v1x*v3y-v1y*v3x)*v0z<0){\r\n        v2x=v3x;\r\n        v2y=v3y;\r\n        v2z=v3z;\r\n        v21x=v31x;\r\n        v21y=v31y;\r\n        v21z=v31z;\r\n        v22x=v32x;\r\n        v22y=v32y;\r\n        v22z=v32z;\r\n        t1x=v1x-v0x;\r\n        t1y=v1y-v0y;\r\n        t1z=v1z-v0z;\r\n        t2x=v3x-v0x;\r\n        t2y=v3y-v0y;\r\n        t2z=v3z-v0z;\r\n        nx=t1y*t2z-t1z*t2y;\r\n        ny=t1z*t2x-t1x*t2z;\r\n        nz=t1x*t2y-t1y*t2x;\r\n        continue;\r\n        }\r\n        if((v3y*v2z-v3z*v2y)*v0x+(v3z*v2x-v3x*v2z)*v0y+(v3x*v2y-v3y*v2x)*v0z<0){\r\n        v1x=v3x;\r\n        v1y=v3y;\r\n        v1z=v3z;\r\n        v11x=v31x;\r\n        v11y=v31y;\r\n        v11z=v31z;\r\n        v12x=v32x;\r\n        v12y=v32y;\r\n        v12z=v32z;\r\n        t1x=v3x-v0x;\r\n        t1y=v3y-v0y;\r\n        t1z=v3z-v0z;\r\n        t2x=v2x-v0x;\r\n        t2y=v2y-v0y;\r\n        t2z=v2z-v0z;\r\n        nx=t1y*t2z-t1z*t2y;\r\n        ny=t1z*t2x-t1x*t2z;\r\n        nz=t1x*t2y-t1y*t2x;\r\n        continue;\r\n        }\r\n        var hit=false;\r\n        while(true){\r\n        t1x=v2x-v1x;\r\n        t1y=v2y-v1y;\r\n        t1z=v2z-v1z;\r\n        t2x=v3x-v1x;\r\n        t2y=v3y-v1y;\r\n        t2z=v3z-v1z;\r\n        nx=t1y*t2z-t1z*t2y;\r\n        ny=t1z*t2x-t1x*t2z;\r\n        nz=t1x*t2y-t1y*t2x;\r\n        len=1/_Math.sqrt(nx*nx+ny*ny+nz*nz);\r\n        nx*=len;\r\n        ny*=len;\r\n        nz*=len;\r\n        if(nx*v1x+ny*v1y+nz*v1z>=0&&!hit){\r\n        var b0=(v1y*v2z-v1z*v2y)*v3x+(v1z*v2x-v1x*v2z)*v3y+(v1x*v2y-v1y*v2x)*v3z;\r\n        var b1=(v3y*v2z-v3z*v2y)*v0x+(v3z*v2x-v3x*v2z)*v0y+(v3x*v2y-v3y*v2x)*v0z;\r\n        var b2=(v0y*v1z-v0z*v1y)*v3x+(v0z*v1x-v0x*v1z)*v3y+(v0x*v1y-v0y*v1x)*v3z;\r\n        var b3=(v2y*v1z-v2z*v1y)*v0x+(v2z*v1x-v2x*v1z)*v0y+(v2x*v1y-v2y*v1x)*v0z;\r\n        var sum=b0+b1+b2+b3;\r\n        if(sum<=0){\r\n        b0=0;\r\n        b1=(v2y*v3z-v2z*v3y)*nx+(v2z*v3x-v2x*v3z)*ny+(v2x*v3y-v2y*v3x)*nz;\r\n        b2=(v3y*v2z-v3z*v2y)*nx+(v3z*v2x-v3x*v2z)*ny+(v3x*v2y-v3y*v2x)*nz;\r\n        b3=(v1y*v2z-v1z*v2y)*nx+(v1z*v2x-v1x*v2z)*ny+(v1x*v2y-v1y*v2x)*nz;\r\n        sum=b1+b2+b3;\r\n        }\r\n        var inv=1/sum;\r\n        p1x=(v01x*b0+v11x*b1+v21x*b2+v31x*b3)*inv;\r\n        p1y=(v01y*b0+v11y*b1+v21y*b2+v31y*b3)*inv;\r\n        p1z=(v01z*b0+v11z*b1+v21z*b2+v31z*b3)*inv;\r\n        p2x=(v02x*b0+v12x*b1+v22x*b2+v32x*b3)*inv;\r\n        p2y=(v02y*b0+v12y*b1+v22y*b2+v32y*b3)*inv;\r\n        p2z=(v02z*b0+v12z*b1+v22z*b2+v32z*b3)*inv;\r\n        hit=true;\r\n        }\r\n        this.supportPoint(c1,-nx,-ny,-nz,sup);\r\n        var v41x=sup.x;\r\n        var v41y=sup.y;\r\n        var v41z=sup.z;\r\n        this.supportPoint(c2,nx,ny,nz,sup);\r\n        var v42x=sup.x;\r\n        var v42y=sup.y;\r\n        var v42z=sup.z;\r\n        var v4x=v42x-v41x;\r\n        var v4y=v42y-v41y;\r\n        var v4z=v42z-v41z;\r\n        var separation=-(v4x*nx+v4y*ny+v4z*nz);\r\n        if((v4x-v3x)*nx+(v4y-v3y)*ny+(v4z-v3z)*nz<=0.01||separation>=0){\r\n        if(hit){\r\n        sep.set( -nx, -ny, -nz );\r\n        pos.set( (p1x+p2x)*0.5, (p1y+p2y)*0.5, (p1z+p2z)*0.5 );\r\n        dep.x=separation;\r\n        return true;\r\n        }\r\n        return false;\r\n        }\r\n        if(\r\n        (v4y*v1z-v4z*v1y)*v0x+\r\n        (v4z*v1x-v4x*v1z)*v0y+\r\n        (v4x*v1y-v4y*v1x)*v0z<0\r\n        ){\r\n        if(\r\n        (v4y*v2z-v4z*v2y)*v0x+\r\n        (v4z*v2x-v4x*v2z)*v0y+\r\n        (v4x*v2y-v4y*v2x)*v0z<0\r\n        ){\r\n        v1x=v4x;\r\n        v1y=v4y;\r\n        v1z=v4z;\r\n        v11x=v41x;\r\n        v11y=v41y;\r\n        v11z=v41z;\r\n        v12x=v42x;\r\n        v12y=v42y;\r\n        v12z=v42z;\r\n        }else{\r\n        v3x=v4x;\r\n        v3y=v4y;\r\n        v3z=v4z;\r\n        v31x=v41x;\r\n        v31y=v41y;\r\n        v31z=v41z;\r\n        v32x=v42x;\r\n        v32y=v42y;\r\n        v32z=v42z;\r\n        }\r\n        }else{\r\n        if(\r\n        (v4y*v3z-v4z*v3y)*v0x+\r\n        (v4z*v3x-v4x*v3z)*v0y+\r\n        (v4x*v3y-v4y*v3x)*v0z<0\r\n        ){\r\n        v2x=v4x;\r\n        v2y=v4y;\r\n        v2z=v4z;\r\n        v21x=v41x;\r\n        v21y=v41y;\r\n        v21z=v41z;\r\n        v22x=v42x;\r\n        v22y=v42y;\r\n        v22z=v42z;\r\n        }else{\r\n        v1x=v4x;\r\n        v1y=v4y;\r\n        v1z=v4z;\r\n        v11x=v41x;\r\n        v11y=v41y;\r\n        v11z=v41z;\r\n        v12x=v42x;\r\n        v12y=v42y;\r\n        v12z=v42z;\r\n        }\r\n        }\r\n        }\r\n        }\r\n        //return false;\r\n    },\r\n\r\n    supportPoint: function ( c, dx, dy, dz, out ) {\r\n\r\n        var rot=c.rotation.elements;\r\n        var ldx=rot[0]*dx+rot[3]*dy+rot[6]*dz;\r\n        var ldy=rot[1]*dx+rot[4]*dy+rot[7]*dz;\r\n        var ldz=rot[2]*dx+rot[5]*dy+rot[8]*dz;\r\n        var radx=ldx;\r\n        var radz=ldz;\r\n        var len=radx*radx+radz*radz;\r\n        var rad=c.radius;\r\n        var hh=c.halfHeight;\r\n        var ox;\r\n        var oy;\r\n        var oz;\r\n        if(len==0){\r\n        if(ldy<0){\r\n        ox=rad;\r\n        oy=-hh;\r\n        oz=0;\r\n        }else{\r\n        ox=rad;\r\n        oy=hh;\r\n        oz=0;\r\n        }\r\n        }else{\r\n        len=c.radius/_Math.sqrt(len);\r\n        if(ldy<0){\r\n        ox=radx*len;\r\n        oy=-hh;\r\n        oz=radz*len;\r\n        }else{\r\n        ox=radx*len;\r\n        oy=hh;\r\n        oz=radz*len;\r\n        }\r\n        }\r\n        ldx=rot[0]*ox+rot[1]*oy+rot[2]*oz+c.position.x;\r\n        ldy=rot[3]*ox+rot[4]*oy+rot[5]*oz+c.position.y;\r\n        ldz=rot[6]*ox+rot[7]*oy+rot[8]*oz+c.position.z;\r\n        out.set( ldx, ldy, ldz );\r\n\r\n    },\r\n\r\n    detectCollision: function ( shape1, shape2, manifold ) {\r\n\r\n        var c1;\r\n        var c2;\r\n        if(shape1.id<shape2.id){\r\n            c1=shape1;\r\n            c2=shape2;\r\n        }else{\r\n            c1=shape2;\r\n            c2=shape1;\r\n        }\r\n        var p1=c1.position;\r\n        var p2=c2.position;\r\n        var p1x=p1.x;\r\n        var p1y=p1.y;\r\n        var p1z=p1.z;\r\n        var p2x=p2.x;\r\n        var p2y=p2.y;\r\n        var p2z=p2.z;\r\n        var h1=c1.halfHeight;\r\n        var h2=c2.halfHeight;\r\n        var n1=c1.normalDirection;\r\n        var n2=c2.normalDirection;\r\n        var d1=c1.halfDirection;\r\n        var d2=c2.halfDirection;\r\n        var r1=c1.radius;\r\n        var r2=c2.radius;\r\n        var n1x=n1.x;\r\n        var n1y=n1.y;\r\n        var n1z=n1.z;\r\n        var n2x=n2.x;\r\n        var n2y=n2.y;\r\n        var n2z=n2.z;\r\n        var d1x=d1.x;\r\n        var d1y=d1.y;\r\n        var d1z=d1.z;\r\n        var d2x=d2.x;\r\n        var d2y=d2.y;\r\n        var d2z=d2.z;\r\n        var dx=p1x-p2x;\r\n        var dy=p1y-p2y;\r\n        var dz=p1z-p2z;\r\n        var len;\r\n        var c1x;\r\n        var c1y;\r\n        var c1z;\r\n        var c2x;\r\n        var c2y;\r\n        var c2z;\r\n        var tx;\r\n        var ty;\r\n        var tz;\r\n        var sx;\r\n        var sy;\r\n        var sz;\r\n        var ex;\r\n        var ey;\r\n        var ez;\r\n        var depth1;\r\n        var depth2;\r\n        var dot;\r\n        var t1;\r\n        var t2;\r\n        var sep=new Vec3();\r\n        var pos=new Vec3();\r\n        var dep=new Vec3();\r\n        if(!this.getSep(c1,c2,sep,pos,dep))return;\r\n        var dot1=sep.x*n1x+sep.y*n1y+sep.z*n1z;\r\n        var dot2=sep.x*n2x+sep.y*n2y+sep.z*n2z;\r\n        var right1=dot1>0;\r\n        var right2=dot2>0;\r\n        if(!right1)dot1=-dot1;\r\n        if(!right2)dot2=-dot2;\r\n        var state=0;\r\n        if(dot1>0.999||dot2>0.999){\r\n        if(dot1>dot2)state=1;\r\n        else state=2;\r\n        }\r\n        var nx;\r\n        var ny;\r\n        var nz;\r\n        var depth=dep.x;\r\n        var r00;\r\n        var r01;\r\n        var r02;\r\n        var r10;\r\n        var r11;\r\n        var r12;\r\n        var r20;\r\n        var r21;\r\n        var r22;\r\n        var px;\r\n        var py;\r\n        var pz;\r\n        var pd;\r\n        var a;\r\n        var b;\r\n        var e;\r\n        var f;\r\n        nx=sep.x;\r\n        ny=sep.y;\r\n        nz=sep.z;\r\n        switch(state){\r\n        case 0:\r\n        manifold.addPoint(pos.x,pos.y,pos.z,nx,ny,nz,depth,false);\r\n        break;\r\n        case 1:\r\n        if(right1){\r\n        c1x=p1x+d1x;\r\n        c1y=p1y+d1y;\r\n        c1z=p1z+d1z;\r\n        nx=n1x;\r\n        ny=n1y;\r\n        nz=n1z;\r\n        }else{\r\n        c1x=p1x-d1x;\r\n        c1y=p1y-d1y;\r\n        c1z=p1z-d1z;\r\n        nx=-n1x;\r\n        ny=-n1y;\r\n        nz=-n1z;\r\n        }\r\n        dot=nx*n2x+ny*n2y+nz*n2z;\r\n        if(dot<0)len=h2;\r\n        else len=-h2;\r\n        c2x=p2x+len*n2x;\r\n        c2y=p2y+len*n2y;\r\n        c2z=p2z+len*n2z;\r\n        if(dot2>=0.999999){\r\n        tx=-ny;\r\n        ty=nz;\r\n        tz=nx;\r\n        }else{\r\n        tx=nx;\r\n        ty=ny;\r\n        tz=nz;\r\n        }\r\n        len=tx*n2x+ty*n2y+tz*n2z;\r\n        dx=len*n2x-tx;\r\n        dy=len*n2y-ty;\r\n        dz=len*n2z-tz;\r\n        len=_Math.sqrt(dx*dx+dy*dy+dz*dz);\r\n        if(len==0)break;\r\n        len=r2/len;\r\n        dx*=len;\r\n        dy*=len;\r\n        dz*=len;\r\n        tx=c2x+dx;\r\n        ty=c2y+dy;\r\n        tz=c2z+dz;\r\n        if(dot<-0.96||dot>0.96){\r\n        r00=n2x*n2x*1.5-0.5;\r\n        r01=n2x*n2y*1.5-n2z*0.866025403;\r\n        r02=n2x*n2z*1.5+n2y*0.866025403;\r\n        r10=n2y*n2x*1.5+n2z*0.866025403;\r\n        r11=n2y*n2y*1.5-0.5;\r\n        r12=n2y*n2z*1.5-n2x*0.866025403;\r\n        r20=n2z*n2x*1.5-n2y*0.866025403;\r\n        r21=n2z*n2y*1.5+n2x*0.866025403;\r\n        r22=n2z*n2z*1.5-0.5;\r\n        px=tx;\r\n        py=ty;\r\n        pz=tz;\r\n        pd=nx*(px-c1x)+ny*(py-c1y)+nz*(pz-c1z);\r\n        tx=px-pd*nx-c1x;\r\n        ty=py-pd*ny-c1y;\r\n        tz=pz-pd*nz-c1z;\r\n        len=tx*tx+ty*ty+tz*tz;\r\n        if(len>r1*r1){\r\n        len=r1/_Math.sqrt(len);\r\n        tx*=len;\r\n        ty*=len;\r\n        tz*=len;\r\n        }\r\n        px=c1x+tx;\r\n        py=c1y+ty;\r\n        pz=c1z+tz;\r\n        manifold.addPoint(px,py,pz,nx,ny,nz,pd,false);\r\n        px=dx*r00+dy*r01+dz*r02;\r\n        py=dx*r10+dy*r11+dz*r12;\r\n        pz=dx*r20+dy*r21+dz*r22;\r\n        px=(dx=px)+c2x;\r\n        py=(dy=py)+c2y;\r\n        pz=(dz=pz)+c2z;\r\n        pd=nx*(px-c1x)+ny*(py-c1y)+nz*(pz-c1z);\r\n        if(pd<=0){\r\n        tx=px-pd*nx-c1x;\r\n        ty=py-pd*ny-c1y;\r\n        tz=pz-pd*nz-c1z;\r\n        len=tx*tx+ty*ty+tz*tz;\r\n        if(len>r1*r1){\r\n        len=r1/_Math.sqrt(len);\r\n        tx*=len;\r\n        ty*=len;\r\n        tz*=len;\r\n        }\r\n        px=c1x+tx;\r\n        py=c1y+ty;\r\n        pz=c1z+tz;\r\n        manifold.addPoint(px,py,pz,nx,ny,nz,pd,false);\r\n        }\r\n        px=dx*r00+dy*r01+dz*r02;\r\n        py=dx*r10+dy*r11+dz*r12;\r\n        pz=dx*r20+dy*r21+dz*r22;\r\n        px=(dx=px)+c2x;\r\n        py=(dy=py)+c2y;\r\n        pz=(dz=pz)+c2z;\r\n        pd=nx*(px-c1x)+ny*(py-c1y)+nz*(pz-c1z);\r\n        if(pd<=0){\r\n        tx=px-pd*nx-c1x;\r\n        ty=py-pd*ny-c1y;\r\n        tz=pz-pd*nz-c1z;\r\n        len=tx*tx+ty*ty+tz*tz;\r\n        if(len>r1*r1){\r\n        len=r1/_Math.sqrt(len);\r\n        tx*=len;\r\n        ty*=len;\r\n        tz*=len;\r\n        }\r\n        px=c1x+tx;\r\n        py=c1y+ty;\r\n        pz=c1z+tz;\r\n        manifold.addPoint(px,py,pz,nx,ny,nz,pd,false);\r\n        }\r\n        }else{\r\n        sx=tx;\r\n        sy=ty;\r\n        sz=tz;\r\n        depth1=nx*(sx-c1x)+ny*(sy-c1y)+nz*(sz-c1z);\r\n        sx-=depth1*nx;\r\n        sy-=depth1*ny;\r\n        sz-=depth1*nz;\r\n        if(dot>0){\r\n        ex=tx+n2x*h2*2;\r\n        ey=ty+n2y*h2*2;\r\n        ez=tz+n2z*h2*2;\r\n        }else{\r\n        ex=tx-n2x*h2*2;\r\n        ey=ty-n2y*h2*2;\r\n        ez=tz-n2z*h2*2;\r\n        }\r\n        depth2=nx*(ex-c1x)+ny*(ey-c1y)+nz*(ez-c1z);\r\n        ex-=depth2*nx;\r\n        ey-=depth2*ny;\r\n        ez-=depth2*nz;\r\n        dx=c1x-sx;\r\n        dy=c1y-sy;\r\n        dz=c1z-sz;\r\n        tx=ex-sx;\r\n        ty=ey-sy;\r\n        tz=ez-sz;\r\n        a=dx*dx+dy*dy+dz*dz;\r\n        b=dx*tx+dy*ty+dz*tz;\r\n        e=tx*tx+ty*ty+tz*tz;\r\n        f=b*b-e*(a-r1*r1);\r\n        if(f<0)break;\r\n        f=_Math.sqrt(f);\r\n        t1=(b+f)/e;\r\n        t2=(b-f)/e;\r\n        if(t2<t1){\r\n        len=t1;\r\n        t1=t2;\r\n        t2=len;\r\n        }\r\n        if(t2>1)t2=1;\r\n        if(t1<0)t1=0;\r\n        tx=sx+(ex-sx)*t1;\r\n        ty=sy+(ey-sy)*t1;\r\n        tz=sz+(ez-sz)*t1;\r\n        ex=sx+(ex-sx)*t2;\r\n        ey=sy+(ey-sy)*t2;\r\n        ez=sz+(ez-sz)*t2;\r\n        sx=tx;\r\n        sy=ty;\r\n        sz=tz;\r\n        len=depth1+(depth2-depth1)*t1;\r\n        depth2=depth1+(depth2-depth1)*t2;\r\n        depth1=len;\r\n        if(depth1<0) manifold.addPoint(sx,sy,sz,nx,ny,nz,pd,false);\r\n        if(depth2<0) manifold.addPoint(ex,ey,ez,nx,ny,nz,pd,false);\r\n        \r\n        }\r\n        break;\r\n        case 2:\r\n        if(right2){\r\n        c2x=p2x-d2x;\r\n        c2y=p2y-d2y;\r\n        c2z=p2z-d2z;\r\n        nx=-n2x;\r\n        ny=-n2y;\r\n        nz=-n2z;\r\n        }else{\r\n        c2x=p2x+d2x;\r\n        c2y=p2y+d2y;\r\n        c2z=p2z+d2z;\r\n        nx=n2x;\r\n        ny=n2y;\r\n        nz=n2z;\r\n        }\r\n        dot=nx*n1x+ny*n1y+nz*n1z;\r\n        if(dot<0)len=h1;\r\n        else len=-h1;\r\n        c1x=p1x+len*n1x;\r\n        c1y=p1y+len*n1y;\r\n        c1z=p1z+len*n1z;\r\n        if(dot1>=0.999999){\r\n        tx=-ny;\r\n        ty=nz;\r\n        tz=nx;\r\n        }else{\r\n        tx=nx;\r\n        ty=ny;\r\n        tz=nz;\r\n        }\r\n        len=tx*n1x+ty*n1y+tz*n1z;\r\n        dx=len*n1x-tx;\r\n        dy=len*n1y-ty;\r\n        dz=len*n1z-tz;\r\n        len=_Math.sqrt(dx*dx+dy*dy+dz*dz);\r\n        if(len==0)break;\r\n        len=r1/len;\r\n        dx*=len;\r\n        dy*=len;\r\n        dz*=len;\r\n        tx=c1x+dx;\r\n        ty=c1y+dy;\r\n        tz=c1z+dz;\r\n        if(dot<-0.96||dot>0.96){\r\n        r00=n1x*n1x*1.5-0.5;\r\n        r01=n1x*n1y*1.5-n1z*0.866025403;\r\n        r02=n1x*n1z*1.5+n1y*0.866025403;\r\n        r10=n1y*n1x*1.5+n1z*0.866025403;\r\n        r11=n1y*n1y*1.5-0.5;\r\n        r12=n1y*n1z*1.5-n1x*0.866025403;\r\n        r20=n1z*n1x*1.5-n1y*0.866025403;\r\n        r21=n1z*n1y*1.5+n1x*0.866025403;\r\n        r22=n1z*n1z*1.5-0.5;\r\n        px=tx;\r\n        py=ty;\r\n        pz=tz;\r\n        pd=nx*(px-c2x)+ny*(py-c2y)+nz*(pz-c2z);\r\n        tx=px-pd*nx-c2x;\r\n        ty=py-pd*ny-c2y;\r\n        tz=pz-pd*nz-c2z;\r\n        len=tx*tx+ty*ty+tz*tz;\r\n        if(len>r2*r2){\r\n        len=r2/_Math.sqrt(len);\r\n        tx*=len;\r\n        ty*=len;\r\n        tz*=len;\r\n        }\r\n        px=c2x+tx;\r\n        py=c2y+ty;\r\n        pz=c2z+tz;\r\n        manifold.addPoint(px,py,pz,-nx,-ny,-nz,pd,false);\r\n        px=dx*r00+dy*r01+dz*r02;\r\n        py=dx*r10+dy*r11+dz*r12;\r\n        pz=dx*r20+dy*r21+dz*r22;\r\n        px=(dx=px)+c1x;\r\n        py=(dy=py)+c1y;\r\n        pz=(dz=pz)+c1z;\r\n        pd=nx*(px-c2x)+ny*(py-c2y)+nz*(pz-c2z);\r\n        if(pd<=0){\r\n        tx=px-pd*nx-c2x;\r\n        ty=py-pd*ny-c2y;\r\n        tz=pz-pd*nz-c2z;\r\n        len=tx*tx+ty*ty+tz*tz;\r\n        if(len>r2*r2){\r\n        len=r2/_Math.sqrt(len);\r\n        tx*=len;\r\n        ty*=len;\r\n        tz*=len;\r\n        }\r\n        px=c2x+tx;\r\n        py=c2y+ty;\r\n        pz=c2z+tz;\r\n        manifold.addPoint(px,py,pz,-nx,-ny,-nz,pd,false);\r\n        }\r\n        px=dx*r00+dy*r01+dz*r02;\r\n        py=dx*r10+dy*r11+dz*r12;\r\n        pz=dx*r20+dy*r21+dz*r22;\r\n        px=(dx=px)+c1x;\r\n        py=(dy=py)+c1y;\r\n        pz=(dz=pz)+c1z;\r\n        pd=nx*(px-c2x)+ny*(py-c2y)+nz*(pz-c2z);\r\n        if(pd<=0){\r\n        tx=px-pd*nx-c2x;\r\n        ty=py-pd*ny-c2y;\r\n        tz=pz-pd*nz-c2z;\r\n        len=tx*tx+ty*ty+tz*tz;\r\n        if(len>r2*r2){\r\n        len=r2/_Math.sqrt(len);\r\n        tx*=len;\r\n        ty*=len;\r\n        tz*=len;\r\n        }\r\n        px=c2x+tx;\r\n        py=c2y+ty;\r\n        pz=c2z+tz;\r\n        manifold.addPoint(px,py,pz,-nx,-ny,-nz,pd,false);\r\n        }\r\n        }else{\r\n        sx=tx;\r\n        sy=ty;\r\n        sz=tz;\r\n        depth1=nx*(sx-c2x)+ny*(sy-c2y)+nz*(sz-c2z);\r\n        sx-=depth1*nx;\r\n        sy-=depth1*ny;\r\n        sz-=depth1*nz;\r\n        if(dot>0){\r\n        ex=tx+n1x*h1*2;\r\n        ey=ty+n1y*h1*2;\r\n        ez=tz+n1z*h1*2;\r\n        }else{\r\n        ex=tx-n1x*h1*2;\r\n        ey=ty-n1y*h1*2;\r\n        ez=tz-n1z*h1*2;\r\n        }\r\n        depth2=nx*(ex-c2x)+ny*(ey-c2y)+nz*(ez-c2z);\r\n        ex-=depth2*nx;\r\n        ey-=depth2*ny;\r\n        ez-=depth2*nz;\r\n        dx=c2x-sx;\r\n        dy=c2y-sy;\r\n        dz=c2z-sz;\r\n        tx=ex-sx;\r\n        ty=ey-sy;\r\n        tz=ez-sz;\r\n        a=dx*dx+dy*dy+dz*dz;\r\n        b=dx*tx+dy*ty+dz*tz;\r\n        e=tx*tx+ty*ty+tz*tz;\r\n        f=b*b-e*(a-r2*r2);\r\n        if(f<0)break;\r\n        f=_Math.sqrt(f);\r\n        t1=(b+f)/e;\r\n        t2=(b-f)/e;\r\n        if(t2<t1){\r\n        len=t1;\r\n        t1=t2;\r\n        t2=len;\r\n        }\r\n        if(t2>1)t2=1;\r\n        if(t1<0)t1=0;\r\n        tx=sx+(ex-sx)*t1;\r\n        ty=sy+(ey-sy)*t1;\r\n        tz=sz+(ez-sz)*t1;\r\n        ex=sx+(ex-sx)*t2;\r\n        ey=sy+(ey-sy)*t2;\r\n        ez=sz+(ez-sz)*t2;\r\n        sx=tx;\r\n        sy=ty;\r\n        sz=tz;\r\n        len=depth1+(depth2-depth1)*t1;\r\n        depth2=depth1+(depth2-depth1)*t2;\r\n        depth1=len;\r\n        if(depth1<0){\r\n        manifold.addPoint(sx,sy,sz,-nx,-ny,-nz,depth1,false);\r\n        }\r\n        if(depth2<0){\r\n        manifold.addPoint(ex,ey,ez,-nx,-ny,-nz,depth2,false);\r\n        }\r\n        }\r\n        break;\r\n        }\r\n\r\n    }\r\n\r\n});\n\n/**\n * A collision detector which detects collisions between sphere and box.\n * @author saharan\n */\nfunction SphereBoxCollisionDetector ( flip ) {\n    \n    CollisionDetector.call( this );\n    this.flip = flip;\n\n}\n\nSphereBoxCollisionDetector.prototype = Object.assign( Object.create( CollisionDetector.prototype ), {\n\n    constructor: SphereBoxCollisionDetector,\n\n    detectCollision: function ( shape1, shape2, manifold ) {\n\n        var s;\n        var b;\n        if(this.flip){\n            s=(shape2);\n            b=(shape1);\n        }else{\n            s=(shape1);\n            b=(shape2);\n        }\n\n        var D = b.dimentions;\n\n        var ps=s.position;\n        var psx=ps.x;\n        var psy=ps.y;\n        var psz=ps.z;\n        var pb=b.position;\n        var pbx=pb.x;\n        var pby=pb.y;\n        var pbz=pb.z;\n        var rad=s.radius;\n\n        var hw=b.halfWidth;\n        var hh=b.halfHeight;\n        var hd=b.halfDepth;\n\n        var dx=psx-pbx;\n        var dy=psy-pby;\n        var dz=psz-pbz;\n        var sx=D[0]*dx+D[1]*dy+D[2]*dz;\n        var sy=D[3]*dx+D[4]*dy+D[5]*dz;\n        var sz=D[6]*dx+D[7]*dy+D[8]*dz;\n        var cx;\n        var cy;\n        var cz;\n        var len;\n        var invLen;\n        var overlap=0;\n        if(sx>hw){\n            sx=hw;\n        }else if(sx<-hw){\n            sx=-hw;\n        }else{\n            overlap=1;\n        }\n        if(sy>hh){\n            sy=hh;\n        }else if(sy<-hh){\n            sy=-hh;\n        }else{\n            overlap|=2;\n        }\n        if(sz>hd){\n            sz=hd;\n        }else if(sz<-hd){\n            sz=-hd;\n        }else{\n            overlap|=4;\n        }\n        if(overlap==7){\n            // center of sphere is in the box\n            if(sx<0){\n                dx=hw+sx;\n            }else{\n                dx=hw-sx;\n            }\n            if(sy<0){\n                dy=hh+sy;\n            }else{\n                dy=hh-sy;\n            }\n            if(sz<0){\n                dz=hd+sz;\n            }else{\n                dz=hd-sz;\n            }\n            if(dx<dy){\n                if(dx<dz){\n                    len=dx-hw;\n                if(sx<0){\n                    sx=-hw;\n                    dx=D[0];\n                    dy=D[1];\n                    dz=D[2];\n                }else{\n                    sx=hw;\n                    dx=-D[0];\n                    dy=-D[1];\n                    dz=-D[2];\n                }\n            }else{\n                len=dz-hd;\n                if(sz<0){\n                    sz=-hd;\n                    dx=D[6];\n                    dy=D[7];\n                    dz=D[8];\n                }else{\n                    sz=hd;\n                    dx=-D[6];\n                    dy=-D[7];\n                    dz=-D[8];\n                }\n            }\n            }else{\n                if(dy<dz){\n                    len=dy-hh;\n                    if(sy<0){\n                        sy=-hh;\n                        dx=D[3];\n                        dy=D[4];\n                        dz=D[5];\n                    }else{\n                        sy=hh;\n                        dx=-D[3];\n                        dy=-D[4];\n                        dz=-D[5];\n                    }\n                }else{\n                    len=dz-hd;\n                    if(sz<0){\n                        sz=-hd;\n                        dx=D[6];\n                        dy=D[7];\n                        dz=D[8];\n                    }else{\n                        sz=hd;\n                        dx=-D[6];\n                        dy=-D[7];\n                        dz=-D[8];\n                }\n            }\n        }\n        cx=pbx+sx*D[0]+sy*D[3]+sz*D[6];\n        cy=pby+sx*D[1]+sy*D[4]+sz*D[7];\n        cz=pbz+sx*D[2]+sy*D[5]+sz*D[8];\n        manifold.addPoint(psx+rad*dx,psy+rad*dy,psz+rad*dz,dx,dy,dz,len-rad,this.flip);\n        }else{\n            cx=pbx+sx*D[0]+sy*D[3]+sz*D[6];\n            cy=pby+sx*D[1]+sy*D[4]+sz*D[7];\n            cz=pbz+sx*D[2]+sy*D[5]+sz*D[8];\n            dx=cx-ps.x;\n            dy=cy-ps.y;\n            dz=cz-ps.z;\n            len=dx*dx+dy*dy+dz*dz;\n            if(len>0&&len<rad*rad){\n                len=_Math.sqrt(len);\n                invLen=1/len;\n                dx*=invLen;\n                dy*=invLen;\n                dz*=invLen;\n                manifold.addPoint(psx+rad*dx,psy+rad*dy,psz+rad*dz,dx,dy,dz,len-rad,this.flip);\n            }\n        }\n\n    }\n\n});\n\nfunction SphereCylinderCollisionDetector ( flip ){\n    \n    CollisionDetector.call( this );\n    this.flip = flip;\n\n}\n\nSphereCylinderCollisionDetector.prototype = Object.assign( Object.create( CollisionDetector.prototype ), {\n\n    constructor: SphereCylinderCollisionDetector,\n\n    detectCollision: function ( shape1, shape2, manifold ) {\n        \n        var s;\n        var c;\n        if( this.flip ){\n            s = shape2;\n            c = shape1;\n        }else{\n            s = shape1;\n            c = shape2;\n        }\n        var ps = s.position;\n        var psx = ps.x;\n        var psy = ps.y;\n        var psz = ps.z;\n        var pc = c.position;\n        var pcx = pc.x;\n        var pcy = pc.y;\n        var pcz = pc.z;\n        var dirx = c.normalDirection.x;\n        var diry = c.normalDirection.y;\n        var dirz = c.normalDirection.z;\n        var rads = s.radius;\n        var radc = c.radius;\n        var rad2 = rads + radc;\n        var halfh = c.halfHeight;\n        var dx = psx - pcx;\n        var dy = psy - pcy;\n        var dz = psz - pcz;\n        var dot = dx * dirx + dy * diry + dz * dirz;\n        if ( dot < -halfh - rads || dot > halfh + rads ) return;\n        var cx = pcx + dot * dirx;\n        var cy = pcy + dot * diry;\n        var cz = pcz + dot * dirz;\n        var d2x = psx - cx;\n        var d2y = psy - cy;\n        var d2z = psz - cz;\n        var len = d2x * d2x + d2y * d2y + d2z * d2z;\n        if ( len > rad2 * rad2 ) return;\n        if ( len > radc * radc ) {\n            len = radc / _Math.sqrt( len );\n            d2x *= len;\n            d2y *= len;\n            d2z *= len;\n        }\n        if( dot < -halfh ) dot = -halfh;\n        else if( dot > halfh ) dot = halfh;\n        cx = pcx + dot * dirx + d2x;\n        cy = pcy + dot * diry + d2y;\n        cz = pcz + dot * dirz + d2z;\n        dx = cx - psx;\n        dy = cy - psy;\n        dz = cz - psz;\n        len = dx * dx + dy * dy + dz * dz;\n        var invLen;\n        if ( len > 0 && len < rads * rads ) {\n            len = _Math.sqrt(len);\n            invLen = 1 / len;\n            dx *= invLen;\n            dy *= invLen;\n            dz *= invLen;\n            ///result.addContactInfo(psx+dx*rads,psy+dy*rads,psz+dz*rads,dx,dy,dz,len-rads,s,c,0,0,false);\n            manifold.addPoint( psx + dx * rads, psy + dy * rads, psz + dz * rads, dx, dy, dz, len - rads, this.flip );\n        }\n\n    }\n\n\n});\n\n/**\n * A collision detector which detects collisions between two spheres.\n * @author saharan\n */\n \nfunction SphereSphereCollisionDetector (){\n\n    CollisionDetector.call( this );\n\n}\n\nSphereSphereCollisionDetector.prototype = Object.assign( Object.create( CollisionDetector.prototype ), {\n\n    constructor: SphereSphereCollisionDetector,\n\n    detectCollision: function ( shape1, shape2, manifold ) {\n\n        var s1 = shape1;\n        var s2 = shape2;\n        var p1 = s1.position;\n        var p2 = s2.position;\n        var dx = p2.x - p1.x;\n        var dy = p2.y - p1.y;\n        var dz = p2.z - p1.z;\n        var len = dx * dx + dy * dy + dz * dz;\n        var r1 = s1.radius;\n        var r2 = s2.radius;\n        var rad = r1 + r2;\n        if ( len > 0 && len < rad * rad ){\n            len = _Math.sqrt( len );\n            var invLen = 1 / len;\n            dx *= invLen;\n            dy *= invLen;\n            dz *= invLen;\n            manifold.addPoint( p1.x + dx * r1, p1.y + dy * r1, p1.z + dz * r1, dx, dy, dz, len - rad, false );\n        }\n\n    }\n\n});\n\n/**\r\n * A collision detector which detects collisions between two spheres.\r\n * @author saharan \r\n * @author lo-th\r\n */\r\n \r\nfunction SpherePlaneCollisionDetector ( flip ){\r\n\r\n    CollisionDetector.call( this );\r\n\r\n    this.flip = flip;\r\n\r\n    this.n = new Vec3();\r\n    this.p = new Vec3();\r\n\r\n}\r\n\r\nSpherePlaneCollisionDetector.prototype = Object.assign( Object.create( CollisionDetector.prototype ), {\r\n\r\n    constructor: SpherePlaneCollisionDetector,\r\n\r\n    detectCollision: function ( shape1, shape2, manifold ) {\r\n\r\n        var n = this.n;\r\n        var p = this.p;\r\n\r\n        var s = this.flip ? shape2 : shape1;\r\n        var pn = this.flip ? shape1 : shape2;\r\n        var rad = s.radius;\r\n        var len;\r\n\r\n        n.sub( s.position, pn.position );\r\n        //var h = _Math.dotVectors( pn.normal, n );\r\n\r\n        n.x *= pn.normal.x;//+ rad;\r\n        n.y *= pn.normal.y;\r\n        n.z *= pn.normal.z;//+ rad;\r\n\r\n        \r\n        var len = n.lengthSq();\r\n        \r\n        if( len > 0 && len < rad * rad){//&& h > rad*rad ){\r\n\r\n            \r\n            len = _Math.sqrt( len );\r\n            //len = _Math.sqrt( h );\r\n            n.copy(pn.normal).negate();\r\n            //n.scaleEqual( 1/len );\r\n\r\n            //(0, -1, 0)\r\n\r\n            //n.normalize();\r\n            p.copy( s.position ).addScaledVector( n, rad );\r\n            manifold.addPointVec( p, n, len - rad, this.flip );\r\n\r\n        }\r\n\r\n    }\r\n\r\n});\n\n/**\r\n * A collision detector which detects collisions between two spheres.\r\n * @author saharan \r\n * @author lo-th\r\n */\r\n \r\nfunction BoxPlaneCollisionDetector ( flip ){\r\n\r\n    CollisionDetector.call( this );\r\n\r\n    this.flip = flip;\r\n\r\n    this.n = new Vec3();\r\n    this.p = new Vec3();\r\n\r\n    this.dix = new Vec3();\r\n    this.diy = new Vec3();\r\n    this.diz = new Vec3();\r\n\r\n    this.cc = new Vec3();\r\n    this.cc2 = new Vec3();\r\n\r\n}\r\n\r\nBoxPlaneCollisionDetector.prototype = Object.assign( Object.create( CollisionDetector.prototype ), {\r\n\r\n    constructor: BoxPlaneCollisionDetector,\r\n\r\n    detectCollision: function ( shape1, shape2, manifold ) {\r\n\r\n        var n = this.n;\r\n        var p = this.p;\r\n        var cc = this.cc;\r\n\r\n        var b = this.flip ? shape2 : shape1;\r\n        var pn = this.flip ? shape1 : shape2;\r\n\r\n        var D = b.dimentions;\r\n        var hw = b.halfWidth;\r\n        var hh = b.halfHeight;\r\n        var hd = b.halfDepth;\r\n        var len;\r\n        var overlap = 0;\r\n\r\n        this.dix.set( D[0], D[1], D[2] );\r\n        this.diy.set( D[3], D[4], D[5] );\r\n        this.diz.set( D[6], D[7], D[8] );\r\n\r\n        n.sub( b.position, pn.position );\r\n\r\n        n.x *= pn.normal.x;//+ rad;\r\n        n.y *= pn.normal.y;\r\n        n.z *= pn.normal.z;//+ rad;\r\n\r\n        cc.set(\r\n            _Math.dotVectors( this.dix, n ),\r\n            _Math.dotVectors( this.diy, n ),\r\n            _Math.dotVectors( this.diz, n )\r\n        );\r\n\r\n\r\n        if( cc.x > hw ) cc.x = hw;\r\n        else if( cc.x < -hw ) cc.x = -hw;\r\n        else overlap = 1;\r\n        \r\n        if( cc.y > hh ) cc.y = hh;\r\n        else if( cc.y < -hh ) cc.y = -hh;\r\n        else overlap |= 2;\r\n        \r\n        if( cc.z > hd ) cc.z = hd;\r\n        else if( cc.z < -hd ) cc.z = -hd;\r\n        else overlap |= 4;\r\n\r\n        \r\n\r\n        if( overlap === 7 ){\r\n\r\n            // center of sphere is in the box\r\n            \r\n            n.set(\r\n                cc.x < 0 ? hw + cc.x : hw - cc.x,\r\n                cc.y < 0 ? hh + cc.y : hh - cc.y,\r\n                cc.z < 0 ? hd + cc.z : hd - cc.z\r\n            );\r\n            \r\n            if( n.x < n.y ){\r\n                if( n.x < n.z ){\r\n                    len = n.x - hw;\r\n                    if( cc.x < 0 ){\r\n                        cc.x = -hw;\r\n                        n.copy( this.dix );\r\n                    }else{\r\n                        cc.x = hw;\r\n                        n.subEqual( this.dix );\r\n                    }\r\n                }else{\r\n                    len = n.z - hd;\r\n                    if( cc.z < 0 ){\r\n                        cc.z = -hd;\r\n                        n.copy( this.diz );\r\n                    }else{\r\n                        cc.z = hd;\r\n                        n.subEqual( this.diz );\r\n                    }\r\n                }\r\n            }else{\r\n                if( n.y < n.z ){\r\n                    len = n.y - hh;\r\n                    if( cc.y < 0 ){\r\n                        cc.y = -hh;\r\n                        n.copy( this.diy );\r\n                    }else{\r\n                        cc.y = hh;\r\n                        n.subEqual( this.diy );\r\n                    }\r\n                }else{\r\n                    len = n.z - hd;\r\n                    if( cc.z < 0 ){\r\n                        cc.z = -hd;\r\n                        n.copy( this.diz );\r\n                    }else{\r\n                        cc.z = hd;\r\n                        n.subEqual( this.diz );\r\n                    }\r\n                }\r\n            }\r\n\r\n            p.copy( pn.position ).addScaledVector( n, 1 );\r\n            manifold.addPointVec( p, n, len, this.flip );\r\n\r\n        }\r\n\r\n    }\r\n\r\n});\n\n//import { TetraShape } from '../collision/shape/TetraShape';\r\n\r\n/**\r\n * The class of physical computing world.\r\n * You must be added to the world physical all computing objects\r\n *\r\n * @author saharan\r\n * @author lo-th\r\n */\r\n\r\n // timestep, broadphase, iterations, worldscale, random, stat\r\n\r\nfunction World ( o ) {\r\n\r\n    if( !(o instanceof Object) ) o = {};\r\n\r\n    // this world scale defaut is 0.1 to 10 meters max for dynamique body\r\n    this.scale = o.worldscale || 1;\r\n    this.invScale = 1/this.scale;\r\n\r\n    // The time between each step\r\n    this.timeStep = o.timestep || 0.01666; // 1/60;\r\n    this.timerate = this.timeStep * 1000;\r\n    this.timer = null;\r\n\r\n    this.preLoop = null;//function(){};\r\n    this.postLoop = null;//function(){};\r\n\r\n    // The number of iterations for constraint solvers.\r\n    this.numIterations = o.iterations || 8;\r\n\r\n     // It is a wide-area collision judgment that is used in order to reduce as much as possible a detailed collision judgment.\r\n    switch( o.broadphase || 2 ){\r\n        case 1: this.broadPhase = new BruteForceBroadPhase(); break;\r\n        case 2: default: this.broadPhase = new SAPBroadPhase(); break;\r\n        case 3: this.broadPhase = new DBVTBroadPhase(); break;\r\n    }\r\n\r\n    this.Btypes = ['None','BruteForce','Sweep & Prune', 'Bounding Volume Tree' ];\r\n    this.broadPhaseType = this.Btypes[ o.broadphase || 2 ];\r\n\r\n    // This is the detailed information of the performance.\r\n    this.performance = null;\r\n    this.isStat = o.info === undefined ? false : o.info;\r\n    if( this.isStat ) this.performance = new InfoDisplay( this );\r\n\r\n    /**\r\n     * Whether the constraints randomizer is enabled or not.\r\n     *\r\n     * @property enableRandomizer\r\n     * @type {Boolean}\r\n     */\r\n    this.enableRandomizer = o.random !== undefined ? o.random : true;\r\n\r\n    // The rigid body list\r\n    this.rigidBodies=null;\r\n    // number of rigid body\r\n    this.numRigidBodies=0;\r\n    // The contact list\r\n    this.contacts=null;\r\n    this.unusedContacts=null;\r\n    // The number of contact\r\n    this.numContacts=0;\r\n    // The number of contact points\r\n    this.numContactPoints=0;\r\n    //  The joint list\r\n    this.joints=null;\r\n    // The number of joints.\r\n    this.numJoints=0;\r\n    // The number of simulation islands.\r\n    this.numIslands=0;\r\n\r\n\r\n    // The gravity in the world.\r\n    this.gravity = new Vec3(0,-9.8,0);\r\n    if( o.gravity !== undefined ) this.gravity.fromArray( o.gravity );\r\n\r\n\r\n\r\n    var numShapeTypes = 5;//4;//3;\r\n    this.detectors=[];\r\n    this.detectors.length = numShapeTypes;\r\n    var i = numShapeTypes;\r\n    while(i--){\r\n        this.detectors[i]=[];\r\n        this.detectors[i].length = numShapeTypes;\r\n    }\r\n\r\n    this.detectors[SHAPE_SPHERE][SHAPE_SPHERE] = new SphereSphereCollisionDetector();\r\n    this.detectors[SHAPE_SPHERE][SHAPE_BOX] = new SphereBoxCollisionDetector(false);\r\n    this.detectors[SHAPE_BOX][SHAPE_SPHERE] = new SphereBoxCollisionDetector(true);\r\n    this.detectors[SHAPE_BOX][SHAPE_BOX] = new BoxBoxCollisionDetector();\r\n\r\n    // CYLINDER add\r\n    this.detectors[SHAPE_CYLINDER][SHAPE_CYLINDER] = new CylinderCylinderCollisionDetector();\r\n\r\n    this.detectors[SHAPE_CYLINDER][SHAPE_BOX] = new BoxCylinderCollisionDetector(true);\r\n    this.detectors[SHAPE_BOX][SHAPE_CYLINDER] = new BoxCylinderCollisionDetector(false);\r\n\r\n    this.detectors[SHAPE_CYLINDER][SHAPE_SPHERE] = new SphereCylinderCollisionDetector(true);\r\n    this.detectors[SHAPE_SPHERE][SHAPE_CYLINDER] = new SphereCylinderCollisionDetector(false);\r\n\r\n    // PLANE add\r\n\r\n    this.detectors[SHAPE_PLANE][SHAPE_SPHERE] = new SpherePlaneCollisionDetector(true);\r\n    this.detectors[SHAPE_SPHERE][SHAPE_PLANE] = new SpherePlaneCollisionDetector(false);\r\n\r\n    this.detectors[SHAPE_PLANE][SHAPE_BOX] = new BoxPlaneCollisionDetector(true);\r\n    this.detectors[SHAPE_BOX][SHAPE_PLANE] = new BoxPlaneCollisionDetector(false);\r\n\r\n    // TETRA add\r\n    //this.detectors[SHAPE_TETRA][SHAPE_TETRA] = new TetraTetraCollisionDetector();\r\n\r\n\r\n    this.randX = 65535;\r\n    this.randA = 98765;\r\n    this.randB = 123456789;\r\n\r\n    this.islandRigidBodies = [];\r\n    this.islandStack = [];\r\n    this.islandConstraints = [];\r\n\r\n}\r\n\r\nObject.assign( World.prototype, {\r\n\r\n    World: true,\r\n\r\n    play: function(){\r\n \r\n        if( this.timer !== null ) return;\r\n\r\n        var _this = this;\r\n        this.timer = setInterval( function(){ _this.step(); } , this.timerate );\r\n        //this.timer = setInterval( this.loop.bind(this) , this.timerate );\r\n\r\n    },\r\n\r\n    stop: function(){\r\n\r\n        if( this.timer === null ) return;\r\n\r\n        clearInterval( this.timer );\r\n        this.timer = null;\r\n\r\n    },\r\n\r\n    setGravity: function ( ar ) {\r\n\r\n        this.gravity.fromArray( ar );\r\n\r\n    },\r\n\r\n    getInfo: function () {\r\n\r\n        return this.isStat ? this.performance.show() : '';\r\n\r\n    },\r\n\r\n    // Reset the world and remove all rigid bodies, shapes, joints and any object from the world.\r\n    clear:function(){\r\n\r\n        this.stop();\r\n        this.preLoop = null;\r\n        this.postLoop = null;\r\n\r\n        this.randX = 65535;\r\n\r\n        while(this.joints!==null){\r\n            this.removeJoint( this.joints );\r\n        }\r\n        while(this.contacts!==null){\r\n            this.removeContact( this.contacts );\r\n        }\r\n        while(this.rigidBodies!==null){\r\n            this.removeRigidBody( this.rigidBodies );\r\n        }\r\n\r\n    },\r\n    /**\r\n    * I'll add a rigid body to the world.\r\n    * Rigid body that has been added will be the operands of each step.\r\n    * @param  rigidBody  Rigid body that you want to add\r\n    */\r\n    addRigidBody:function( rigidBody ){\r\n\r\n        if(rigidBody.parent){\r\n            printError(\"World\", \"It is not possible to be added to more than one world one of the rigid body\");\r\n        }\r\n\r\n        rigidBody.setParent( this );\r\n        //rigidBody.awake();\r\n\r\n        for(var shape = rigidBody.shapes; shape !== null; shape = shape.next){\r\n            this.addShape( shape );\r\n        }\r\n        if(this.rigidBodies!==null)(this.rigidBodies.prev=rigidBody).next=this.rigidBodies;\r\n        this.rigidBodies = rigidBody;\r\n        this.numRigidBodies++;\r\n\r\n    },\r\n    /**\r\n    * I will remove the rigid body from the world.\r\n    * Rigid body that has been deleted is excluded from the calculation on a step-by-step basis.\r\n    * @param  rigidBody  Rigid body to be removed\r\n    */\r\n    removeRigidBody:function( rigidBody ){\r\n\r\n        var remove=rigidBody;\r\n        if(remove.parent!==this)return;\r\n        remove.awake();\r\n        var js=remove.jointLink;\r\n        while(js!=null){\r\n\t        var joint=js.joint;\r\n\t        js=js.next;\r\n\t        this.removeJoint(joint);\r\n        }\r\n        for(var shape=rigidBody.shapes; shape!==null; shape=shape.next){\r\n            this.removeShape(shape);\r\n        }\r\n        var prev=remove.prev;\r\n        var next=remove.next;\r\n        if(prev!==null) prev.next=next;\r\n        if(next!==null) next.prev=prev;\r\n        if(this.rigidBodies==remove) this.rigidBodies=next;\r\n        remove.prev=null;\r\n        remove.next=null;\r\n        remove.parent=null;\r\n        this.numRigidBodies--;\r\n\r\n    },\r\n\r\n    getByName: function( name ){\r\n\r\n        var body = this.rigidBodies;\r\n        while( body !== null ){\r\n            if( body.name === name ) return body;\r\n            body=body.next;\r\n        }\r\n\r\n        var joint = this.joints;\r\n        while( joint !== null ){\r\n            if( joint.name === name ) return joint;\r\n            joint = joint.next;\r\n        }\r\n\r\n        return null;\r\n\r\n    },\r\n\r\n    /**\r\n    * I'll add a shape to the world..\r\n    * Add to the rigid world, and if you add a shape to a rigid body that has been added to the world,\r\n    * Shape will be added to the world automatically, please do not call from outside this method.\r\n    * @param  shape  Shape you want to add\r\n    */\r\n    addShape:function ( shape ){\r\n\r\n        if(!shape.parent || !shape.parent.parent){\r\n            printError(\"World\", \"It is not possible to be added alone to shape world\");\r\n        }\r\n\r\n        shape.proxy = this.broadPhase.createProxy(shape);\r\n        shape.updateProxy();\r\n        this.broadPhase.addProxy(shape.proxy);\r\n\r\n    },\r\n\r\n    /**\r\n    * I will remove the shape from the world.\r\n    * Add to the rigid world, and if you add a shape to a rigid body that has been added to the world,\r\n    * Shape will be added to the world automatically, please do not call from outside this method.\r\n    * @param  shape  Shape you want to delete\r\n    */\r\n    removeShape: function ( shape ){\r\n\r\n        this.broadPhase.removeProxy(shape.proxy);\r\n        shape.proxy = null;\r\n\r\n    },\r\n\r\n    /**\r\n    * I'll add a joint to the world.\r\n    * Joint that has been added will be the operands of each step.\r\n    * @param  shape Joint to be added\r\n    */\r\n    addJoint: function ( joint ) {\r\n\r\n        if(joint.parent){\r\n            printError(\"World\", \"It is not possible to be added to more than one world one of the joint\");\r\n        }\r\n        if(this.joints!=null)(this.joints.prev=joint).next=this.joints;\r\n        this.joints=joint;\r\n        joint.setParent( this );\r\n        this.numJoints++;\r\n        joint.awake();\r\n        joint.attach();\r\n\r\n    },\r\n\r\n    /**\r\n    * I will remove the joint from the world.\r\n    * Joint that has been added will be the operands of each step.\r\n    * @param  shape Joint to be deleted\r\n    */\r\n    removeJoint: function ( joint ) {\r\n\r\n        var remove=joint;\r\n        var prev=remove.prev;\r\n        var next=remove.next;\r\n        if(prev!==null)prev.next=next;\r\n        if(next!==null)next.prev=prev;\r\n        if(this.joints==remove)this.joints=next;\r\n        remove.prev=null;\r\n        remove.next=null;\r\n        this.numJoints--;\r\n        remove.awake();\r\n        remove.detach();\r\n        remove.parent=null;\r\n\r\n    },\r\n\r\n    addContact: function ( s1, s2 ) {\r\n\r\n        var newContact;\r\n        if(this.unusedContacts!==null){\r\n            newContact=this.unusedContacts;\r\n            this.unusedContacts=this.unusedContacts.next;\r\n        }else{\r\n            newContact = new Contact();\r\n        }\r\n        newContact.attach(s1,s2);\r\n        newContact.detector = this.detectors[s1.type][s2.type];\r\n        if(this.contacts)(this.contacts.prev = newContact).next = this.contacts;\r\n        this.contacts = newContact;\r\n        this.numContacts++;\r\n\r\n    },\r\n\r\n    removeContact: function ( contact ) {\r\n\r\n        var prev = contact.prev;\r\n        var next = contact.next;\r\n        if(next) next.prev = prev;\r\n        if(prev) prev.next = next;\r\n        if(this.contacts == contact) this.contacts = next;\r\n        contact.prev = null;\r\n        contact.next = null;\r\n        contact.detach();\r\n        contact.next = this.unusedContacts;\r\n        this.unusedContacts = contact;\r\n        this.numContacts--;\r\n\r\n    },\r\n\r\n    getContact: function ( b1, b2 ) {\r\n\r\n        b1 = b1.constructor === RigidBody ? b1.name : b1;\r\n        b2 = b2.constructor === RigidBody ? b2.name : b2;\r\n\r\n        var n1, n2;\r\n        var contact = this.contacts;\r\n        while(contact!==null){\r\n            n1 = contact.body1.name;\r\n            n2 = contact.body2.name;\r\n            if((n1===b1 && n2===b2) || (n2===b1 && n1===b2)){ if(contact.touching) return contact; else return null;}\r\n            else contact = contact.next;\r\n        }\r\n        return null;\r\n\r\n    },\r\n\r\n    checkContact: function ( name1, name2 ) {\r\n\r\n        var n1, n2;\r\n        var contact = this.contacts;\r\n        while(contact!==null){\r\n            n1 = contact.body1.name || ' ';\r\n            n2 = contact.body2.name || ' ';\r\n            if((n1==name1 && n2==name2) || (n2==name1 && n1==name2)){ if(contact.touching) return true; else return false;}\r\n            else contact = contact.next;\r\n        }\r\n        //return false;\r\n\r\n    },\r\n\r\n    callSleep: function( body ) {\r\n\r\n        if( !body.allowSleep ) return false;\r\n        if( body.linearVelocity.lengthSq() > 0.04 ) return false;\r\n        if( body.angularVelocity.lengthSq() > 0.25 ) return false;\r\n        return true;\r\n\r\n    },\r\n\r\n    /**\r\n    * I will proceed only time step seconds time of World.\r\n    */\r\n    step: function () {\r\n\r\n        var stat = this.isStat;\r\n\r\n        if( stat ) this.performance.setTime( 0 );\r\n\r\n        var body = this.rigidBodies;\r\n\r\n        while( body !== null ){\r\n\r\n            body.addedToIsland = false;\r\n\r\n            if( body.sleeping ) body.testWakeUp();\r\n\r\n            body = body.next;\r\n\r\n        }\r\n\r\n\r\n\r\n        //------------------------------------------------------\r\n        //   UPDATE BROADPHASE CONTACT\r\n        //------------------------------------------------------\r\n\r\n        if( stat ) this.performance.setTime( 1 );\r\n\r\n        this.broadPhase.detectPairs();\r\n\r\n        var pairs = this.broadPhase.pairs;\r\n\r\n        var i = this.broadPhase.numPairs;\r\n        //do{\r\n        while(i--){\r\n        //for(var i=0, l=numPairs; i<l; i++){\r\n            var pair = pairs[i];\r\n            var s1;\r\n            var s2;\r\n            if(pair.shape1.id<pair.shape2.id){\r\n                s1 = pair.shape1;\r\n                s2 = pair.shape2;\r\n            }else{\r\n                s1 = pair.shape2;\r\n                s2 = pair.shape1;\r\n            }\r\n\r\n            var link;\r\n            if( s1.numContacts < s2.numContacts ) link = s1.contactLink;\r\n            else link = s2.contactLink;\r\n\r\n            var exists = false;\r\n            while(link){\r\n                var contact = link.contact;\r\n                if( contact.shape1 == s1 && contact.shape2 == s2 ){\r\n                    contact.persisting = true;\r\n                    exists = true;// contact already exists\r\n                    break;\r\n                }\r\n                link = link.next;\r\n            }\r\n            if(!exists){\r\n                this.addContact( s1, s2 );\r\n            }\r\n        }// while(i-- >0);\r\n\r\n        if( stat ) this.performance.calcBroadPhase();\r\n\r\n        //------------------------------------------------------\r\n        //   UPDATE NARROWPHASE CONTACT\r\n        //------------------------------------------------------\r\n\r\n        // update & narrow phase\r\n        this.numContactPoints = 0;\r\n        contact = this.contacts;\r\n        while( contact!==null ){\r\n            if(!contact.persisting){\r\n                if ( contact.shape1.aabb.intersectTest( contact.shape2.aabb ) ) {\r\n                /*var aabb1=contact.shape1.aabb;\r\n                var aabb2=contact.shape2.aabb;\r\n                if(\r\n\t                aabb1.minX>aabb2.maxX || aabb1.maxX<aabb2.minX ||\r\n\t                aabb1.minY>aabb2.maxY || aabb1.maxY<aabb2.minY ||\r\n\t                aabb1.minZ>aabb2.maxZ || aabb1.maxZ<aabb2.minZ\r\n                ){*/\r\n                    var next = contact.next;\r\n                    this.removeContact(contact);\r\n                    contact = next;\r\n                    continue;\r\n                }\r\n            }\r\n            var b1 = contact.body1;\r\n            var b2 = contact.body2;\r\n\r\n            if( b1.isDynamic && !b1.sleeping || b2.isDynamic && !b2.sleeping ) contact.updateManifold();\r\n\r\n            this.numContactPoints += contact.manifold.numPoints;\r\n            contact.persisting = false;\r\n            contact.constraint.addedToIsland = false;\r\n            contact = contact.next;\r\n\r\n        }\r\n\r\n        if( stat ) this.performance.calcNarrowPhase();\r\n\r\n        //------------------------------------------------------\r\n        //   SOLVE ISLANDS\r\n        //------------------------------------------------------\r\n\r\n        var invTimeStep = 1 / this.timeStep;\r\n        var joint;\r\n        var constraint;\r\n\r\n        for( joint = this.joints; joint !== null; joint = joint.next ){\r\n            joint.addedToIsland = false;\r\n        }\r\n\r\n\r\n        // clear old island array\r\n        this.islandRigidBodies = [];\r\n        this.islandConstraints = [];\r\n        this.islandStack = [];\r\n\r\n        if( stat ) this.performance.setTime( 1 );\r\n\r\n        this.numIslands = 0;\r\n\r\n        // build and solve simulation islands\r\n\r\n        for( var base = this.rigidBodies; base !== null; base = base.next ){\r\n\r\n            if( base.addedToIsland || base.isStatic || base.sleeping ) continue;// ignore\r\n\r\n            if( base.isLonely() ){// update single body\r\n                if( base.isDynamic ){\r\n                    base.linearVelocity.addScaledVector( this.gravity, this.timeStep );\r\n                    /*base.linearVelocity.x+=this.gravity.x*this.timeStep;\r\n                    base.linearVelocity.y+=this.gravity.y*this.timeStep;\r\n                    base.linearVelocity.z+=this.gravity.z*this.timeStep;*/\r\n                }\r\n                if( this.callSleep( base ) ) {\r\n                    base.sleepTime += this.timeStep;\r\n                    if( base.sleepTime > 0.5 ) base.sleep();\r\n                    else base.updatePosition( this.timeStep );\r\n                }else{\r\n                    base.sleepTime = 0;\r\n                    base.updatePosition( this.timeStep );\r\n                }\r\n                this.numIslands++;\r\n                continue;\r\n            }\r\n\r\n            var islandNumRigidBodies = 0;\r\n            var islandNumConstraints = 0;\r\n            var stackCount = 1;\r\n            // add rigid body to stack\r\n            this.islandStack[0] = base;\r\n            base.addedToIsland = true;\r\n\r\n            // build an island\r\n            do{\r\n                // get rigid body from stack\r\n                body = this.islandStack[--stackCount];\r\n                this.islandStack[stackCount] = null;\r\n                body.sleeping = false;\r\n                // add rigid body to the island\r\n                this.islandRigidBodies[islandNumRigidBodies++] = body;\r\n                if(body.isStatic) continue;\r\n\r\n                // search connections\r\n                for( var cs = body.contactLink; cs !== null; cs = cs.next ) {\r\n                    var contact = cs.contact;\r\n                    constraint = contact.constraint;\r\n                    if( constraint.addedToIsland || !contact.touching ) continue;// ignore\r\n\r\n                    // add constraint to the island\r\n                    this.islandConstraints[islandNumConstraints++] = constraint;\r\n                    constraint.addedToIsland = true;\r\n                    var next = cs.body;\r\n\r\n                    if(next.addedToIsland) continue;\r\n\r\n                    // add rigid body to stack\r\n                    this.islandStack[stackCount++] = next;\r\n                    next.addedToIsland = true;\r\n                }\r\n                for( var js = body.jointLink; js !== null; js = js.next ) {\r\n                    constraint = js.joint;\r\n\r\n                    if(constraint.addedToIsland) continue;// ignore\r\n\r\n                    // add constraint to the island\r\n                    this.islandConstraints[islandNumConstraints++] = constraint;\r\n                    constraint.addedToIsland = true;\r\n                    next = js.body;\r\n                    if( next.addedToIsland || !next.isDynamic ) continue;\r\n\r\n                    // add rigid body to stack\r\n                    this.islandStack[stackCount++] = next;\r\n                    next.addedToIsland = true;\r\n                }\r\n            } while( stackCount != 0 );\r\n\r\n            // update velocities\r\n            var gVel = new Vec3().addScaledVector( this.gravity, this.timeStep );\r\n            /*var gx=this.gravity.x*this.timeStep;\r\n            var gy=this.gravity.y*this.timeStep;\r\n            var gz=this.gravity.z*this.timeStep;*/\r\n            var j = islandNumRigidBodies;\r\n            while (j--){\r\n            //or(var j=0, l=islandNumRigidBodies; j<l; j++){\r\n                body = this.islandRigidBodies[j];\r\n                if(body.isDynamic){\r\n                    body.linearVelocity.addEqual(gVel);\r\n                    /*body.linearVelocity.x+=gx;\r\n                    body.linearVelocity.y+=gy;\r\n                    body.linearVelocity.z+=gz;*/\r\n                }\r\n            }\r\n\r\n            // randomizing order\r\n            if(this.enableRandomizer){\r\n                //for(var j=1, l=islandNumConstraints; j<l; j++){\r\n                j = islandNumConstraints;\r\n                while(j--){ if(j!==0){\r\n                        var swap = (this.randX=(this.randX*this.randA+this.randB&0x7fffffff))/2147483648.0*j|0;\r\n                        constraint = this.islandConstraints[j];\r\n                        this.islandConstraints[j] = this.islandConstraints[swap];\r\n                        this.islandConstraints[swap] = constraint;\r\n                    }\r\n                }\r\n            }\r\n\r\n            // solve contraints\r\n\r\n            j = islandNumConstraints;\r\n            while(j--){\r\n            //for(j=0, l=islandNumConstraints; j<l; j++){\r\n                this.islandConstraints[j].preSolve( this.timeStep, invTimeStep );// pre-solve\r\n            }\r\n            var k = this.numIterations;\r\n            while(k--){\r\n            //for(var k=0, l=this.numIterations; k<l; k++){\r\n                j = islandNumConstraints;\r\n                while(j--){\r\n                //for(j=0, m=islandNumConstraints; j<m; j++){\r\n                    this.islandConstraints[j].solve();// main-solve\r\n                }\r\n            }\r\n            j = islandNumConstraints;\r\n            while(j--){\r\n            //for(j=0, l=islandNumConstraints; j<l; j++){\r\n                this.islandConstraints[j].postSolve();// post-solve\r\n                this.islandConstraints[j] = null;// gc\r\n            }\r\n\r\n            // sleeping check\r\n\r\n            var sleepTime = 10;\r\n            j = islandNumRigidBodies;\r\n            while(j--){\r\n            //for(j=0, l=islandNumRigidBodies;j<l;j++){\r\n                body = this.islandRigidBodies[j];\r\n                if( this.callSleep( body ) ){\r\n                    body.sleepTime += this.timeStep;\r\n                    if( body.sleepTime < sleepTime ) sleepTime = body.sleepTime;\r\n                }else{\r\n                    body.sleepTime = 0;\r\n                    sleepTime = 0;\r\n                    continue;\r\n                }\r\n            }\r\n            if(sleepTime > 0.5){\r\n                // sleep the island\r\n                j = islandNumRigidBodies;\r\n                while(j--){\r\n                //for(j=0, l=islandNumRigidBodies;j<l;j++){\r\n                    this.islandRigidBodies[j].sleep();\r\n                    this.islandRigidBodies[j] = null;// gc\r\n                }\r\n            }else{\r\n                // update positions\r\n                j = islandNumRigidBodies;\r\n                while(j--){\r\n                //for(j=0, l=islandNumRigidBodies;j<l;j++){\r\n                    this.islandRigidBodies[j].updatePosition( this.timeStep );\r\n                    this.islandRigidBodies[j] = null;// gc\r\n                }\r\n            }\r\n            this.numIslands++;\r\n        }\r\n\r\n        //------------------------------------------------------\r\n        //   END SIMULATION\r\n        //------------------------------------------------------\r\n\r\n        if( stat ) this.performance.calcEnd();\r\n\r\n        if( this.postLoop !== null ) this.postLoop();\r\n\r\n    },\r\n\r\n    // remove someting to world\r\n\r\n    remove: function( obj ){\r\n\r\n    },\r\n\r\n    // add someting to world\r\n    \r\n    add: function( o ){\r\n\r\n        o = o || {};\r\n\r\n        var type = o.type || \"box\";\r\n        if( type.constructor === String ) type = [ type ];\r\n        var isJoint = type[0].substring( 0, 5 ) === 'joint' ? true : false;\r\n\r\n        if( isJoint ) return this.initJoint( type[0], o );\r\n        else return this.initBody( type, o );\r\n\r\n    },\r\n\r\n    initBody: function( type, o ){\r\n\r\n        var invScale = this.invScale;\r\n\r\n        // body dynamic or static\r\n        var move = o.move || false;\r\n        var kinematic = o.kinematic || false;\r\n\r\n        // POSITION\r\n\r\n        // body position\r\n        var p = o.pos || [0,0,0];\r\n        p = p.map( function(x) { return x * invScale; } );\r\n\r\n        // shape position\r\n        var p2 = o.posShape || [0,0,0];\r\n        p2 = p2.map( function(x) { return x * invScale; } );\r\n\r\n        // ROTATION\r\n\r\n        // body rotation in degree\r\n        var r = o.rot || [0,0,0];\r\n        r = r.map( function(x) { return x * _Math.degtorad; } );\r\n\r\n        // shape rotation in degree\r\n        var r2 = o.rotShape || [0,0,0];\r\n        r2 = r.map( function(x) { return x * _Math.degtorad; } );\r\n\r\n        // SIZE\r\n\r\n        // shape size\r\n        var s = o.size === undefined ? [1,1,1] : o.size;\r\n        if( s.length === 1 ){ s[1] = s[0]; }\r\n        if( s.length === 2 ){ s[2] = s[0]; }\r\n        s = s.map( function(x) { return x * invScale; } );\r\n\r\n        \r\n\r\n        // body physics settings\r\n        var sc = new ShapeConfig();\r\n        // The density of the shape.\r\n        if( o.density !== undefined ) sc.density = o.density;\r\n        // The coefficient of friction of the shape.\r\n        if( o.friction !== undefined ) sc.friction = o.friction;\r\n        // The coefficient of restitution of the shape.\r\n        if( o.restitution !== undefined ) sc.restitution = o.restitution;\r\n        // The bits of the collision groups to which the shape belongs.\r\n        if( o.belongsTo !== undefined ) sc.belongsTo = o.belongsTo;\r\n        // The bits of the collision groups with which the shape collides.\r\n        if( o.collidesWith !== undefined ) sc.collidesWith = o.collidesWith;\r\n\r\n        if(o.config !== undefined ){\r\n            if( o.config[0] !== undefined ) sc.density = o.config[0];\r\n            if( o.config[1] !== undefined ) sc.friction = o.config[1];\r\n            if( o.config[2] !== undefined ) sc.restitution = o.config[2];\r\n            if( o.config[3] !== undefined ) sc.belongsTo = o.config[3];\r\n            if( o.config[4] !== undefined ) sc.collidesWith = o.config[4];\r\n        }\r\n\r\n\r\n       /* if(o.massPos){\r\n            o.massPos = o.massPos.map(function(x) { return x * invScale; });\r\n            sc.relativePosition.set( o.massPos[0], o.massPos[1], o.massPos[2] );\r\n        }\r\n        if(o.massRot){\r\n            o.massRot = o.massRot.map(function(x) { return x * _Math.degtorad; });\r\n            var q = new Quat().setFromEuler( o.massRot[0], o.massRot[1], o.massRot[2] );\r\n            sc.relativeRotation = new Mat33().setQuat( q );//_Math.EulerToMatrix( o.massRot[0], o.massRot[1], o.massRot[2] );\r\n        }*/\r\n\r\n        var position = new Vec3( p[0], p[1], p[2] );\r\n        var rotation = new Quat().setFromEuler( r[0], r[1], r[2] );\r\n\r\n        // rigidbody\r\n        var body = new RigidBody( position, rotation );\r\n        //var body = new RigidBody( p[0], p[1], p[2], r[0], r[1], r[2], r[3], this.scale, this.invScale );\r\n\r\n        // SHAPES\r\n\r\n        var shape, n;\r\n\r\n        for( var i = 0; i < type.length; i++ ){\r\n\r\n            n = i * 3;\r\n\r\n            if( p2[n] !== undefined ) sc.relativePosition.set( p2[n], p2[n+1], p2[n+2] );\r\n            if( r2[n] !== undefined ) sc.relativeRotation.setQuat( new Quat().setFromEuler( r2[n], r2[n+1], r2[n+2] ) );\r\n            \r\n            switch( type[i] ){\r\n                case \"sphere\": shape = new Sphere( sc, s[n] ); break;\r\n                case \"cylinder\": shape = new Cylinder( sc, s[n], s[n+1] ); break;\r\n                case \"box\": shape = new Box( sc, s[n], s[n+1], s[n+2] ); break;\r\n                case \"plane\": shape = new Plane( sc ); break\r\n            }\r\n\r\n            body.addShape( shape );\r\n            \r\n        }\r\n\r\n        // body can sleep or not\r\n        if( o.neverSleep || kinematic) body.allowSleep = false;\r\n        else body.allowSleep = true;\r\n\r\n        body.isKinematic = kinematic;\r\n\r\n        // body static or dynamic\r\n        if( move ){\r\n\r\n            if(o.massPos || o.massRot) body.setupMass( BODY_DYNAMIC, false );\r\n            else body.setupMass( BODY_DYNAMIC, true );\r\n\r\n            // body can sleep or not\r\n            //if( o.neverSleep ) body.allowSleep = false;\r\n            //else body.allowSleep = true;\r\n\r\n        } else {\r\n\r\n            body.setupMass( BODY_STATIC );\r\n\r\n        }\r\n\r\n        if( o.name !== undefined ) body.name = o.name;\r\n        //else if( move ) body.name = this.numRigidBodies;\r\n\r\n        // finaly add to physics world\r\n        this.addRigidBody( body );\r\n\r\n        // force sleep on not\r\n        if( move ){\r\n            if( o.sleep ) body.sleep();\r\n            else body.awake();\r\n        }\r\n\r\n        return body;\r\n\r\n\r\n    },\r\n\r\n    initJoint: function( type, o ){\r\n\r\n        //var type = type;\r\n        var invScale = this.invScale;\r\n\r\n        var axe1 = o.axe1 || [1,0,0];\r\n        var axe2 = o.axe2 || [1,0,0];\r\n        var pos1 = o.pos1 || [0,0,0];\r\n        var pos2 = o.pos2 || [0,0,0];\r\n\r\n        pos1 = pos1.map(function(x){ return x * invScale; });\r\n        pos2 = pos2.map(function(x){ return x * invScale; });\r\n\r\n        var min, max;\r\n        if( type === \"jointDistance\" ){\r\n            min = o.min || 0;\r\n            max = o.max || 10;\r\n            min = min * invScale;\r\n            max = max * invScale;\r\n        }else{\r\n            min = o.min || 57.29578;\r\n            max = o.max || 0;\r\n            min = min * _Math.degtorad;\r\n            max = max * _Math.degtorad;\r\n        }\r\n\r\n        var limit = o.limit || null;\r\n        var spring = o.spring || null;\r\n        var motor = o.motor || null;\r\n\r\n        // joint setting\r\n        var jc = new JointConfig();\r\n        jc.scale = this.scale;\r\n        jc.invScale = this.invScale;\r\n        jc.allowCollision = o.collision || false;\r\n        jc.localAxis1.set( axe1[0], axe1[1], axe1[2] );\r\n        jc.localAxis2.set( axe2[0], axe2[1], axe2[2] );\r\n        jc.localAnchorPoint1.set( pos1[0], pos1[1], pos1[2] );\r\n        jc.localAnchorPoint2.set( pos2[0], pos2[1], pos2[2] );\r\n\r\n        var b1 = null;\r\n        var b2 = null;\r\n\r\n        if( o.body1 === undefined || o.body2 === undefined ) return printError('World', \"Can't add joint if attach rigidbodys not define !\" );\r\n\r\n        if ( o.body1.constructor === String ) { b1 = this.getByName( o.body1 ); }\r\n        else if ( o.body1.constructor === Number ) { b1 = this.getByName( o.body1 ); }\r\n        else if ( o.body1.constructor === RigidBody ) { b1 = o.body1; }\r\n\r\n        if ( o.body2.constructor === String ) { b2 = this.getByName( o.body2 ); }\r\n        else if ( o.body2.constructor === Number ) { b2 = this.getByName( o.body2 ); }\r\n        else if ( o.body2.constructor === RigidBody ) { b2 = o.body2; }\r\n\r\n        if( b1 === null || b2 === null ) return printError('World', \"Can't add joint attach rigidbodys not find !\" );\r\n\r\n        jc.body1 = b1;\r\n        jc.body2 = b2;\r\n\r\n        var joint;\r\n        switch( type ){\r\n            case \"jointDistance\": joint = new DistanceJoint(jc, min, max);\r\n                if(spring !== null) joint.limitMotor.setSpring( spring[0], spring[1] );\r\n                if(motor !== null) joint.limitMotor.setMotor( motor[0], motor[1] );\r\n            break;\r\n            case \"jointHinge\": case \"joint\": joint = new HingeJoint(jc, min, max);\r\n                if(spring !== null) joint.limitMotor.setSpring( spring[0], spring[1] );// soften the joint ex: 100, 0.2\r\n                if(motor !== null) joint.limitMotor.setMotor( motor[0], motor[1] );\r\n            break;\r\n            case \"jointPrisme\": joint = new PrismaticJoint(jc, min, max); break;\r\n            case \"jointSlide\": joint = new SliderJoint(jc, min, max); break;\r\n            case \"jointBall\": joint = new BallAndSocketJoint(jc); break;\r\n            case \"jointWheel\": joint = new WheelJoint(jc);\r\n                if(limit !== null) joint.rotationalLimitMotor1.setLimit( limit[0], limit[1] );\r\n                if(spring !== null) joint.rotationalLimitMotor1.setSpring( spring[0], spring[1] );\r\n                if(motor !== null) joint.rotationalLimitMotor1.setMotor( motor[0], motor[1] );\r\n            break;\r\n        }\r\n\r\n        joint.name = o.name || '';\r\n        // finaly add to physics world\r\n        this.addJoint( joint );\r\n\r\n        return joint;\r\n\r\n    },\r\n\r\n\r\n} );\n\n// test version\r\n\r\n//export { RigidBody } from './core/RigidBody_X.js';\r\n//export { World } from './core/World_X.js';\n\nexport { _Math as Math, Vec3, Quat, Mat33, Shape, Box, Sphere, Cylinder, Plane, Particle, ShapeConfig, LimitMotor, HingeJoint, BallAndSocketJoint, DistanceJoint, PrismaticJoint, SliderJoint, WheelJoint, JointConfig, RigidBody, World, REVISION, BR_NULL, BR_BRUTE_FORCE, BR_SWEEP_AND_PRUNE, BR_BOUNDING_VOLUME_TREE, BODY_NULL, BODY_DYNAMIC, BODY_STATIC, BODY_KINEMATIC, BODY_GHOST, SHAPE_NULL, SHAPE_SPHERE, SHAPE_BOX, SHAPE_CYLINDER, SHAPE_PLANE, SHAPE_PARTICLE, SHAPE_TETRA, JOINT_NULL, JOINT_DISTANCE, JOINT_BALL_AND_SOCKET, JOINT_HINGE, JOINT_WHEEL, JOINT_SLIDER, JOINT_PRISMATIC, AABB_PROX, printError, InfoDisplay };\n"],
  "mappings": "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AAGA,SAAK,OAAK,KAAK,MAAI,KAAK,QAAM,KAAK,MAAI,KAAK,QAAM,KAAK,MAAI,KAAK;AAChE,SAAK,OAAK,KAAK,MAAI,KAAK,QAAM,KAAK,MAAI,KAAK,QAAM,KAAK,MAAI,KAAK;AAChE,SAAK,OAAK,KAAK,MAAI,KAAK,QAAM,KAAK,MAAI,KAAK,QAAM,KAAK,MAAI,KAAK;AAChE,SAAK,OAAK,KAAK,MAAI,KAAK,QAAM,KAAK,MAAI,KAAK,QAAM,KAAK,MAAI,KAAK;AAChE,SAAK,OAAK,KAAK,MAAI,KAAK,QAAM,KAAK,MAAI,KAAK,QAAM,KAAK,MAAI,KAAK;AAChE,SAAK,OAAK,KAAK,MAAI,KAAK,QAAM,KAAK,MAAI,KAAK,QAAM,KAAK,MAAI,KAAK;AAEhE,SAAK,OAAK,KAAK,MAAI,KAAK,QAAM,KAAK,MAAI,KAAK,QAAM,KAAK,MAAI,KAAK;AAChE,SAAK,OAAK,KAAK,MAAI,KAAK,QAAM,KAAK,MAAI,KAAK,QAAM,KAAK,MAAI,KAAK;AAChE,SAAK,OAAK,KAAK,MAAI,KAAK,QAAM,KAAK,MAAI,KAAK,QAAM,KAAK,MAAI,KAAK;AAChE,SAAK,OAAK,KAAK,MAAI,KAAK,QAAM,KAAK,MAAI,KAAK,QAAM,KAAK,MAAI,KAAK;AAChE,SAAK,OAAK,KAAK,MAAI,KAAK,QAAM,KAAK,MAAI,KAAK,QAAM,KAAK,MAAI,KAAK;AAChE,SAAK,OAAK,KAAK,MAAI,KAAK,QAAM,KAAK,MAAI,KAAK,QAAM,KAAK,MAAI,KAAK;AAEhE,SAAK,OAAK,KAAK,MAAI,KAAK,QAAM,KAAK,MAAI,KAAK,QAAM,KAAK,MAAI,KAAK;AAChE,SAAK,OAAK,KAAK,MAAI,KAAK,QAAM,KAAK,MAAI,KAAK,QAAM,KAAK,MAAI,KAAK;AAChE,SAAK,OAAK,KAAK,MAAI,KAAK,QAAM,KAAK,MAAI,KAAK,QAAM,KAAK,MAAI,KAAK;AAChE,SAAK,OAAK,KAAK,MAAI,KAAK,QAAM,KAAK,MAAI,KAAK,QAAM,KAAK,MAAI,KAAK;AAChE,SAAK,OAAK,KAAK,MAAI,KAAK,QAAM,KAAK,MAAI,KAAK,QAAM,KAAK,MAAI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,OAAK,KAAK,MAAI,KAAK,MAAI,KAAK,MAAI,KAAK;AAC1C,SAAK,OAAK,KAAK,MAAI,KAAK,MAAI,KAAK,MAAI,KAAK;AAC1C,SAAK,OAAK,KAAK,MAAI,KAAK,MAAI,KAAK,MAAI,KAAK;AAC1C,SAAK,OAAK,KAAK,MAAI,KAAK,MAAI,KAAK,MAAI,KAAK;AAC1C,SAAK,OAAK,KAAK,MAAI,KAAK;AACxB,SAAK,OAAK,KAAK,MAAI,KAAK;AACxB,SAAK,OAAK,KAAK,MAAI,KAAK;AACxB,SAAK,OAAK,KAAK,MAAI,KAAK;AACxB,SAAK,OAAK,KAAK,MAAI,KAAK;AACxB,SAAK,OAAK,KAAK,MAAI,KAAK;AACxB,SAAK,OAAK,KAAK,OAAK,KAAK,QAAM,KAAK,OAAK,KAAK,QAAM,KAAK,OAAK,KAAK;AACnE,SAAK,OAAK,KAAK,OAAK,KAAK,QAAM,KAAK,OAAK,KAAK,QAAM,KAAK,OAAK,KAAK;AACnE,SAAK,OAAK,KAAK,OAAK,KAAK,QAAM,KAAK,OAAK,KAAK,QAAM,KAAK,OAAK,KAAK;AACnE,SAAK,OAAK,KAAK,OAAK,KAAK,QAAM,KAAK,OAAK,KAAK,QAAM,KAAK,OAAK,KAAK;AACnE,SAAK,OAAK,KAAK,OAAK,KAAK,QAAM,KAAK,OAAK,KAAK,QAAM,KAAK,OAAK,KAAK;AACnE,SAAK,OAAK,KAAK,OAAK,KAAK,QAAM,KAAK,OAAK,KAAK,QAAM,KAAK,OAAK,KAAK;AAEnE,SAAK,OAAK,KAAK,MAAI,KAAK,MAAI,KAAK,MAAI,KAAK;AAC1C,SAAK,OAAK,KAAK,MAAI,KAAK,MAAI,KAAK,MAAI,KAAK;AAC1C,SAAK,OAAK,KAAK,MAAI,KAAK,MAAI,KAAK,MAAI,KAAK;AAC1C,SAAK,OAAK,KAAK,MAAI,KAAK,MAAI,KAAK,MAAI,KAAK;AAC1C,SAAK,OAAK,KAAK,MAAI,KAAK,MAAI,KAAK,MAAI,KAAK;AAC1C,SAAK,OAAK,KAAK,MAAI,KAAK,MAAI,KAAK,MAAI,KAAK;AAC1C,SAAK,OAAK,KAAK,MAAI,KAAK;AACxB,SAAK,OAAK,KAAK,MAAI,KAAK;AACxB,SAAK,OAAK,KAAK,MAAI,KAAK;AACxB,SAAK,OAAK,KAAK,MAAI,KAAK;AACxB,SAAK,OAAK,KAAK,MAAI,KAAK;AACxB,SAAK,OAAK,KAAK,MAAI,KAAK;AACxB,SAAK,OAAK,KAAK,OAAK,KAAK,QAAM,KAAK,OAAK,KAAK,QAAM,KAAK,OAAK,KAAK;AACnE,SAAK,OAAK,KAAK,OAAK,KAAK,QAAM,KAAK,OAAK,KAAK,QAAM,KAAK,OAAK,KAAK;AACnE,SAAK,OAAK,KAAK,OAAK,KAAK,QAAM,KAAK,OAAK,KAAK,QAAM,KAAK,OAAK,KAAK;AACnE,SAAK,OAAK,KAAK,OAAK,KAAK,QAAM,KAAK,OAAK,KAAK,QAAM,KAAK,OAAK,KAAK;AACnE,SAAK,OAAK,KAAK,OAAK,KAAK,QAAM,KAAK,OAAK,KAAK,QAAM,KAAK,OAAK,KAAK;AACnE,SAAK,OAAK,KAAK,OAAK,KAAK,QAAM,KAAK,OAAK,KAAK,QAAM,KAAK,OAAK,KAAK;AAEnE,SAAK,OAAK,KAAK,MAAI,KAAK,MAAI,KAAK,MAAI,KAAK;AAC1C,SAAK,OAAK,KAAK,MAAI,KAAK,MAAI,KAAK,MAAI,KAAK;AAC1C,SAAK,OAAK,KAAK,MAAI,KAAK,MAAI,KAAK,MAAI,KAAK;AAC1C,SAAK,OAAK,KAAK,MAAI,KAAK,MAAI,KAAK,MAAI,KAAK;AAC1C,SAAK,OAAK,KAAK,MAAI,KAAK,MAAI,KAAK,MAAI,KAAK;AAC1C,SAAK,OAAK,KAAK,MAAI,KAAK,MAAI,KAAK,MAAI,KAAK;AAC1C,SAAK,OAAK,KAAK,MAAI,KAAK;AACxB,SAAK,OAAK,KAAK,MAAI,KAAK;AACxB,SAAK,OAAK,KAAK,MAAI,KAAK;AACxB,SAAK,OAAK,KAAK,MAAI,KAAK;AACxB,SAAK,OAAK,KAAK,MAAI,KAAK;AACxB,SAAK,OAAK,KAAK,MAAI,KAAK;AACxB,SAAK,OAAK,KAAK,OAAK,KAAK,QAAM,KAAK,OAAK,KAAK,QAAM,KAAK,OAAK,KAAK;AACnE,SAAK,OAAK,KAAK,OAAK,KAAK,QAAM,KAAK,OAAK,KAAK,QAAM,KAAK,OAAK,KAAK;AACnE,SAAK,OAAK,KAAK,OAAK,KAAK,QAAM,KAAK,O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",
  "names": ["i", "count"]
}
